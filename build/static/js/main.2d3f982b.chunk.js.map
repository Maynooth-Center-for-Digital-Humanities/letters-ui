{"version":3,"sources":["assets/images/logo-update.png","assets/images/mu-logo-white-footer.png","assets/images/IRC_LOGO_White.png","assets/images/SFI_logo_2017_greyscaled.png","assets/images/logo-stamp-small.png","assets/images/carousel/default.png","assets/images/letters-map-thumbnail.png","assets/images/letters-graph-thumbnail.png","assets/jquery/include.js","common/constants.js","helpers/preload-content.js","helpers/helpers.js","components/login.modal.js","components/header-search.js","common/header.js","helpers/subscribe-to-newsletter.js","components/footer-menu.js","common/footer.js","components/navbar.js","components/scrolltotop.js","components/cookies-consent.js","components/carousel.js","components/home-about.js","components/home-letters-block.js","components/highlights-block.js","components/twitter-feed.js","components/home-vizualizations-block.js","components/home-news.js","views/home.js","components/breadcrumbs.js","helpers/pagination.js","components/search-letters.js","components/search-wp.js","views/search.js","components/topics-block.js","components/sources-block.js","components/authors-block.js","components/genders-block.js","components/languages-block.js","components/datepicker.js","components/date_created-block.js","views/browse.js","views/password.restore.js","views/password.reset.js","views/register.js","views/verify-account.js","helpers/letter-upload-xml.js","views/item.js","components/protected-page.js","views/upload-xml.js","views/content.js","components/wp-tiles-gallery.js","views/wp-content.js","views/wp-category.js","views/wp-pages.js","views/blank.js","components/vizualizations-map.js","components/vizualizations-graph.js","views/vizualizations.js","views/wp-contact-form.js","components/transcribe/image-viewer.js","components/transcribe/pages-list.js","components/transcribe/editor-ck.js","helpers/xml-editor/xml-editor.js","views/transcription-letter.js","components/confirm-modal.js","views/user-profile.js","components/transcribe/keywords-select.js","components/transcribe/authors-select.js","components/transcribe/sources-select.js","views/user-letter.js","views/user-letters.js","views/user-transcriptions.js","components/transcriptions-topics-block.js","components/transcriptions-sources-block.js","components/transcriptions-authors-block.js","components/transcriptions-genders-block.js","components/transcriptions-languages-block.js","components/transcriptions-date_created-block.js","views/transcriptions-desk.js","views/404.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","window","jQuery","$","domain","APIPath","WPRestPath","WPCustomRestPath","archivePath","escapeURLs","preloadContent","sessionStorage","setItem","axios","get","then","response","JSON","stringify","catch","error","console","log","params","slug","newData","data","newTitle","post_title","newContent","post_excerpt","about","title","content","discoverPost","thumbnail","permalink","transcribePost","contributePost","ToggleClass","node","class1","class2","classes","className","split","newClasses","indexOf","i","length","newClass","push","replaceClass","join","ReplaceClass","PreloaderCards","num","cards","card","react_default","a","createElement","key","Emptyitemscard","CompareFilterTopics","topicsArray","compareArray","groupChildren","document","getElementsByClassName","childNodes","groupChild","groupChildValue","innerText","classList","add","replace","remove","children","textContent","CompareFilterGeneral","selector","filterArray","SelectedTopicsChecked","groupChildTopicNode","getAttribute","currentClassName","element","querySelectorAll","label","SelectedFiltersChecked","groupChildValueArr","countText","trim","NormalizeWPURL","href","normalizedURL","newHref","includes","slice","hrefEnding","substr","lastIndexOf","hrefParent","NormalizeMenuWPURL","stripHTML","html","tmp","innerHTML","sessionCookie","userName","sessionActive","accessToken","expired","rememberMe","arguments","undefined","currentDate","Date","tomorrow","setDate","getDate","expires","expiredDate","nextYear","getFullYear","oneYearFromNow","setFullYear","setCookie","getCookie","cname","name","ca","decodeURIComponent","cookie","c","charAt","substring","value","toUTCString","location","hostname","fixImagePath","path","LoginModal","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleFormChange","bind","assertThisInitialized","handleFormSubmit","state","email","password","remember_me","login_error","login_error_class","redirect","event","target","type","checked","setState","defineProperty","preventDefault","loginModalContext","post","status","pathname","reload","errors","errorText","e","getItem","setTimeout","defaults","headers","common","link","onClick","loginModalOpen","dropdownTitle","DropdownButton","bsSize","id","MenuItem","eventKey","componentClass","Link","to","handleLogout","loginErrorHTML","redirectElement","modal","Modal","show","loginModalVisile","onHide","loginModalHide","Header","closeButton","Title","Body","onSubmit","placeholder","onChange","Redirect","React","Component","SearchInput","term","handleChange","handleSubmit","prevProps","prevState","from","pageHeader","rel","login_modal","src","logo","alt","header_search","NewsletterSubscribe","loader","subscribeResponse","subscribeResponseHidden","handleEmailChange","context","message","formHiddenClass","subscribeResponseHiddenClass","FooterMenu","navItems","parse","parseJSON","menuItem","relAttr","itemURL","url","navItem","getItems","year","pageFooter","MULogo","IRCLogo","SFILogo","footer_menu_FooterMenu","subscribe_to_newsletter_NewsletterSubscribe","bootstrapUtils","addStyle","Navbar","MainNavbar","fixed","redirectTarget","handleScroll","newArray","menu_item_parent","parent","parentId","parseInt","ID","getchildren","createMenu","j","childItem","childItemID","item","createNavItem","NavItem","dangerouslySetInnerHTML","__html","menuItemChildren","createNavItemChildren","NavDropdown","navTo","noCaret","childrenItems","child","childURL","childrenItem","addEventListener","removeEventListener","scrollY","fixedClass","es_Redirect","collapseOnSelect","bsStyle","Brand","logoSmall","Toggle","Collapse","Nav","ScrollToTopStyle","position","bottom","right","cursor","transition","opacity","visibility","zIndex","ScrollToTop","react_scroll_up_default","showUnder","style","CookiesConsent","visible","isVisible","acceptConsent","nextMonth","hiddenClass","ControlledCarousel","handleSelect","parseCarouselJSON","loading","index","direction","nextIcon","prevIcon","images","selectedIndex","rendered","carouselJSON","cheerio","load","each","imagePath","attr","imageTitle","imageDescription","carouselItemStyle","backgroundImage","backgroundSize","carouselTitle","carouseDescription","carouselItem","Carousel","Item","width","height","defaultImg","Caption","getImages","_this$state","minHeight","paddingTop","react_loading_default","color","delay","activeIndex","onSelect","HomeAbout","loadAbout","HomeLettersBlock","block1","block2","block3","createBlock","block","browse","loadBlock1","loadBlock2","loadBlock3","HighlightsBlock","items","setItems","highlight","descriptionText","post_name","loadItems","OwlCarousel_default","autoplay","autoplayhoverpause","margin","nav","navText","navContainerClass","dots","responsive","0","600","767","992","TwitterFeed","addScript","scriptContent","createTextNode","appendChild","body","data-height","data-widget-id","data-background","VizualizationsBlock","mapThumb","graphThumb","twitter_feed_TwitterFeed","HomeNews","loop","HomeView","_Component","apply","inherits","createClass","carousel","home_about_HomeAbout","home_news_HomeNews","home_letters_block_HomeLettersBlock","highlights_block_HighlightsBlock","home_vizualizations_block_VizualizationsBlock","BreadCrumbs","itemsHTML","listItem","Pagination","paginationItems","currentPage","current_page","lastPage","total_pages","prevPage","nextPage","paginationFirstItem","pagination_function","paginationPrevItem","pageNum","pageActive","paginationItem","paginationNextItem","paginationLastItem","createPagination","paginate","SearchLetters","browseItems","last_page","total","gotopage_value","temp_page","submitted_search","submit_search","gotoPage","showPage","updatePaginate","updatePageNumber","pageNumberSubmit","newPage","browseContext","page","responseData","itemsData","defaultThumbnail","pages","archive_filename","transcription","transcriptionText","browseItem","data-id","empty","resultsFound","resultsText","paginate10Active","paginate25Active","paginate50Active","paginationHTML","pagination_Pagination","searchContent","SearchWP","per_page","s","posts_per_page","description","newPermalink","SearchView","search_letters","search_content","getTerm","match","searchLetters","search_letters_SearchLetters","search_wp_SearchWP","breadcrumbs","toggleCheckbox","TopicsBlock","topics","autocomplete_visible","autocomplete_value","toggleElementChildren","toggleAutocomplete","autocomplete","targetNode","currentTarget","nextSibling","toggle","attributes","newValue","setAttribute","topic","topicItem","childrenHTML","toggleChildren","hasChildrenClass","topicChildren","data-toggle","data-key","returnfunction","data-default","count","childrenObject","data-parent","loadTopics","SourcesBlock","dataItem","sourceLabel","source","AuthorsBlock","authorLabel","creator","GendersBlock","genderLabel","gender","LanguageBlock","languageLabel","language","Picker","disabled","defaultDate","moment","es","dateFormat","selected","highlightDates","dates","openToDate","placeholderText","clearFunction","DatecreatedBlock","startValue","endValue","startOpen","endOpen","calendarDates","excludedDates","startDateClear","endDateClear","dateCreated","date_created","newDate","dataToArr","keys","map","field","newStartValue","newEndValue","format","returnValues","availableDates","updateItems","datepicker_Picker","BrowseView","topics_path","sort","firstLoad","selectedTopics","keywords_ids","sources","authors","genders","languages","dates_sent","date_start","date_end","queryStatus","queryTranscriptionStatus","updatePage","updateSort","topicFilter","filterContent","browserItems","sourcesFilter","authorsFilter","gendersFilter","languagesFilter","datecreatedFilter","setSessionStorage","checkSessionStorage","clearFilters","prevTopics","currentId","splice","prevSources","selectedSources","currentSource","prevAuthors","selectedAuthors","currentAuthor","prevGenders","selectedGenders","currentGender","prevLanguages","selectedLanguages","currentLanguage","dateStart","dateEnd","ReactDOM","findDOMNode","childrenTopics","childrenLi","liChildren","selectTopicI","secondChild","parentNode","selectedTopicsToggleChildren","className1","className2","keywords","transcription_status","comma","keyword","topic_ID","topic_name","storedState","newState","loadProgressBar","updateFilters","activeDesc","activeAsc","topics_block_TopicsBlock","sources_block_SourcesBlock","authors_block_AuthorsBlock","genders_block_GendersBlock","languages_block_LanguageBlock","date_created_block_DatecreatedBlock","PasswordRestoreView","submitStatus","success","successText","breadCrumbsArr","errorClass","submitPreloader","infoText","form","padding","contentHTML","PasswordResetView","password_confirm","passwordStrength","strengthClass","strengthLabel","errorValidation","passwordStrengthCalculate","arrayPost","password_confirmation","token","method","crossDomain","search","emailInput","focus","passwordInput","passwordConfirmInput","strongRegex","RegExp","mediumRegex","test","_this2","autoComplete","ref","input","paddingRight","RegisterView","license_agreement","subscribe_to_newsletter","errorStatus","errorMessage","showResponse","responseText","licenseAgreementText","subscribeToNewsletterText","loadRights","pageData","statusText","newLicenseAgreementText","newSubscribeToNewsletterText","assign","k","nameInput","licenceAgreementInput","contentTitle","pageContent","VerifyAccountView","errorMsg","verifyAccount","activation_code","LetterUploadXML","files","dissaproved_files","post_status","upload_loader","progress_bar_text","progress_bar_width","view_updated_page_btn","onDrop","uploadFiles","viewUpdated","approvedFiles","disapprovedFiles","file","postData","FormData","forEach","append","config","Content-Type","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","progressBarText","parseFloat","toFixed","progressBarWidth","documentId","document_id","refreshPageBtn","filesList","dissaprovedFilesList","uploadBtn","f","size","statusBarInnerStyle","progressBar","stateWidth","stateText","dist_es","multiple","ItemView","sent_location","recipient","time_zone","collection","number_pages","request_time","terms_of_use","collection_id","creator_gender","doc_collection","creator_location","modified_timestamp","recipient_location","copyright_statement","year_of_death_of_author","thumbnails","imagesPaths","transcriptions","transcriptionActive","imageActive","imageActiveLoading","imageActiveLoaderHeight","photoIndex","isOpen","downloadLink","notFound","toggleLetterInfo","showBigImage","stopPropagation","infoTrigger","infoContainer","containerHeight","imageContainer","clientHeight","itemContext","getPath","itemId","letterId","dateSent","daySent","getMonth","imagePaths","pageCount","thumbPath","page_id","image","onLoad","handleImageLoaded","fileLink","download","original_filename","collection_ID","loadItem","activeImg","owlThumbnails","activeImgStyle","creatorRow","dateCreatedRow","sentLocationRow","sourceCollectionRow","languageRow","numpagesRow","recipientRow","recipientLocationRow","sourceRow","downloadRow","documentIdRow","letterUploadBox","isAdmin","letter_upload_xml_LetterUploadXML","letterDetailsInfo","500","main_default","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","ProtectedPage","UploadXML","protected_page_ProtectedPage","ContentView","aboutHTML","contentName","TilesGallery","display","overflow","Gallery_default","enableImageSelection","WPContentView","getPage","Parser","domNode","attribs","text","domToReact","class","galleryItems","img","imgWidth","imgHeight","newImage","thumbnailWidth","thumbnailHeight","caption","thumbnailCaption","isSelected","wp_tiles_gallery_TilesGallery","postDate","cleanContent","cleanContentURLs","categories","post_modified","WPCategoryView","category_name","orderby","categoryName","category","cat_name","WPPagesView","BlankView","VizualizationsMap","fullScreenBtnClass","fullScreenStatus","iframeWidth","iframeHeight","containerStyle","toggleFullScreen","cancelFullScreen","requestFullScreen","left","top","el","requestMethod","webkitCancelFullScreen","mozCancelFullScreen","exitFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","innerHeight","wpText","iframe","VizualizationsGraph","VizualizationsView","viewType","embedMap","embedGraph","vizualizations_map_VizualizationsMap","vizualizations_graph_VizualizationsGraph","ContactFormView","subject","form_error","form_error_class","response_text","form_status","buttonTxt","recaptchaLoaded","onLoadRecaptcha","verifyCallback","formSubmitErrorCheck","recaptchaResponse","recaptcha","reset","loadReCaptcha","reCaptcha","react_recaptcha_google_dist","render","sitekey","onloadCallback","rows","TranscriptionImageViewer","positionX","positionY","dragging","imgRef","createRef","handleStop","handleStart","rect","current","getBoundingClientRect","imgTop","imgRight","imgBottom","newWidth","newHeight","newImgTop","newImgLeft","getElementById","imgTransform","transform","imgTransformArr","newX","newY","pageSource","imgStyle","draggingClass","react_draggable_default","defaultPosition","x","y","onStart","onStop","draggable","imgViewerHTML","lib","defaultSize","maxWidth","minWidth","updateViewer","TranscriptionPagesList","renderThumbnails","newThumbnails","transcriptionStatus","pageStatus","selectedClass","function","400","1200","TranscriptionEditor","saving","docked","handle","isResizing","undockedWidth","resize","dragover","textarea_disabled","allowSave","elementName","onInput","updateTranscription","resetAllowSave","resizing","unsetResize","updateEditorView","setHandle","startDrag","endDrag","dragStop","dragOver","dragEnter","dragLeave","editorRef","newProps","newTranscription","CKEDITOR","instances","destroy","updatePages","on","instanceReady","inputTimeout","stop","cancel","getData","clearTimeout","disableNav","transcription_content","archiveFilename","newError","msg","enableNav","contentMarkup","setData","dataTransfer","dropEffect","clientX","clientY","offsetLeft","offsetTop","undockedStyle","dropzoneClass","dragOverClass","dragHandle","onMouseDown","onMouseUp","unsetHandle","editorVisibleClass","onDragEnter","onDragOver","onDragLeave","onDragStart","TranscriptionLetterView","containerClass","prevlocation","prevlocationpath","navDisabled","selectedPage","adminModal","updateErrorState","showAdminModal","handleClose","postPath","updatedPage","history","newPageStatus","pages_list_TranscriptionPagesList","image_viewer_TranscriptionImageViewer","editor_ck_TranscriptionEditor","breadCrumbsPath","ConfirmModal","headerText","bodyText","buttonCancel","buttonSuccess","buttonCancelText","buttonSuccessText","showModal","handleShow","returnFunction","newModal","Footer","UserProfileView","userEmail","createdAt","numLetters","numTranscriptions","showUpdateModal","updateSubmitStatus","updateName","updateEmail","updateErrorShow","updateErrorMessage","showPasswordModal","passwordSubmitStatus","updatePassword","updatePasswordConfirm","passwordErrorShow","passwordErrorMessage","forgetMeErrorShow","forgetMeErrorMessage","showForgetMeConfirm","handleUpdateModalShow","handleUpdateModalClose","handleUpdateFormChange","handleUpdateFormSubmit","updateErrorValidation","handlePasswordModalShow","handlePasswordModalClose","handlePasswordFormChange","handlePasswordFormSubmit","passwordErrorValidation","hideForgetMeConfirm","forgetMeSubmit","created_at","num_letters","num_transcriptions","userUpdateModal","passwordModal","forgetMeModal","forgetMeErrorClass","updateErrorClass","passwordErrorClass","dateLabel","getUTCMonth","getUTCDate","getUTCFullYear","confirm_modal_ConfirmModal","KeywordsSelect","keywordsOptions","selectedOption","loadKeywords","keywordItem","isChild","keywordChildren","topic_id","flattenedOptions","flattenDeep","arr","reduce","acc","Array","isArray","concat","react_select_es","onChangeFunction","options","multi","removeSelected","optionComponent","ListItemOption","propTypes","PropTypes","string","isDisabled","bool","isFocused","onFocus","func","option","object","isRequired","handleMouseDown","handleMouseEnter","handleMouseMove","childClass","onMouseEnter","onMouseMove","AuthorsSelect","selectOptions","row","SourcesSelect","UserLetterView","additional_information","month","day","letter_from","letter_to","notes","additional_img_info","terms","license","filesErrorText","filesError","imageBlocks","daysOptions","imagesPreview","updateBtnText","terms_of_useChecked","copyright_statementChecked1","copyright_statementChecked2","showDeleteConfirm","deleteConfirmSubmit","showDeleteLetterConfirm","deleteLetterConfirmSubmit","enableTranscription","calculateDays","yearOfDeathList","propChecked","handleSelectFormChange","removeImageBlock","addImageBlock","onDragEnd","reorderPages","removeFormImage","hideDeleteConfirm","assignItemStateValues","loadItemImages","deleteLetter","hideDeleteLetterConfirm","resetState","newImages","newAII","selectValue","arrayData","stateForm","formData","hasImages","set","errorFiles","fileLabels","filename","btnText","errorsOutput","generic_error","titleInput","languageInput","sourceInput","termsInput","licenseInput","days","monthStart","calculateDaysInMonth","thisYear","optionsList","result","destination","list","startIndex","endIndex","_result$splice","removed","slicedToArray","pagesData","itemData","dateArr","keywordsData","_ret","imagesPreviewItems","_loop","imgFileName","react_beautiful_dnd_esm","draggableId","provided","snapshot","innerRef","draggableProps","dragHandleProps","isDragging","draggableStyle","objectSpread","userSelect","grid","background","droppableId","isDraggingOver","droppableProps","v","newImageBlocks","imageBlock","accept","_this3","deleteBtn","titleError","languageError","sourceError","termsError","licenseError","yearOfDeathListOptions","enableTranscriptionBtn","genericErrorClass","encType","keywords_select_KeywordsSelect","authors_select_AuthorsSelect","sources_select_SourcesSelect","fontWeight","UserLettersView","letterName","deleteLetterId","showBtnDisabledConfirm","btnDisabledText","parseItems","toggleTranscriptionStatus","hideBtnDisabledConfirm","cannotTranscribeText","gotoTranscriptionBtn","editBtn","rowTitle","viewItem","UserTranscriptionsView","showRemoveLetterConfirm","removeLetterId","hideRemoveLetterConfirm","removeLetter","linkPath","removeBtn","TranscriptionsDeskView","date_sent","trascriptionStatusCompletion","completed","itemPath","countPages","pageTranscriptionStatus","percentage","transcriptions_topics_block_TopicsBlock","transcriptions_sources_block_SourcesBlock","transcriptions_authors_block_AuthorsBlock","transcriptions_genders_block_GendersBlock","transcriptions_languages_block_LanguageBlock","transcriptions_date_created_block_DatecreatedBlock","NotFound","App","checkAdminState","roles","is_admin","checkSessionCookies","BrowserRouter","basename","Helmet","htmlAttributes","lang","header_pageHeader","navbar","Switch","Route","exact","component","item_ItemView","transcription_letter_TranscriptionLetterView","transcriptions_desk_TranscriptionsDeskView","upload_xml_UploadXML","user_letter_UserLetterView","user_letters_UserLettersView","user_profile_UserProfileView","user_transcriptions_UserTranscriptionsView","footer","cookies_consent_CookiesConsent","scrolltotop","isLocalhost","Boolean","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","src_App_0","URL","process","origin","fetch","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.2d3f982b.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-update.8166fb93.png\";","module.exports = __webpack_public_path__ + \"static/media/mu-logo-white-footer.56fd092c.png\";","module.exports = __webpack_public_path__ + \"static/media/IRC_LOGO_White.11ce1d35.png\";","module.exports = __webpack_public_path__ + \"static/media/SFI_logo_2017_greyscaled.799490f8.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAoCAYAAACrUDmFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTBBNUVDNzlGRUIzMTFFNzg5MEY5NzkwNTY0OUMyQkYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTBBNUVDN0FGRUIzMTFFNzg5MEY5NzkwNTY0OUMyQkYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMEE1RUM3N0ZFQjMxMUU3ODkwRjk3OTA1NjQ5QzJCRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMEE1RUM3OEZFQjMxMUU3ODkwRjk3OTA1NjQ5QzJCRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ps+YsGAAABVqSURBVHja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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABJIAAAHMCAYAAACOUYI/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDg0NUI1NzlGRUEzMTFFNzg1N0E5QzJBNDkwMjY0ODciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDg0NUI1N0FGRUEzMTFFNzg1N0E5QzJBNDkwMjY0ODciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowODQ1QjU3N0ZFQTMxMUU3ODU3QTlDMkE0OTAyNjQ4NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowODQ1QjU3OEZFQTMxMUU3ODU3QTlDMkE0OTAyNjQ4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpeUCA8AAAw/SURBVHja7NgxAQAgDMAwwL/nTQIVkEjo2TszBwAAAAB+ngQAAAAAFEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAECyAgwA03wGlYAolygAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/letters-map-thumbnail.745b7a81.png\";","module.exports = __webpack_public_path__ + \"static/media/letters-graph-thumbnail.1b69dd8a.png\";","import * as $ from 'jquery'\n\nwindow.jQuery = window.$ = $\n","export const domain = \"http://letters1916.maynoothuniversity.ie\";\nexport const APIPath = domain+\"/api/\";\nexport const WPRestPath = domain+\"/learn/wp-json/wp/v2/\";\nexport const WPCustomRestPath = domain+\"/learn/wp-json/letters1623/\";\nexport const basename = \"/\";\nexport const archivePath =  domain+\"/diyhistory/archive/\";\nexport const escapeURLs = [\n  \"/browse\",\n  \"/contact-form\",\n  \"/content\",\n  \"/fullsearch\",\n  \"/item\",\n  \"/letter\",\n  \"/letter-transcribe\",\n  \"/password-restore\",\n  \"/register\",\n  \"/transcriptions-desk\",\n  \"/upload-xml\",\n  \"/user-letter\",\n  \"/user-letters\",\n  \"/user-profile\",\n  \"/user-transcriptions\",\n  \"/vizualizations\",\n  \"/vizualizations/map\",\n  \"/admin/list-transcriptions\",\n];\n","//import React from 'react';\nimport axios from 'axios';\nimport {APIPath} from '../common/constants.js';\nimport {WPRestPath,WPCustomRestPath} from '../common/constants.js';\n\nexport function preloadContent() {\n  sessionStorage.setItem('carousel_images',[]);\n  sessionStorage.setItem('home_about',[]);\n  sessionStorage.setItem('topics_list',[]);\n  sessionStorage.setItem('sources_list',[]);\n  sessionStorage.setItem('authors_list',[]);\n  sessionStorage.setItem('genders_list',[]);\n  sessionStorage.setItem('languages_list',[]);\n  sessionStorage.setItem('date_created_list',[]);\n\n  loadHomeCarousel();\n  loadHomeAbout();\n  loadTopics();\n  loadSources();\n  loadAuthors();\n  loadPeople();\n  loadGenders();\n  loadLanguages();\n  loadDateCreated();\n\n  loadDiscoverPost();\n  loadTranscribePost();\n  loadContributePost();\n\n}\n\nfunction loadHomeCarousel() {\n  axios.get(WPRestPath+\"pages/?slug=carousel\")\n    .then(function (response) {\n      sessionStorage.setItem(\"carousel_images\", JSON.stringify(response));\n    })\n    .catch(function (error) {\n      console.log(error);\n  });\n}\n\nfunction loadHomeAbout() {\n  axios.get(WPCustomRestPath+\"post\", {\n      params: {\n        \"slug\": \"about-the-project\"\n      }\n    })\n    .then(function (response) {\n      let newData = response.data;\n      let newTitle = newData.post_title;\n      let newContent = newData.post_excerpt;\n      let about = {\n        title: newTitle,\n        content: newContent,\n        slug: newData.slug\n      }\n      sessionStorage.setItem(\"home_about\", JSON.stringify(about));\n    })\n    .catch(function (error) {\n      console.log(error);\n  });\n}\n\nfunction loadDiscoverPost() {\n  axios.get(WPCustomRestPath+\"post\", {\n      params: {\n        \"slug\": \"discover-the-collection\"\n      }\n    })\n    .then(function (response) {\n      let newData = response.data;\n      let discoverPost = {\n        title: newData.post_title,\n        content: newData.post_excerpt,\n        slug: newData.slug,\n        thumbnail: newData.thumbnail,\n        permalink: newData.permalink,\n      }\n      sessionStorage.setItem(\"home_discover_collection\", JSON.stringify(discoverPost));\n    })\n    .catch(function (error) {\n      console.log(error);\n  });\n}\n\nfunction loadTranscribePost() {\n  axios.get(WPCustomRestPath+\"post\", {\n      params: {\n        \"slug\": \"transcribe-letters\"\n      }\n    })\n    .then(function (response) {\n      let newData = response.data;\n      let transcribePost = {\n        title: newData.post_title,\n        content: newData.post_excerpt,\n        slug: newData.slug,\n        thumbnail: newData.thumbnail,\n        permalink: newData.permalink,\n      }\n      sessionStorage.setItem(\"home_transcribe_letters\", JSON.stringify(transcribePost));\n    })\n    .catch(function (error) {\n      console.log(error);\n  });\n}\n\nfunction loadContributePost() {\n  axios.get(WPCustomRestPath+\"post\", {\n      params: {\n        \"slug\": \"contribute-letters\"\n      }\n    })\n    .then(function (response) {\n      let newData = response.data;\n      let contributePost = {\n        title: newData.post_title,\n        content: newData.post_excerpt,\n        slug: newData.slug,\n        thumbnail: newData.thumbnail,\n        permalink: newData.permalink,\n      }\n      sessionStorage.setItem(\"home_contribute\", JSON.stringify(contributePost));\n    })\n    .catch(function (error) {\n      console.log(error);\n  });\n}\n\nfunction loadTopics() {\n  axios.get(APIPath+\"topics?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('topics_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\nfunction loadSources() {\n  axios.get(APIPath+\"sources?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('sources_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\nfunction loadAuthors() {\n  axios.get(APIPath+\"authors?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('authors_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\nfunction loadPeople() {\n  axios.get(APIPath+\"people?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('people_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\nfunction loadGenders() {\n  axios.get(APIPath+\"genders?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('genders_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\n\nfunction loadLanguages() {\n  axios.get(APIPath+\"languages?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('languages_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\nfunction loadDateCreated() {\n  axios.get(APIPath+\"date_created?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('date_created_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n","import React from 'react';\nimport {domain,escapeURLs} from '../common/constants.js';\n\nexport function ToggleClass(node, class1, class2) {\n  let currentClassName = node.className;\n  let classes = currentClassName.split(\" \");\n  let newClasses = [];\n  if (classes.indexOf(class1)>-1) {\n    for (let i=0; i<classes.length; i++) {\n      let newClass = classes[i];\n      if (newClass===class1) {\n        newClass = class2;\n      }\n      newClasses.push(newClass);\n    }\n  }\n  else {\n    for (let i=0; i<classes.length; i++) {\n      let newClass = classes[i];\n      if (newClass===class2) {\n        newClass = class1;\n      }\n      newClasses.push(newClass);\n    }\n    if (classes.indexOf(class2)===-1) {\n      newClasses.push(class2)\n    }\n  }\n  let replaceClass = newClasses.join(\" \");\n  node.className = replaceClass;\n}\n\nexport function ReplaceClass(node, class1, class2) {\n  let currentClassName = node.className;\n  let classes = currentClassName.split(\" \");\n  let newClasses = [];\n  for (let i=0; i<classes.length; i++) {\n    let newClass = classes[i];\n    if (newClass!==class1 && newClass!==class2) {\n      newClasses.push(newClass);\n    }\n  }\n  newClasses.push(class2);\n  let replaceClass = newClasses.join(\" \");\n  node.className = replaceClass;\n}\n\nexport function PreloaderCards(num) {\n  if (typeof num===\"undefined\") {\n    num=11;\n  }\n  let cards = [];\n  for (let i=0;i<num;i++) {\n    let card = <li key={i}>\n        <div className=\"mock-card\">\n          <h4><div className=\"mock-title\">Lorem ipsum dolor sit amet.</div></h4>\n          <div className=\"mock-keywords\">Lorem ipsum dolor sit amet.</div>\n          <div className=\"mock-desription\">Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n          Aenean id odio neque.\n          Suspendisse libero lorem, consequat ac nulla nec, porttitor ultricies arcu.\n          Nam eget efficitur sem, eu tincidunt neque. Duis.</div>\n        </div>\n      </li>;\n    cards.push(card);\n  }\n  return cards;\n}\n\nexport function Emptyitemscard() {\n  return <li key={0}>\n        <p>&nbsp;</p>\n        <h4 className=\"text-center\">There are no letters matching these criteria</h4>\n        <p>&nbsp;</p>\n    </li>;\n}\n\nexport function CompareFilterTopics(topicsArray) {\n  let compareArray = [];\n  for (let key in topicsArray) {\n    compareArray.push(key);\n  }\n  let group = document.getElementsByClassName(\"topics-list\")[0];\n  let groupChildren = group.childNodes;\n  for (let i=0; i<groupChildren.length; i++) {\n    let groupChild = groupChildren[i];\n    let groupChildValue = groupChild.childNodes[0].childNodes[0].innerText;\n    if (compareArray.indexOf(groupChildValue)===-1) {\n      groupChild.classList.add(\"disabled\");\n    }\n    else {\n      groupChild.className = groupChild.className.replace(/\\bdisabled\\b/g, \"\");\n      groupChild.classList.remove(\"disabled\");\n      let topicLabel = groupChild.childNodes[0].children[2];\n      topicLabel.children[0].textContent = topicsArray[groupChildValue];\n    }\n  }\n}\n\nexport function CompareFilterGeneral(selector, filterArray) {\n  let compareArray = [];\n  for (let key in filterArray) {\n    compareArray.push(key);\n  }\n\n  let group = document.getElementsByClassName(selector)[0];\n  let groupChildren = group.childNodes;\n\n  for (let i=0; i<groupChildren.length; i++) {\n    let groupChild = groupChildren[i];\n    let groupChildValue = groupChild.childNodes[0].innerText;\n    if (compareArray.indexOf(groupChildValue)===-1) {\n      groupChild.classList.add(\"disabled\");\n    }\n    else {\n      groupChild.className = groupChild.className.replace(/\\bdisabled\\b/g, \"\");\n      groupChild.classList.remove(\"disabled\");\n      let topicLabel = groupChild.children[2];\n      topicLabel.children[0].textContent = filterArray[groupChildValue];\n    }\n  }\n}\n\nexport function SelectedTopicsChecked(topicsArray) {\n  let group = document.getElementsByClassName(\"topics-list\")[0];\n  let groupChildren = group.childNodes;\n  for (let i=0; i<groupChildren.length; i++) {\n    let groupChild = groupChildren[i];\n    let groupChildTopicNode = groupChild.childNodes[0].childNodes[1].childNodes[0];\n    let groupChildValue = groupChildTopicNode.getAttribute(\"data-id\");\n    let currentClassName = groupChildTopicNode.className;\n    let element = groupChild.querySelectorAll(\".select-topic\")[0].querySelectorAll(\"i\")[0];\n    let label = groupChild.querySelectorAll(\".topic-label\")[0];\n    let classes = currentClassName.split(\" \");\n    if (topicsArray.indexOf(groupChildValue)>-1) {\n      if (classes.indexOf(\"fa-check-circle-o\")===-1) {\n        ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n        ToggleClass(label, \"\", \"active\");\n      }\n    }\n    else {\n      if (classes.indexOf(\"fa-circle-o\")===-1) {\n        ToggleClass(element, \"fa-check-circle-o\", \"fa-circle-o\");\n        ToggleClass(label, \"active\", \"\");\n      }\n    }\n\n  }\n}\n\nexport function SelectedFiltersChecked(selector, filterArray) {\n  let group = document.getElementsByClassName(selector)[0];\n  let groupChildren = group.childNodes;\n  for (let i=0; i<groupChildren.length; i++) {\n    let groupChild = groupChildren[i];\n    let groupChildValue = groupChild.childNodes[2].innerText;\n    let currentClassName = groupChild.childNodes[1].childNodes[0].className;\n\n    // remove count parenthesis\n    let groupChildValueArr = groupChildValue.split(\" (\");\n    let countLength = groupChildValueArr.length-1;\n    let countText = \" (\"+groupChildValueArr[countLength];\n    groupChildValue = groupChildValue.replace(countText, \"\");\n    groupChildValue = groupChildValue.trim();\n\n    if (filterArray.indexOf(groupChildValue)>-1) {\n      let element = groupChild.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n      let label = groupChild.querySelectorAll(\".source-label\")[0];\n\n      let classes = currentClassName.split(\" \");\n      if (classes.indexOf(\"fa-check-circle-o\")===-1) {\n        ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n        ToggleClass(label, \"\", \"active\");\n      }\n    }\n  }\n}\n\nexport function AutocompleteFilters(selector, value) {\n  /*let group = document.getElementsByClassName(selector)[0];\n  let groupChildren = group.childNodes;\n  for (let i=0; i<groupChildren.length; i++) {\n    let groupChild = groupChildren[i];\n    let groupChildValue = groupChild.childNodes[2].innerText;\n    let currentClassName = groupChild.childNodes[1].childNodes[0].className;\n\n\n    if (filterArray.indexOf(groupChildValue)>-1) {\n      let element = groupChild.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n      let label = groupChild.querySelectorAll(\".source-label\")[0];\n\n      let classes = currentClassName.split(\" \");\n      if (classes.indexOf(\"fa-check-circle-o\")===-1) {\n        ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n        ToggleClass(label, \"\", \"active\");\n      }\n    }\n  }*/\n}\n// replace without /index.php/\n\nexport function NormalizeWPURL(href) {\n  let normalizedURL = href;\n  if (typeof href!==\"undefined\" && href!==\"\") {\n    let newHref = href.replace(\"http://letters1916.maynoothuniversity.ie/learn/index.php/\", domain+\"/wp-post/\");\n    newHref = href.replace(\"http://letters1916.maynoothuniversity.ie/learn/\", domain+\"/wp-post/\");\n    newHref = newHref.replace(domain+\"/learn/index.php/\", domain+\"/wp-post/\");\n    newHref = newHref.replace(domain+\"/learn/\", domain+\"/wp-post/\");\n\n    // update for devel and live server\n    newHref = newHref.replace(\"http://letters1623.mucampus.ie/\", domain);\n    newHref = newHref.replace(\"http://xl1916apps.mucampus.ie/\", domain);\n    \n    if (newHref.includes(\"wp-content\")) {\n      newHref = newHref.replace(\"wp-post/\", \"\");\n    }\n    if (newHref.includes(domain+\"/wp-post/\")) {\n      let lastChar = newHref.slice(-1);\n      if (lastChar===\"/\") {\n        newHref = newHref.slice(0,-1);\n      }\n\n      let hrefEnding = newHref.substr(newHref.lastIndexOf('/') + 1);\n      let hrefParent = \"\";\n      hrefParent = newHref.replace(domain+\"/wp-post/\",\"\");\n      hrefParent = hrefParent.replace(hrefEnding,\"\");\n      if (hrefParent!==\"\") {\n        let hrefParentLastChar = hrefParent.slice(-1);\n        if (hrefParentLastChar===\"/\") {\n          hrefParent = hrefParent.slice(0,-1)+\"%2F\";\n        }\n      }\n      normalizedURL = \"/wp-post/\"+hrefParent+hrefEnding;\n    }\n  }\n  return normalizedURL;\n}\n\nexport function NormalizeMenuWPURL(href) {\n  let normalizedURL = href;\n  if (escapeURLs.indexOf(href)===-1) {\n    let newHref = href.replace(\"http://letters1916.maynoothuniversity.ie/learn/index.php/\", domain+\"/wp-post/\");\n    newHref = newHref.replace(domain+\"/learn/index.php/\", domain+\"/wp-post/\");\n    let lastChar = newHref.slice(-1);\n    if (lastChar===\"/\") {\n      newHref = newHref.slice(0,-1);\n    }\n\n    let hrefEnding = newHref.substr(newHref.lastIndexOf('/') + 1);\n    let hrefParent = \"\";\n    hrefParent = newHref.replace(domain+\"/wp-post/\",\"\");\n    hrefParent = newHref.replace(domain+\"/learn/\",\"\");\n    hrefParent = hrefParent.replace(hrefEnding,\"\");\n    if (hrefParent!==\"\") {\n      let hrefParentLastChar = hrefParent.slice(-1);\n      if (hrefParentLastChar===\"/\") {\n        hrefParent = hrefParent.slice(0,-1)+\"%2F\";\n      }\n    }\n    normalizedURL = \"/wp-post/\"+hrefParent+hrefEnding;\n  }\n  return normalizedURL;\n}\n\nexport function stripHTML(html) {\n  let tmp = document.createElement(\"DIV\");\n  tmp.innerHTML = html;\n  return tmp.textContent || tmp.innerText;\n}\n\nexport function calculateDaysInMonth(year, month) {\n  let monthStart = new Date(year, parseInt(month,10), 1);\n  let monthEnd = new Date(year, parseInt(month,10) + 1, 1);\n  let monthLength = (monthEnd - monthStart) / (1000 * 60 * 60 * 24);\n  return monthLength;\n}\n\nexport function flattenDeep(arr) {\n  return arr.reduce((acc, e) => Array.isArray(e) ? acc.concat(flattenDeep(e)) : acc.concat(e), []);\n}\n\nexport function sessionCookie(userName, sessionActive, accessToken, expired, rememberMe=false) {\n  let currentDate = new Date();\n  let tomorrow = new Date();\n  tomorrow.setDate(currentDate.getDate() + 1);\n  let expires = tomorrow;\n  let expiredDate = new Date();\n  expiredDate.setDate(currentDate.getDate() - 1);\n  if (expired) {\n    expires = expiredDate;\n  }\n  if (rememberMe) {\n    let nextYear = currentDate.getFullYear()+1;\n    let oneYearFromNow = new Date();\n    oneYearFromNow.setFullYear(nextYear);\n    expires = oneYearFromNow;\n  }\n  setCookie('lettersusername',userName,expires);\n  setCookie('letterssessionactive',sessionActive,expires);\n  setCookie('lettersaccesstoken',accessToken,expires);\n}\n\nexport function checkSessionCookies() {\n  if (getCookie('letterssessionactive')===\"true\") {\n    let userName = getCookie('lettersusername');\n    let accessToken = getCookie('lettersaccesstoken');\n    sessionStorage.setItem('userName', userName);\n    sessionStorage.setItem('sessionActive', true);\n    sessionStorage.setItem('accessToken', accessToken);\n  }\n  else {\n    sessionStorage.setItem('userName', '');\n    sessionStorage.setItem('sessionActive', false);\n    sessionStorage.setItem('accessToken', '');\n  }\n}\n\nexport function getCookie(cname) {\n  let name = cname + \"=\";\n  let decodedCookie = decodeURIComponent(document.cookie);\n  let ca = decodedCookie.split(';');\n  for(let i = 0; i <ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0) === ' ') {\n          c = c.substring(1);\n      }\n      if (c.indexOf(name) === 0) {\n          return c.substring(name.length, c.length);\n      }\n  }\n  return \"\";\n}\n\nexport function setCookie(name,value,expires){\n   document.cookie = name + \"=\" + value + ((expires==null) ? \"\" : \";expires=\" + expires.toUTCString())+\";domain=\"+window.location.hostname+\";path=/\";\n}\n\nexport function fixImagePath(path) {\n  if (path===\"\") {\n    return path;\n  }\n  else {\n    let newArchiveFileName = path.replace(\".JPG\", \".jpg\").replace(\".PNG\",\".png\").replace(\".GIF\", \".gif\");\n    return newArchiveFileName;\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport {Link} from 'react-router-dom';\nimport {Modal, DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath} from '../common/constants.js';\nimport {sessionCookie} from '../helpers/helpers';\nimport {Redirect} from 'react-router-dom'\n\nclass LoginModal extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// login form binds\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t\tthis.handleFormSubmit = this.handleFormSubmit.bind(this);\n\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\tremember_me: false,\n\t\t\tlogin_error: '',\n\t\t\tlogin_error_class: 'error-container',\n\t\t\tredirect: false\n\t\t};\n\t}\n\n/*\nloginModalVisile={this.state.loginModalVisile}\nloginModalHide={this.loginModalHide}\nloginModalOpen={this.loginModalOpen}\n*/\n\t// login form\n\thandleFormChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n\n\thandleFormSubmit(event) {\n\t\tevent.preventDefault();\n\t\tlet rememberMe = this.state.remember_me;\n\t\tvar loginModalContext = this;\n\t\taxios.post(APIPath+'login', {\n\t\t\temail: this.state.email,\n\t\t\tpassword: this.state.password\n\t\t})\n\t  .then(function (response) {\n\t    let status = response.data.status;\n\t    if (typeof status!== undefined && status===true) {\n\t      sessionStorage.setItem('userName', response.data.data.userName);\n\t      sessionStorage.setItem('sessionActive', true);\n\t      sessionStorage.setItem('accessToken', response.data.data.accessToken);\n\t\t\t\tsessionCookie(response.data.data.userName, true, response.data.data.accessToken, false, rememberMe);\n\t\t\t\tlet windowLocationPathname = window.location.pathname;\n\t\t\t\tif (windowLocationPathname.includes(\"verify-account\")) {\n\t\t\t\t\tdocument.location.href=\"/\";\n\t\t\t\t}\n\t      else {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}\n\t    }\n\t    else {\n\t      let error = response.data.errors;\n\t\t\t\tlet errorText = \"\";\n\t      for (var e in error) {\n\t\t\t\t\terrorText = error[e];\n\t      }\n\t      loginModalContext.setState({\n\t\t\t\t\tlogin_error:errorText,\n\t\t\t\t\tlogin_error_class:'error-container-visible'\n\t\t\t\t});\n\t    }\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n\thandleLogout() {\n    let accessToken = sessionStorage.getItem('accessToken');\n\t\tsessionStorage.setItem('sessionActive', false);\n\t\tsessionStorage.setItem('accessToken', '');\n\t\tsessionStorage.setItem('userName', '');\n\t\tsessionCookie('', false, '', true);\n\t\tif (accessToken===\"\") {\n\t\t\tsetTimeout(function() {\n\t\t\t\twindow.location.reload();\n\t\t\t},1000);\n\t\t}\n\t\telse {\n\t\t\taxios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n\t    axios.get(APIPath+'logout')\n\t    .then(function (response) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t},1000);\n\t    })\n\t    .catch(function (error) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t},1000);\n\t      console.log(error);\n\t    });\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.redirect) {\n\t\t\tthis.setState({\n\t\t\t\tredirect: false\n\t\t\t})\n\t\t}\n\t}\n\trender() {\n\t\tvar link = \"\";\n\t\tlet sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive!=='true') {\n\t    link = (\n\t      <span className=\"href-btn\" onClick={this.props.loginModalOpen}><i className=\"fa fa-user-circle\"></i> Login/Register</span>\n\t    );\n\t\t}\n\t\telse {\n\t\t\tlet userName = sessionStorage.getItem(\"userName\");\n\t\t\tlet dropdownTitle = <span><i className=\"fa fa-user-circle\"></i> {userName}</span>;\n\t\t\tlink = (\n\t\t\t\t<DropdownButton\n\t\t\t\t\tbsSize=\"small\"\n\t\t\t\t\ttitle={dropdownTitle}\n\t\t\t\t\tkey=\"user-dropdown\"\n\t\t\t\t\tid={\"session-dropdown\"}\n\t\t\t\t>\n\t\t\t\t\t<MenuItem eventKey=\"1\" componentClass={Link} href=\"/user-profile\" to=\"/user-profile\"><i className=\"fa fa-user\"></i> Profile</MenuItem>\n\t\t\t\t\t<MenuItem eventKey=\"2\" componentClass={Link} href=\"/user-letter/0\" to=\"/user-letter/0\"><i className=\"fa fa-file-o\"></i> Add new Letter</MenuItem>\n\t\t\t\t\t<MenuItem eventKey=\"3\" componentClass={Link} href=\"/user-letters\" to=\"/user-letters\"><i className=\"fa fa-files-o\"></i> My letters</MenuItem>\n\t\t\t\t\t<MenuItem eventKey=\"4\" componentClass={Link} href=\"/user-transcriptions\" to=\"/user-transcriptions\"><i className=\"fa fa-file-text-o\"></i> My transcriptions</MenuItem>\n\t\t\t\t\t<MenuItem eventKey=\"5\" onClick={this.handleLogout}><i className=\"fa fa-sign-out\"></i> Logout</MenuItem>\n\t\t\t\t</DropdownButton>\n\t    );\n\t\t}\n\t\tlet loginErrorHTML = \"\";\n\t\tif (this.state.login_error.length>0) {\n\t\t\tloginErrorHTML = this.state.login_error;\n\t\t}\n    const modal = (\n      <Modal\n        show={this.props.loginModalVisile}\n        onHide={this.props.loginModalHide}\n\t\t\t\tbsSize=\"small\">\n        <Modal.Header closeButton>\n          <Modal.Title><i className=\"fa fa-user-circle\"></i> Login</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n\t\t\t\t\t<form name=\"login-form\" onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t\t<div className={this.state.login_error_class}>{loginErrorHTML}</div>\n\t\t\t\t\t\t<div className=\"form-group has-feedback\">\n\t\t\t\t\t\t\t<input name=\"email\" type=\"email\" className=\"form-control\" placeholder=\"Email\" value={this.state.email} onChange={this.handleFormChange} />\n\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-envelope form-control-feedback\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group has-feedback\">\n\t\t\t        <input name=\"password\" type=\"password\" className=\"form-control\" placeholder=\"Password\" value={this.state.password} onChange={this.handleFormChange} />\n\t\t\t        <span className=\"glyphicon glyphicon-lock form-control-feedback\"></span>\n\t\t\t      </div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t        <div className=\"col-xs-8\">\n\t\t\t          <div className=\"checkbox\">\n\t\t\t            <label>\n\t\t\t\t\t\t\t\t\t\t<input name=\"remember_me\" type=\"checkbox\" value={this.state.remember_me} onChange={this.handleFormChange} /> Remember Me\n\t\t\t            </label>\n\t\t\t          </div>\n\t\t\t        </div>\n\t\t\t        <div className=\"col-xs-4\">\n\t\t\t         \t<button type=\"submit\" className=\"btn btn-primary btn-block btn-flat\">Sign In</button>\n\t\t\t        </div>\n\t\t\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t\t\t<Link to=\"/password-restore\" onClick={this.props.loginModalHide}>I forgot my password</Link><br/>\n\t\t\t\t\t\t\t\t<Link to=\"/register\" onClick={this.props.loginModalHide}>Register for a new account</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t      </div>\n\t\t\t\t\t</form>\n        </Modal.Body>\n      </Modal>\n    );\n\n\t\tlet redirectElement;\n    if (this.state.redirect===true) {\n      redirectElement = <Redirect to='/'/>\n    }\n\n\t\treturn (\n        <li className=\"admin-menu\">\n\t\t\t\t\t{redirectElement}\n          {link}\n          {modal}\n        </li>\n\t\t);\n\t}\n}\n\nexport default LoginModal;\n","import React from 'react';\nimport {Redirect} from 'react-router-dom';\n\nclass SearchInput extends React.Component {\n  constructor(props) {\n    super();\n    this.state ={\n      term: \"\",\n      redirect: false\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      term: event.target.value,\n      redirect: false\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      redirect: true\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      redirect: false\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.redirect===false && this.state.redirect===true) {\n      this.setState({\n        redirect: false\n      });\n    }\n  }\n\n  render() {\n    let redirectElement;\n    if (this.state.redirect===true) {\n      redirectElement = <Redirect to={{\n        pathname: '/fullsearch/'+this.state['term'],\n        state: {from: 'header_search'},\n        key: 'header_search'\n      }}\n      />\n    }\n    return (\n      <div>\n        <form name=\"search-letters-input\" onSubmit={this.handleSubmit}>\n          <div className=\"input-group\">\n            <input onChange={this.handleChange} value={this.state.term} name=\"search-bar\" type=\"text\" className=\"form-control\" placeholder=\"Search Letters 1916-1923\" />\n            <span className=\"input-group-btn\">\n              <button className=\"btn btn-default\" onClick={this.handleSubmit} type=\"button\" id=\"search-letters-submit\">Search</button>\n            </span>\n          </div>\n        </form>\n        {redirectElement}\n      </div>\n    )\n  }\n}\n\nexport default SearchInput;\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport logo from '../assets/images/logo-update.png';\nimport LoginModal from '../components/login.modal';\nimport SearchInput from '../components/header-search';\n\nexport default class pageHeader extends Component {\n  render() {\n\n    return (\n      <div className=\"page-header\">\n        <div className=\"top-bar\">\n          <div className=\"wrapper\">\n            <div className=\"container\">\n              <ul className=\"pull-left social-icons\">\n                <li><a href='https://www.facebook.com/lettersof1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-facebook\"></i></a></li>\n                <li><a href='https://twitter.com/Letters1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-twitter\"></i></a></li>\n                <li><a href='http://letters1916.tumblr.com/' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-tumblr\"></i></a></li>\n                <li><a href='https://soundcloud.com/letters-1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-soundcloud\"></i></a></li>\n                <li><Link to='/contact-form' href='/contact-form'><i className=\"fa fa-envelope\"></i></Link></li>\n              </ul>\n              <ul className=\"pull-right\">\n                <LoginModal\n                  loginModalVisile={this.props.loginModalVisile}\n                  loginModalHide={this.props.loginModalHide}\n                  loginModalOpen={this.props.loginModalOpen}\n                 />\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className=\"wrapper page-header-wrapper\">\n          <div className=\"header-logo-row\">\n            <div className=\"col-xs-12 col-sm-8 col-md-8\"></div>\n            <div className=\"col-xs-12 col-sm-4 col-md-4 logo-r\"></div>\n          </div>\n          <div className=\"container header-logo-container\">\n            <div className=\"col-xs-12 col-sm-8 col-md-8 logo-l\">\n              <Link to=\"/\"><img src={logo} className=\"logo-img img-responsive\" alt=\"Letters 1916-1923\" /></Link>\n            </div>\n            <div className=\"col-xs-12 col-sm-4 col-md-4 logo-r\">\n              <SearchInput/>\n            </div>\n          </div>\n\n\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport {APIPath} from '../common/constants.js';\n\nexport default class NewsletterSubscribe extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      loader: false,\n      subscribeResponse: '',\n      subscribeResponseHidden: true,\n    }\n\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleEmailChange(event) {\n    const target = event.target;\n    const value = target.value;\n\n    this.setState({\n      email: value\n    });\n  }\n\n  handleFormSubmit(event) {\n\t\tevent.preventDefault();\n    this.setState({\n      loader: true\n    });\n\t\tlet context = this;\n\n    axios.post(APIPath+'subscribe-to-newsletter', {\n      email: this.state.email.trim(),\n    })\n\t  .then(function (response) {\n      let responseMessage = response.data.message;\n      let subscribeResponse = \"\";\n      if (responseMessage.status===\"subscribed\") {\n        subscribeResponse = \"Thank you for subscribing to our mailing list!\";\n      }\n      context.setState({\n        subscribeResponse: subscribeResponse,\n        subscribeResponseHidden: false,\n        formHiddenClass: true,\n        loader:false\n      });\n      setTimeout(function() {\n        context.setState({\n          subscribeResponse: '',\n          subscribeResponseHidden: true,\n          formHiddenClass: false\n        });\n      },2000);\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n  render() {\n    let subscribeResponseHiddenClass = \" hidden\";\n    let formHiddenClass = \"\";\n    if (!this.state.subscribeResponseHidden) {\n      subscribeResponseHiddenClass = \"\";\n      formHiddenClass = \" hidden\";\n    }\n    let loader = '';\n    if (this.state.loader) {\n      loader = <i className=\"fa fa-circle-o-notch fa-spin\"></i>;\n    }\n    return (\n      <div className=\"newsletter-subscribe-footer\">\n        <div className={\"newsletter-subscribe-response\"+subscribeResponseHiddenClass}>{this.state.subscribeResponse}</div>\n        <form onSubmit={this.handleFormSubmit} className={formHiddenClass}>\n          <div className=\"input-group input-group-sm\">\n            <input name=\"email\" type=\"email\" className=\"form-control\" placeholder=\"Email Address\" value={this.state.email} onChange={this.handleEmailChange} />\n            <span className=\"input-group-btn\">\n              <button type=\"submit\" className=\"btn btn-letters btn-flat\">Subscribe {loader}</button>\n            </span>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport {NormalizeMenuWPURL} from '../helpers/helpers.js';\n\nexport default class FooterMenu extends Component {\n  constructor() {\n    super();\n    this.state = {\n      navItems: [],\n    };\n  }\n\n  getItems() {\n    if (sessionStorage.getItem(\"footermenu_items\")!==null && sessionStorage.getItem(\"footermenu_items\").length>0) {\n      let itemsJSON = JSON.parse(sessionStorage.getItem(\"footermenu_items\"));\n      let newContent = itemsJSON.data;\n      this.parseJSON(newContent);\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"menu/?menu=footer-menu\")\n    \t  .then(function (response) {\n          sessionStorage.setItem(\"footermenu_items\", JSON.stringify(response));\n          let newContent = response.data;\n          context.parseJSON(newContent);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  parseJSON(data) {\n    let navItems = [];\n    for (let i=0; i<data.length; i++) {\n      let menuItem = data[i];\n      let relAttr = \"\";\n      let itemURL = NormalizeMenuWPURL(menuItem.url);\n      if (menuItem.target===\"_blank\") {\n        relAttr = \"noopener noreferrer\";\n      }\n\n      let navItem = <li key={i}>\n        <Link href={itemURL} to={itemURL} target={menuItem.target} rel={relAttr}>{menuItem.title}</Link>\n      </li>;\n      navItems.push(navItem);\n    }\n    this.setState({\n      navItems: navItems\n    });\n\n  }\n\n\n  componentDidMount() {\n    this.getItems();\n  }\n\n  render() {\n    return (\n      <ul className=\"footer-menu\">\n        {this.state.navItems}\n      </ul>\n    )\n  }\n}\n","import React from 'react';\nimport MULogo from '../assets/images/mu-logo-white-footer.png';\nimport IRCLogo from '../assets/images/IRC_LOGO_White.png';\nimport SFILogo from '../assets/images/SFI_logo_2017_greyscaled.png';\nimport NewsletterSubscribe from '../helpers/subscribe-to-newsletter';\nimport FooterMenu from '../components/footer-menu';\nimport {Link} from 'react-router-dom';\n\nlet date = new Date();\nlet year = date.getFullYear();\nconst pageFooter = () => (\n  <div className=\"page-footer\">\n    <div className=\"footer-content\">\n      <div className=\"container\">\n        <div className=\"row\">\n\n          <div className=\"col-xs-12 col-sm-4 col-md-3 col-lg-3 pull-left\">\n            <a href=\"https://www.maynoothuniversity.ie/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              <img src={MULogo} alt=\"Maynooth University\" className=\"img-responsive footer-logo\" />\n            </a><br/>\n            <a href=\"http://research.ie/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              <img src={IRCLogo} alt=\"Irish Research Counsil\" className=\"img-responsive footer-logo\" />\n            </a><br/>\n            <a href=\"https://www.sfi.ie/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              <img src={SFILogo} alt=\"Science Foundation Ireland\" className=\"img-responsive footer-logo\" />\n            </a>\n          </div>\n\n          <div className=\"col-xs-12 col-sm-3 col-md-3 col-lg-3\">\n            <FooterMenu />\n          </div>\n\n          <div className=\"col-xs-12 col-sm-5 col-md-6 col-lg-6\">\n\n            <ul className=\"footer-social-links\">\n              <li><a href='https://www.facebook.com/lettersof1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-facebook\"></i></a></li>\n              <li><a href='https://twitter.com/Letters1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-twitter\"></i></a></li>\n              <li><a href='http://letters1916.tumblr.com/' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-tumblr\"></i></a></li>\n              <li><a href='https://soundcloud.com/letters-1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-soundcloud\"></i></a></li>\n              <li><Link to='/contact-form' href='/contact-form'><i className=\"fa fa-envelope\"></i></Link></li>\n            </ul>\n            <NewsletterSubscribe />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div className=\"footer-rights\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">COPYRIGHT  2016 - {year} LETTERS 1916-1923.</div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n);\nexport default pageFooter;\n","import React, {Component} from 'react';\nimport {Redirect} from 'react-router';\nimport {Link} from 'react-router-dom';\nimport {Navbar, Nav, NavItem, NavDropdown} from 'react-bootstrap';\nimport {bootstrapUtils} from 'react-bootstrap/lib/utils';\nimport logoSmall from '../assets/images/logo-stamp-small.png';\nimport axios from 'axios';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport {NormalizeMenuWPURL} from '../helpers/helpers.js';\n\n\nbootstrapUtils.addStyle(Navbar, \"none\");\n\nclass MainNavbar extends Component {\n  constructor() {\n    super();\n    this.state = {\n      fixed: false,\n      navItems: [],\n      redirectTarget: \"\",\n      redirect: false\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  getItems() {\n    if (sessionStorage.getItem(\"menu_items\")!==null && sessionStorage.getItem(\"menu_items\").length>0) {\n      let itemsJSON = JSON.parse(sessionStorage.getItem(\"menu_items\"));\n      let newContent = itemsJSON.data;\n      this.parseJSON(newContent);\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"menu/?menu=menu-2018\")\n    \t  .then(function (response) {\n          sessionStorage.setItem(\"menu_items\", JSON.stringify(response));\n          let newContent = response.data;\n          context.parseJSON(newContent);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  parseJSON(data) {\n    let newArray = [];\n    for (let i=0; i<data.length; i++) {\n      let menuItem = data[i];\n      if (menuItem.menu_item_parent===\"0\") {\n        let parent = menuItem;\n        let parentId = parseInt(menuItem.ID,10);\n        parent['children']=this.getchildren(parentId, data);\n        newArray.push(parent);\n      }\n    }\n    this.createMenu(newArray);\n  }\n\n  getchildren(parentId, data) {\n    let children = [];\n\n    for (let j=0;j<data.length; j++) {\n      let childItem = data[j];\n      let childItemParentId = parseInt(childItem.menu_item_parent,10);\n      if (childItemParentId===parentId) {\n        let childItemID = parseInt(childItem.ID,10);\n        childItem['children']=this.getchildren(childItemID, data);\n        children.push(childItem);\n      }\n    }\n    return children;\n  }\n\n  createMenu(data) {\n    let navItems = [];\n    for (let i=0; i<data.length; i++) {\n      let item = data[i];\n      let navItem = this.createNavItem(i,item);\n      navItems.push(navItem);\n    }\n    this.setState({\n      navItems: navItems\n    });\n  }\n\n  navTo(url) {\n    this.setState({\n      redirect: true,\n      redirectTarget: url,\n    });\n  }\n\n  createNavItem(i, item) {\n    let navItem;\n    let itemURL = NormalizeMenuWPURL(item.url);\n    if (item.children.length===0) {\n      navItem = <NavItem componentClass={Link} href={itemURL} to={itemURL} key={i}><div dangerouslySetInnerHTML={{__html: item.title}}></div></NavItem>;\n    }\n    else {\n      let menuItemChildren = this.createNavItemChildren(i,item.children);\n            navItem = <NavDropdown\n              eventKey={i}\n              key={i}\n              title={item.title}\n              id={\"nav-dropdown-\"+i}\n              componentClass={Link}\n              onClick={this.navTo.bind(this, itemURL)}\n              to={itemURL}\n              noCaret>\n                {menuItemChildren}\n            </NavDropdown>;\n    }\n    return navItem;\n  }\n\n  createNavItemChildren(i,children) {\n    let childrenItems = [];\n    for (let j=0; j<children.length; j++) {\n      let child = children[j];\n      let childURL = NormalizeMenuWPURL(child.url);\n      let childrenItem;\n      if (child.children.length===0) {\n        childrenItem = <NavItem componentClass={Link} href={childURL} to={childURL} key={i+\".\"+j}><div dangerouslySetInnerHTML={{__html: child.title}}></div></NavItem>;\n      }\n      else {\n        let menuItemChildren = this.menuItemChildren(i,child.children);\n        childrenItem = <NavDropdown\n          key={i+\".\"+j}\n          title={child.title}\n          id={\"nav-dropdown-\"+i+\".\"+j}\n          noCaret\n          componentClass={Link}\n          onClick={this.navTo.bind(this, childURL)}\n          href={childURL}\n          >\n            {menuItemChildren}\n        </NavDropdown>;\n      }\n\n      childrenItems.push(childrenItem);\n    }\n    return childrenItems;\n  }\n\n  componentDidMount() {\n    this.getItems();\n    window.addEventListener('scroll', this.handleScroll);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.redirect===false && this.state.redirect===true) {\n      this.setState({\n        redirect: false,\n        redirectTarget: \"\"\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleScroll(event) {\n    if (window.scrollY>135) {\n      this.setState({fixed:true});\n    }\n    else {\n      this.setState({fixed:false});\n    }\n  }\n\n  render() {\n    let fixedClass='';\n    if (this.state.fixed) {\n      fixedClass = \"fixed\";\n    }\n    let redirect;\n    if (this.state.redirect) {\n      redirect = <Redirect push to={this.state.redirectTarget}  />;\n    }\n    return (\n      <div className={'navbar-container '+fixedClass }>\n        <Navbar collapseOnSelect bsStyle=\"none\">\n          <Navbar.Header>\n            <Navbar.Brand>\n              <NavItem componentClass={Link} href=\"/\" to=\"/\"><img src={logoSmall} alt=\"Letters 1916-1923\" /></NavItem>\n            </Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n          <Navbar.Collapse>\n            <Nav>\n              {this.state.navItems}\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n        {redirect}\n      </div>\n    )\n  }\n}\nexport default MainNavbar;\n","import React from 'react';\nimport ScrollUp from 'react-scroll-up';\n\nconst ScrollToTopStyle = {\n  \"position\": \"fixed\",\n  \"bottom\": \"50px\",\n  \"right\": \"30px\",\n  \"cursor\": \"pointer\",\n  \"transition\": \"opacity 0.2s linear 0s, visibility\",\n  \"opacity\": \"1\",\n  \"visibility\": \"visible\",\n  \"zIndex\": \"999\"\n}\nconst ScrollToTop = () => (\n  <ScrollUp showUnder={160} style={ScrollToTopStyle}>\n    <div className=\"scroll-up\">\n      <i className=\"fa-chevron-up fa\"></i>\n    </div>\n  </ScrollUp>\n)\nexport default ScrollToTop;\n","import React from 'react';\nimport {getCookie, setCookie} from '../helpers/helpers';\n\nexport default class CookiesConsent extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      visible: true\n    }\n    this.isVisible = this.isVisible.bind(this);\n    this.acceptConsent = this.acceptConsent.bind(this);\n  }\n\n  isVisible() {\n    let accepted = getCookie(\"l191623_cookies_consent\");\n    if (accepted===\"true\") {\n      this.setState({\n        visible: false\n      });\n    }\n  }\n\n  acceptConsent() {\n    let currentDate = new Date();\n    let nextMonth = new Date();\n    nextMonth.setDate(currentDate.getDate() + 30);\n    setCookie(\"l191623_cookies_consent\", \"true\", nextMonth);\n    this.setState({\n      visible: false\n    });\n  }\n\n  componentDidMount() {\n    this.isVisible();\n  }\n\n  render() {\n    let hiddenClass=\"\";\n    if (!this.state.visible) {\n      hiddenClass = \" hidden\";\n    }\n    return(\n      <div className={\"cookies-consent-container\"+hiddenClass}>\n        <div className=\"cookies-consent-content\">\n          <p>The Letters 1916-23 website uses cookies to ensure the best experience for our visitors. By continuing to use the Letters 1916-23 website you are agreeing to our <a href=\"/wp-post/letters-1916-1923-cookie-policy\">\n          <i className=\"fa fa-question-circle\"></i> cookies policy</a></p>\n\n          <button type=\"button\" className=\"btn btn-letters\" onClick={this.acceptConsent}>Accept</button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {Carousel} from 'react-bootstrap';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport cheerio from 'cheerio';\nimport {WPRestPath} from '../common/constants.js';\n\n\nimport defaultImg from '../assets/images/carousel/default.png';\n\nclass ControlledCarousel extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleSelect = this.handleSelect.bind(this);\n    this.parseCarouselJSON = this.parseCarouselJSON.bind(this);\n\n    this.state = {\n      loading: true,\n      index: 0,\n      direction: null,\n      nextIcon: <span className=\"fa fa-angle-right\"></span>,\n      prevIcon: <span className=\"fa fa-angle-left\"></span>,\n      images: []\n    };\n  }\n\n  handleSelect(selectedIndex, e) {\n    this.setState({\n      index: selectedIndex,\n      direction: e.direction\n    });\n  }\n\n  getImages() {\n    if (sessionStorage.getItem(\"carousel_images\")!==null && sessionStorage.getItem(\"carousel_images\").length>0) {\n      let carouselJSON = JSON.parse(sessionStorage.getItem(\"carousel_images\"));\n      let newContent = carouselJSON.data[0].content.rendered;\n      this.parseCarouselJSON(newContent);\n    }\n    else {\n      let context = this;\n      axios.get(WPRestPath+\"pages/?slug=carousel\")\n    \t  .then(function (response) {\n          let newContent = response.data[0].content.rendered;\n          context.parseCarouselJSON(newContent);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  parseCarouselJSON(carouselJSON) {\n    let $ = cheerio.load(carouselJSON);\n    let images = [];\n    $('figure').each(function(index,element) {\n      let imagePath = $(this).children(\"img\").attr(\"src\");\n      let imageTitle = $(this).children(\"a\").children(\"img\").attr(\"title\");\n      let imageDescription = $(this).children(\"figcaption\").html();\n      let carouselItemStyle = {\n        backgroundImage: 'url('+imagePath+')',\n        backgroundSize: 'cover',\n      }\n      let carouselTitle = \"\";\n      if (imageTitle !==\"\") {\n        carouselTitle = <h3>{carouselTitle}</h3>;\n      }\n      let carouseDescription = \"\";\n      if (imageDescription!==\"\") {\n        carouseDescription = <p>{imageDescription}</p>;\n      }\n      let carouselItem = <Carousel.Item key={index}>\n        <div className=\"carousel-img\" style={carouselItemStyle}></div>\n        <img width={1170} height={585} alt=\"\" src={defaultImg} />\n        <Carousel.Caption>\n          {carouselTitle}\n          {carouseDescription}\n        </Carousel.Caption>\n      </Carousel.Item>\n      images.push(carouselItem);\n    });\n\n    this.setState({\n      images: images,\n      loading: false\n    });\n  }\n\n  componentDidMount() {\n    this.getImages();\n  }\n\n  render() {\n    const { index, direction } = this.state;\n    let content;\n    let extraStyle = {\n      minHeight: \"250px\",\n      paddingTop: \"100px\"\n    }\n    if (this.state.loading) {\n      content = <div style={extraStyle}>\n          <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>\n        </div>;\n    }\n    else {\n      content = <Carousel\n        activeIndex={index}\n        direction={direction}\n        onSelect={this.handleSelect}\n        nextIcon={this.state.nextIcon}\n        prevIcon={this.state.prevIcon}\n        index={this.state.index}\n      >\n        {this.state.images}\n      </Carousel>;\n    }\n    let defaultStyle = {\n      minHeight: \"250px\"\n    }\n    return (\n      <div style={defaultStyle}>\n        {content}\n      </div>\n    );\n  }\n}\n\nexport default ControlledCarousel;\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport ReactLoading from 'react-loading';\nimport {stripHTML} from '../helpers/helpers.js';\n\nexport default class HomeAbout extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      about: [],\n      loading: true\n    };\n  }\n\n  loadAbout() {\n    if (sessionStorage.getItem(\"home_about\")!==null && sessionStorage.getItem(\"home_about\").length>0) {\n      let about = JSON.parse(sessionStorage.getItem(\"home_about\"));\n      this.setState({\n        about:about,\n        loading: false\n      });\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"post\", {\n          params: {\n            \"slug\": \"about-the-project\"\n          }\n        })\n    \t  .then(function (response) {\n          let newData = response.data;\n          let newTitle = newData.post_title;\n          let newContent = stripHTML(newData.post_excerpt);\n          let about = {\n            title: newTitle,\n            content: newContent,\n            slug: newData.slug\n          }\n          context.setState({\n            about:about,\n            loading: false\n          });\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  componentDidMount() {\n    this.loadAbout();\n  }\n\n    render() {\n      let content;\n      if (this.state.loading) {\n        content = <div>\n            <div className=\"loader-container\">\n            <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n            </div>\n          </div>;\n      }\n      else {\n        content = <div>\n            <h2>{this.state.about.title}</h2>\n            <div dangerouslySetInnerHTML={{__html: this.state.about.content}} className=\"wrap-text\"></div>\n            <br/>\n            <Link className=\"btn btn-default\" to={\"/wp-post/about-the-project\"}>Read more...</Link>\n          </div>\n      }\n      return(\n        <div>\n        {content}\n        </div>\n      )\n    }\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {domain} from '../common/constants';\nimport axios from 'axios';\nimport {WPCustomRestPath} from '../common/constants.js';\n\nexport default class HomeLettersBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      block1: {\n        url: '',\n        thumbnail: [],\n        title: '',\n        content: '',\n      },\n      block2: {\n        url: '',\n        thumbnail: [],\n        title: '',\n        content: '',\n      },\n      block3: {\n        url: '',\n        thumbnail: [],\n        title: '',\n        content: '',\n      },\n    }\n\n    this.createBlock = this.createBlock.bind(this);\n  }\n\n  loadBlock1() {\n    if (sessionStorage.getItem(\"home_discover_collection\")!==null && sessionStorage.getItem(\"home_discover_collection\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"home_discover_collection\"));\n      let block = this.createBlock(data, true);\n      this.setState({\n        block1: {\n          url: block.url,\n          thumbnail: block.thumbnail,\n          title: block.title,\n          content: block.content,\n        }\n      });\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"post\", {\n          params: {\n            \"slug\": \"discover-the-collection\"\n          }\n        })\n        .then(function (response) {\n          let newData = response.data;\n          let discoverPost = {\n            title: newData.post_title,\n            content: newData.post_excerpt,\n            slug: newData.slug,\n            thumbnail: newData.thumbnail,\n            permalink: newData.permalink,\n          }\n          let block = context.createBlock(discoverPost, true);\n          context.setState({\n            block1: {\n              url: block.url,\n              thumbnail: block.thumbnail,\n              title: block.title,\n              content: block.content,\n            }\n          });\n        })\n        .catch(function (error) {\n          console.log(error);\n      });\n    }\n  }\n\n  loadBlock2() {\n    if (sessionStorage.getItem(\"home_transcribe_letters\")!==null && sessionStorage.getItem(\"home_transcribe_letters\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"home_transcribe_letters\"));\n      let block = this.createBlock(data, false);\n      this.setState({\n        block2: {\n          url: block.url,\n          thumbnail: block.thumbnail,\n          title: block.title,\n          content: block.content,\n        }\n      });\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"post\", {\n          params: {\n            \"slug\": \"transcribe-letters\"\n          }\n        })\n        .then(function (response) {\n          let newData = response.data;\n          let discoverPost = {\n            title: newData.post_title,\n            content: newData.post_excerpt,\n            slug: newData.slug,\n            thumbnail: newData.thumbnail,\n            permalink: newData.permalink,\n          }\n          let block = context.createBlock(discoverPost, false);\n          context.setState({\n            block2: {\n              url: block.url,\n              thumbnail: block.thumbnail,\n              title: block.title,\n              content: block.content,\n            }\n          });\n        })\n        .catch(function (error) {\n          console.log(error);\n      });\n    }\n  }\n\n  loadBlock3() {\n    if (sessionStorage.getItem(\"home_contribute\")!==null && sessionStorage.getItem(\"home_contribute\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"home_contribute\"));\n      let block = this.createBlock(data, false);\n      this.setState({\n        block3: {\n          url: block.url,\n          thumbnail: block.thumbnail,\n          title: block.title,\n          content: block.content,\n        }\n      });\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"post\", {\n          params: {\n            \"slug\": \"contribute-letters\"\n          }\n        })\n        .then(function (response) {\n          let newData = response.data;\n          let discoverPost = {\n            title: newData.post_title,\n            content: newData.post_excerpt,\n            slug: newData.slug,\n            thumbnail: newData.thumbnail,\n            permalink: newData.permalink,\n          }\n          let block = context.createBlock(discoverPost, false);\n          context.setState({\n            block3: {\n              url: block.url,\n              thumbnail: block.thumbnail,\n              title: block.title,\n              content: block.content,\n            }\n          });\n        })\n        .catch(function (error) {\n          console.log(error);\n      });\n    }\n  }\n\n  createBlock(data, browse=false) {\n    if (data.length===0) {\n      return false;\n    }\n    let url = 'wp-post'+data.permalink.replace(domain, '');\n    if (browse) {\n      url = \"/browse\";\n    }\n\n    let block = {\n      url: url,\n      thumbnail: data.thumbnail,\n      title: data.title,\n      content: data.content,\n    }\n    return block;\n  }\n\n  componentDidMount() {\n    this.loadBlock1();\n    this.loadBlock2();\n    this.loadBlock3();\n  }\n\n  render() {\n    return (\n      <section className=\"home-blocks\">\n        <div className=\"container\">\n          <div className=\"row\">\n\n            <div className=\"col-xs-12 col-sm-4\">\n              <div className=\"home-block\">\n                <div className=\"home-block-thumbnail\">\n                  <Link href={this.state.block1.url} to={this.state.block1.url}>\n                    <img src={this.state.block1.thumbnail} alt={this.state.block1.title} className=\"img-responsive\"/>\n                  </Link>\n                </div>\n                <h4><Link href={this.state.block1.url} to={this.state.block1.url}>{this.state.block1.title}</Link></h4>\n                <p>{this.state.block1.content}</p>\n              </div>\n            </div>\n\n            <div className=\"col-xs-12 col-sm-4\">\n              <div className=\"home-block\">\n                <div className=\"home-block-thumbnail\">\n                  <Link href={this.state.block2.url} to={this.state.block2.url}>\n                    <img src={this.state.block2.thumbnail} alt={this.state.block2.title} className=\"img-responsive\"/>\n                  </Link>\n                </div>\n                <h4><Link href={this.state.block2.url} to={this.state.block2.url}>{this.state.block2.title}</Link></h4>\n                <p>{this.state.block2.content}</p>\n              </div>\n            </div>\n\n            <div className=\"col-xs-12 col-sm-4\">\n              <div className=\"home-block\">\n                <div className=\"home-block-thumbnail\">\n                  <Link href={this.state.block3.url} to={this.state.block3.url}>\n                    <img src={this.state.block3.thumbnail} alt={this.state.block3.title} className=\"img-responsive\"/>\n                  </Link>\n                </div>\n                <h4><Link href={this.state.block3.url} to={this.state.block3.url}>{this.state.block3.title}</Link></h4>\n                <p>{this.state.block3.content}</p>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport OwlCarousel from 'react-owl-carousel';\nimport {Link} from 'react-router-dom';\n\nexport default class HighlightsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"highlights_list\")!==null && sessionStorage.getItem(\"highlights_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"highlights_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"category?slug=highlights&posts_per_page=9\")\n    \t  .then(function (response) {\n          let data = response.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let highlight = data[i];\n      let descriptionText = highlight.post_excerpt.replace(/<[^>]+>/ig,\" \");\n      descriptionText = descriptionText.replace(\"&amp;\", \"&\");\n      if (descriptionText.length>100) {\n        descriptionText = descriptionText.substring(0,100)+\"...\";\n      }\n\n      let item = <div className=\"item\" key={i}>\n        <Link to={\"/wp-post/\"+highlight.post_name}>\n          <img src={highlight.thumbnail} className=\"img-responsive highlights-thumbnail\" alt={highlight.post_title} />\n        </Link>\n        <div className=\"home-collection\">\n          <h4><Link to={\"/wp-post/\"+highlight.post_name}>{highlight.post_title}</Link></h4>\n          <p>{descriptionText}</p>\n        </div>\n      </div>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let owlNavText = ['<i class=\"fa fa-angle-left\"></i>','<i class=\"fa fa-angle-right\"></i>'];\n    let owlResponsive = {\n        0:{\n            items:1\n        },\n        600:{\n            items:2\n        },\n        767:{\n            items:3\n        },\n        992: {\n          items:4\n        }\n    };\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content =  <div className=\"container\">\n          <OwlCarousel\n            className=\"owl-theme\"\n            autoplay={false}\n            autoplayhoverpause=\"true\"\n            margin={10}\n            nav\n            items={4}\n            navText={owlNavText}\n            navContainerClass='news-nav-class'\n            dots={false}\n            responsive={owlResponsive}\n            >\n            {this.state.items}\n          </OwlCarousel>\n          </div>;\n    }\n    return (\n      <section className=\"home-highlights\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <h2 className=\"section-title\">\n                <span>Highlights</span>\n              </h2>\n              {content}\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class TwitterFeed extends React.Component {\n\n\n    componentDidMount() {\n      let addScript = document.createElement('script');\n      let scriptContent = document.createTextNode('!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?\"http\":\"https\";if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\"://platform.twitter.com/widgets.js\";fjs.parentNode.insertBefore(js,fjs);}}(document,\"script\",\"twitter-wjs\");');\n      addScript.appendChild(scriptContent);\n      document.body.appendChild(addScript);\n    }\n\n  render() {\n\n    return(\n      <div>\n        <a className=\"twitter-timeline\" data-height=\"480\" href=\"https://twitter.com/Letters1916\" data-widget-id=\"382284620286275584\" data-background=\"#fcfcf9\">Tweets by @Letters1916</a>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport mapThumb from '../assets/images/letters-map-thumbnail.png';\nimport graphThumb from '../assets/images/letters-graph-thumbnail.png';\nimport TwitterFeed from './twitter-feed';\n\nexport default class VizualizationsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  render() {\n    return (\n      <section className=\"home-vizualizations\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <div className=\"row\">\n                <div className=\"col-xs-12 col-sm-4\">\n                  <div className=\"vizualization-block\">\n                    <h3 className=\"section-title\">\n                      <span>Interactive Map</span>\n                    </h3>\n                    <p className=\"text-justify\">Our interactive world map helps you discover the local and global networks in which Irish people interacted a century ago.</p>\n                    <Link to=\"/vizualizations/map\">\n                      <img src={mapThumb} alt=\"map vizualization thumbnail\" className=\"img-thumbnail img-responsive\" />\n                    </Link>\n                  </div>\n                </div>\n                <div className=\"col-xs-12 col-sm-4\">\n                  <div className=\"vizualization-block\">\n                    <h3 className=\"section-title\">\n                      <span>Network diagram</span>\n                    </h3>\n                    <p>Based on more than 5000 letters by over 2000 correspondents, this diagram provides an insight into their professional and private relationships.</p>\n                    <Link to=\"/vizualizations/graph\">\n                      <img src={graphThumb} alt=\"graph vizualization thumbnail\" className=\"img-thumbnail img-responsive\" />\n                    </Link>\n                  </div>\n                </div>\n                <div className=\"col-xs-12 col-sm-4\">\n                  <TwitterFeed />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport OwlCarousel from 'react-owl-carousel';\nimport {Link} from 'react-router-dom';\nimport {stripHTML} from '../helpers/helpers.js';\n\nexport default class HomeNews extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"homenews_list\")!==null && sessionStorage.getItem(\"homenews_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"homenews_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"category?slug=news&posts_per_page=12&orderby=date\")\n    \t  .then(function (response) {\n          let data = response.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let highlight = data[i];\n      let descriptionText = stripHTML(highlight.post_excerpt);\n      if (descriptionText.length>100) {\n        descriptionText = descriptionText.substring(0,100)+\"...\";\n      }\n\n      let item = <div className=\"item\" key={i}>\n        <h4><Link to={\"/wp-post/\"+highlight.post_name}>{highlight.post_title}</Link></h4>\n        <div className=\"news-thumb\">\n\n          <Link to={\"/wp-post/\"+highlight.post_name}>\n            <img src={highlight.thumbnail} className=\"img-responsive highlights-thumbnail\" alt={highlight.post_title} />\n          </Link>\n          <p>{descriptionText}</p>\n        </div>\n      </div>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let owlNavText = ['<i class=\"fa fa-angle-left\"></i>','<i class=\"fa fa-angle-right\"></i>'];\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content =  <OwlCarousel className=\"owl-theme home-news\" loop margin={10} nav items={1} navText={owlNavText} navContainerClass='news-nav-class' dots={false}>\n            {this.state.items}\n          </OwlCarousel>;\n    }\n    return (\n      <div>\n        <h2>News</h2>\n        {content}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport Carousel from '../components/carousel.js';\nimport HomeAbout from '../components/home-about.js';\nimport HomeLettersBlock from '../components/home-letters-block.js';\nimport HighlightsBlock from '../components/highlights-block.js';\nimport VizualizationsBlock from '../components/home-vizualizations-block.js';\nimport HomeNews from '../components/home-news.js';\n\nexport class HomeView extends Component {\n\n  componentDidMount() {\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"carousel-wrapper\">\n          <div className=\"container\">\n            <Carousel/>\n          </div>\n        </div>\n\n        <section className=\"home-section\">\n          <div className=\"container\">\n            <div className=\"row\">\n\n              <div className=\"col-xs-12 col-sm-7 col-md-8\">\n                <HomeAbout />\n              </div>\n\n              <div className=\"col-xs-12 col-sm-5 col-md-4\">\n                <HomeNews />\n              </div>\n\n            </div>\n          </div>\n        </section>\n\n        <HomeLettersBlock />\n\n        <HighlightsBlock />\n\n        <VizualizationsBlock />\n\n\n\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nclass BreadCrumbs extends React.Component {\n  render() {\n    let items = this.props.items;\n    let itemsHTML = [];\n    for (let i=0; i<items.length; i++) {\n      let item = items[i];\n      let path = item.path;\n      let label = item.label;\n      let link = label;\n      if (path.length>0) {\n        link = <Link to={path}>{label}</Link>;\n      }\n      var listItem = <li key={i}>{link}</li>;\n      itemsHTML.push(listItem);\n    }\n    return (\n      <div className=\"breadcrumbs-container\">\n        <ul className=\"breadcrumbs-list\">\n          <li><Link to=\"/\"><i className=\"fa fa-home\"></i> Home</Link></li>\n          {itemsHTML}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default BreadCrumbs;\n","import React, {Component} from 'react';\n\nexport default class Pagination extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      paginationItems: []\n    };\n  }\n\n  createPagination() {\n    // pagination\n    if (this.props) {\n      let currentPage = this.props.current_page;\n      let lastPage = this.props.total_pages;\n      let prevPage = 0;\n      let nextPage = 0;\n\n      if (currentPage<lastPage) {\n        nextPage = currentPage+1;\n      }\n      if (currentPage>1) {\n        prevPage = currentPage-1;\n      }\n      let paginationItems = [];\n      let paginationFirstItem = <li key=\"first\"><span className='href-btn' onClick={this.props.pagination_function.bind(this,1)}><i className=\"fa-step-backward fa\"></i></span></li>;\n      let paginationPrevItem = <li key=\"prev\"><span className='href-btn' onClick={this.props.pagination_function.bind(this,prevPage)}><i className=\"fa-backward fa\"></i></span></li>;\n      paginationItems.push(paginationFirstItem);\n      paginationItems.push(paginationPrevItem);\n\n      for (let j=0; j<parseInt(lastPage,10);j++) {\n        let pageNum = j+1;\n        let pageActive = \"\";\n\n        if (currentPage===pageNum) {\n          pageActive = \"active\";\n        }\n\n        let paginationItem =  <li key={pageNum} className={pageActive}><span className='href-btn' onClick={this.props.pagination_function.bind(this,pageNum)}>{pageNum}</span></li>;\n        if (pageActive === \"active\") {\n          paginationItem = <li key={pageNum} className={pageActive}><span>{pageNum}</span></li>;\n        }\n\n        if (parseInt(currentPage,10)<4 && j<10) {\n          paginationItems.push(paginationItem);\n        }\n        else if (j>(parseInt(currentPage,10)-6) && j<(parseInt(currentPage,10)+4) ){\n          paginationItems.push(paginationItem);\n        }\n      }\n      let paginationNextItem = <li key=\"next\"><span className='href-btn' onClick={this.props.pagination_function.bind(this,nextPage)}><i className=\"fa-forward fa\"></i></span></li>;\n      let paginationLastItem = <li key=\"last\"><span className='href-btn' onClick={this.props.pagination_function.bind(this,lastPage)}><i className=\"fa-step-forward fa\"></i></span></li>;\n      paginationItems.push(paginationNextItem);\n      paginationItems.push(paginationLastItem);\n      this.setState({\n        paginationItems: paginationItems\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.createPagination();\n  }\n  componentDidUpdate(prevProps, prevState) {\n    let context = this;\n    if (prevProps.total_pages!==this.props.total_pages) {\n        context.createPagination();\n    }\n    else if (prevProps.current_page!==this.props.current_page) {\n        context.createPagination();\n    }\n    else if (prevProps.paginate!==this.props.paginate) {\n        context.createPagination();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"pagination-container\">\n        <ul className=\"pagination pagination-sm\">\n          {this.state.paginationItems}\n        </ul>\n      </div>\n    )\n  }\n\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {Link} from 'react-router-dom';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath, domain} from '../common/constants';\nimport Pagination from '../helpers/pagination';\nimport {fixImagePath} from '../helpers/helpers';\n\nexport default class SearchLetters extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      term: this.props.term,\n      loading: false,\n      browseItems: [],\n      paginationItems: [],\n      current_page: 1,\n      from: 1,\n      last_page: 1,\n      path: APIPath+\"search/\",\n      total: 1,\n      paginate: 10,\n      gotopage_value: 1,\n      temp_page:1,\n      submitted_search: false,\n      submit_search: false\n    };\n\n    this.gotoPage = this.gotoPage.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n  }\n\n  gotoPage(pageNum) {\n    if (parseInt(pageNum,10)>0 && parseInt(pageNum,10)!==this.state.current_page) {\n      this.setState({\n        current_page:pageNum,\n        loading: true\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        gotopage_value:newPage,\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  showPage() {\n    let browseContext = this;\n    let term = this.props.term;\n    if (term!==\"\") {\n      let path = this.state.path+term;\n      axios.get(path, {\n          params: {\n            page: this.state.current_page,\n            paginate: this.state.paginate\n          }\n        })\n    \t  .then(function (response) {\n          let responseData = response.data.data;\n          let itemsData = responseData.data;\n          // list of items to display\n          let browseItems = [];\n          for (let i=0; i<itemsData.length; i++) {\n            let item = itemsData[i];\n            let pageNumber = 0;\n            let element = JSON.parse(item.element);\n            let defaultThumbnail = <img className=\"list-thumbnail img-responsive\" src={fixImagePath(domain+\"/diyhistory/archive/square_thumbnails/\"+element.pages[pageNumber].archive_filename)} alt={element.title} />;\n\n            let transcription = \"\";\n            if (element.pages[pageNumber].transcription!==\"\") {\n              let transcriptionText = element.pages[pageNumber].transcription.replace(/<[^>]+>/ig,\" \");\n              transcriptionText = transcriptionText.replace(\"&amp;\", \"&\");\n              if (transcriptionText.length>400) {\n                transcriptionText = transcriptionText.substring(0,400);\n              }\n\n              transcription = transcriptionText+\"...\";\n            }\n            var browseItem = <li data-id={item.id} key={i} className=\"img-clearfix\">\n                <Link to={ 'item/'+item.id}>{defaultThumbnail}</Link>\n                <h4>\n                  <Link to={ '/item/'+item.id}>{element.title}</Link><br/>\n                </h4>\n                <p>{transcription}</p>\n              </li>;\n            browseItems.push(browseItem);\n          }\n          if (browseItems.length===0) {\n            let empty = <li key={0}><i>There are no letters matching your search criteria</i></li>;\n            browseItems.push(empty);\n          }\n          // update state\n          browseContext.setState({\n            loading:false,\n            browseItems: browseItems,\n            current_page: responseData.current_page,\n            last_page: responseData.last_page,\n            total: responseData.total,\n            submit_search: false,\n            submitted_search: true\n          });\n    \t  })\n    \t  .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n    else {\n      this.setState({\n        loading: false,\n        submit_search: false\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.showPage();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.submit_search===true && prevProps.term!==this.props.term) {\n      this.setState({\n        loading: true\n      });\n    }\n\n    if (\n        (\n          prevState.current_page!==this.state.current_page ||\n          prevState.paginate!==this.state.paginate\n        ) && this.state.loading===true ) {\n          this.showPage();\n        }\n\n    if (prevState.submit_search!==this.props.submit_search) {\n        this.showPage();\n    }\n  }\n\n\n  render() {\n\n    let content;\n    let resultsFound = \"\";\n    let resultsText = \"results\";\n    if (this.state.total>0) {\n      if (this.state.total===1) {\n        resultsText = \"result\";\n      }\n      resultsFound = <div className=\"results-found\"><i>Found {this.state.total} {resultsText}</i></div>;\n    }\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"search-items\">{this.state.browseItems}</ul>;\n    }\n\n    let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n    if (this.state.paginate===10) {\n      paginate10Active = \"active\";\n    }\n    if (this.state.paginate===25) {\n      paginate25Active = \"active\";\n    }\n    if (this.state.paginate===50) {\n      paginate50Active = \"active\";\n    }\n\n    let paginationHTML = <div className=\"browse-filters\">\n\n      <DropdownButton\n        title=\"Limit\"\n        id=\"limit-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n        <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n      </DropdownButton>\n\n      <Pagination\n          paginate={this.state.paginate}\n          current_page={this.state.current_page}\n          total_pages={this.state.last_page}\n          pagination_function={this.gotoPage} />\n\n      <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n        <div className=\"input-group input-group-sm go-to-page\">\n          <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n          <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n          <span className=\"input-group-btn\">\n            <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n          </span>\n        </div>\n      </form>\n\n    </div>;\n\n    let searchContent = <div>\n      <p>&nbsp;</p>\n      <p>&nbsp;</p>\n      <p>&nbsp;</p>\n    </div>;\n    if ((this.props.term!==\"\" && this.state.browseItems.length>0) || this.state.submitted_search) {\n      searchContent = <div className=\"search-letters-container\">\n        <h3>Letters{resultsFound}</h3>\n        {paginationHTML}\n        {content}\n        {paginationHTML}\n      </div>;\n    }\n    return (\n        <div>\n          {searchContent}\n        </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {Link} from 'react-router-dom';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport {stripHTML} from '../helpers/helpers.js';\nimport Pagination from '../helpers/pagination.js';\nimport {domain} from '../common/constants.js';\n\nexport default class SearchWP extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      term: this.props.term,\n      loading: false,\n      browseItems: [],\n      paginationItems: [],\n      current_page: 1,\n      from: 1,\n      last_page: 1,\n      path: WPCustomRestPath+\"search/\",\n      per_page: 0,\n      to: 1,\n      total: 1,\n      paginate: 10,\n      gotopage_value: 1,\n      temp_page:1,\n      submit_search: false,\n      submitted_search: false\n    };\n\n    this.gotoPage = this.gotoPage.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n  }\n\n  gotoPage(pageNum) {\n    if (parseInt(pageNum,10)>0 && parseInt(pageNum,10)!==this.state.current_page) {\n      this.setState({\n        current_page:pageNum,\n        loading: true\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        gotopage_value:newPage,\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  showPage() {\n    let browseContext = this;\n    let term = this.props.term;\n    if (term!==\"\") {\n      let path = this.state.path;\n      axios.get(path, {\n          params: {\n            s: term,\n            page: this.state.current_page,\n            posts_per_page: this.state.paginate,\n          }\n        })\n    \t  .then(function (response) {\n          let responseData = response.data.data;\n          let itemsData = responseData.data;\n\n          // list of items to display\n          let browseItems = [];\n          for (let i=0; i<itemsData.length; i++) {\n            let item = itemsData[i];\n            let defaultThumbnail;\n            if (item.thumbnail!==\"\") {\n              defaultThumbnail = <img className=\"list-thumbnail img-responsive\" src={item.thumbnail} alt={item.post_title} />\n            }\n            let description = \"\";\n            if (item.description!==\"\") {\n              let descriptionText = stripHTML(item.description);\n              if (descriptionText.length>400) {\n                descriptionText = descriptionText.substring(0,400);\n              }\n\n              description = descriptionText+\"...\";\n            }\n            let newPermalink = '';\n            if (item.permalink!=='') {\n              newPermalink = item.permalink.replace(domain+\"/\", \"\");\n            }\n            var browseItem = <li data-id={item.ID} key={i} className=\"img-clearfix\">\n                <Link to={ 'wp-post/'+newPermalink}>{defaultThumbnail}</Link>\n                <h4><Link to={ '/wp-post/'+newPermalink}>{item.post_title}</Link></h4>\n                <p>{description}</p>\n              </li>;\n            browseItems.push(browseItem);\n          }\n          if (browseItems.length===0) {\n            let empty = <li key={0}><i>There are no articles matching your search criteria</i></li>;\n            browseItems.push(empty);\n          }\n\n          // update state\n          browseContext.setState({\n            loading:false,\n            browseItems: browseItems,\n            current_page: responseData.current_page,\n            last_page: responseData.last_page,\n            total: responseData.total,\n            submit_search: false,\n            submitted_search: true\n          });\n\n    \t  })\n    \t  .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n    else {\n      this.setState({\n        loading: false,\n        submit_search: false\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.showPage();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.submit_search===true && prevProps.term!==this.props.term) {\n      this.setState({\n        loading: true\n      });\n    }\n\n    if (\n        (\n          prevState.current_page!==this.state.current_page ||\n          prevState.paginate!==this.state.paginate\n        ) && this.state.loading===true ) {\n          this.showPage();\n        }\n\n    if (prevState.submit_search!==this.props.submit_search) {\n        this.showPage();\n    }\n  }\n\n\n  render() {\n\n    let content;\n    let resultsFound = \"\";\n    let resultsText = \"articles\";\n    if (this.state.total>0) {\n      if (this.state.total===1) {\n        resultsText = \"article\";\n      }\n      resultsFound = <div className=\"results-found\"><i>Found {this.state.total} {resultsText}</i></div>;\n    }\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"search-items\">{this.state.browseItems}</ul>;\n    }\n\n    let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n    if (this.state.paginate===10) {\n      paginate10Active = \"active\";\n    }\n    if (this.state.paginate===25) {\n      paginate25Active = \"active\";\n    }\n    if (this.state.paginate===50) {\n      paginate50Active = \"active\";\n    }\n\n    let paginationHTML = <div className=\"browse-filters\">\n\n      <DropdownButton\n        title=\"Limit\"\n        id=\"limit-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n        <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n      </DropdownButton>\n\n      <Pagination\n          paginate={this.state.paginate}\n          current_page={this.state.current_page}\n          total_pages={this.state.last_page}\n          pagination_function={this.gotoPage} />\n\n      <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n        <div className=\"input-group input-group-sm go-to-page\">\n          <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n          <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n          <span className=\"input-group-btn\">\n            <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n          </span>\n        </div>\n      </form>\n\n    </div>;\n\n    let searchContent = <div>\n      <p>&nbsp;</p>\n      <p>&nbsp;</p>\n      <p>&nbsp;</p>\n    </div>;\n    if ((this.props.term!==\"\" && this.state.browseItems.length>0) || this.state.submitted_search) {\n      searchContent = <div className=\"search-letters-container\">\n        <h3>Content {resultsFound}</h3>\n        {paginationHTML}\n        {content}\n        {paginationHTML}\n      </div>;\n    }\n    return (\n        <div>\n          {searchContent}\n        </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport SearchLetters from '../components/search-letters';\nimport SearchWP from '../components/search-wp';\n\nexport class SearchView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      term: \"\",\n      submit_search: false,\n      search_letters: true,\n      search_content: true\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      term: event.target.value,\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      submit_search: true\n    });\n  }\n\n  toggleCheckbox(e) {\n    let value = true;\n    if (e.target.value===\"true\") {\n      value = false;\n    }\n    if (e.target.name===\"search-letters\") {\n      this.setState({\n        search_letters: value\n      });\n    }\n    if (e.target.name===\"search-content\") {\n      this.setState({\n        search_content: value\n      });\n    }\n  }\n\n  componentWillMount() {\n    let getTerm = \"\";\n    if (typeof this.props.match.params.term !=='undefined') {\n      getTerm = this.props.match.params.term;\n    }\n    this.setState({\n      term: getTerm\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.submit_search===true) {\n      this.setState({\n        submit_search: false\n      });\n    }\n    if (prevProps.match.url!==this.props.match.url) {\n      this.setState({\n        term: this.props.match.params.term,\n        submit_search: true\n      });\n    }\n  }\n\n  render() {\n    let breadCrumbsArr = [{label:'Search',path:''}];\n    let searchFormStyle = {\n      margin: \"20px 0 0 0\"\n    }\n    let searchLetters = [];\n    let searchContent = [];\n    if (this.state.search_letters) {\n      searchLetters = <SearchLetters term={this.state.term} submit_search={this.state.submit_search} />;\n    }\n    if (this.state.search_content) {\n      searchContent = <SearchWP term={this.state.term} submit_search={this.state.submit_search} />;\n    }\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h2>Search</h2>\n            <div style={searchFormStyle}>\n              <form name=\"general-search-input\" onSubmit={this.handleSubmit}>\n                <div className=\"input-group\">\n                  <input onChange={this.handleChange} value={this.state.term} name=\"search-bar\" type=\"text\" className=\"form-control\" placeholder=\"Search Letters 1916-1923\" />\n                  <span className=\"input-group-btn\">\n                    <button className=\"btn btn-default\" onClick={this.handleSubmit} type=\"button\" id=\"search-letters-submit\">Search</button>\n                  </span>\n                </div>\n                <div className=\"search-checkboxes\">\n                  <div className=\"checkbox\">\n                    <label>\n                      <input onChange={this.toggleCheckbox.bind(this)} name=\"search-letters\" type=\"checkbox\" checked={this.state.search_letters} value={this.state.search_letters} /> search letters\n                    </label>\n                  </div>\n                  <div className=\"checkbox\">\n                    <label>\n                      <input onChange={this.toggleCheckbox.bind(this)} name=\"search-content\" type=\"checkbox\" checked={this.state.search_content} value={this.state.search_content} /> search content\n                    </label>\n                  </div>\n                </div>\n              </form>\n            </div>\n            {searchLetters}\n            {searchContent}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\nimport {ToggleClass} from '../helpers/helpers.js';\n\nexport default class TopicsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      topics: [],\n      autocomplete_visible: false,\n      autocomplete_value: \"\"\n    }\n\n    this.toggleElementChildren = this.toggleElementChildren.bind(this);\n    this.toggleAutocomplete = this.toggleAutocomplete.bind(this);\n    this.autocomplete = this.autocomplete.bind(this);\n  }\n\n  toggleElementChildren(e) {\n    e.preventDefault();\n    let targetNode = e.currentTarget;\n    if (targetNode.nextSibling===null) {\n      return false;\n    }\n    let toggle = targetNode.attributes['data-toggle'].value;\n    let newValue = \"closed\";\n    if (toggle===\"closed\") {\n      newValue = \"open\";\n    }\n    targetNode.setAttribute('data-toggle',newValue);\n    // update dropdown arrow\n    ToggleClass(targetNode.nextSibling, toggle, newValue);\n    ToggleClass(targetNode, toggle, newValue);\n  }\n\n  loadTopics() {\n    if (sessionStorage.getItem(\"topics_list\")!==null && sessionStorage.getItem(\"topics_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"topics_list\"));\n      let topics = [];\n      for (let i=0; i<data.length; i++) {\n        let item = data[i];\n        let topic = this.topicItem(item, i);\n        topics.push(topic);\n      }\n      this.setState({\n        loading: false,\n        topics: topics\n      });\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"topics?status=1&transcription_status=2\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          console.log(typeof data);\n          let topics = [];\n          for (let i=0; i<data.length; i++) {\n            let item = data[i];\n            let topic = context.topicItem(item, i);\n            topics.push(topic);\n          }\n          context.setState({\n            loading: false,\n            topics: topics\n          });\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  topicItem(item, i) {\n    let children = item.children;\n    let childrenHTML = [];\n    let toggleChildren = [];\n    let hasChildrenClass = \"\";\n    if (children.length>0) {\n      childrenHTML = this.topicChildren(children, i);\n      toggleChildren = <span className=\"toggle-children\"\n      onClick={this.toggleElementChildren}\n      data-toggle=\"closed\"\n      >\n        <i className=\"fa fa-angle-left\"></i>\n      </span>;\n      hasChildrenClass = \" has-children\";\n    }\n    let topic = <li key={i} data-key={i}>\n      <span className=\"href-btn\" onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{item.name}</span>\n        <span className=\"select-topic\">\n          <i className=\"fa fa-circle-o\" data-id={item.id}></i>\n        </span>\n      <span\n        className={\"topic-label\"+hasChildrenClass}\n        data-toggle=\"closed\"\n          >{item.name} (<span className=\"count\" data-default={item.count}>{item.count}</span>)</span>\n      </span>\n      {toggleChildren}\n      {childrenHTML}\n    </li>;\n    return topic;\n  }\n\n  topicChildren(children, i) {\n    let childrenItems = [];\n    let childrenObject = [];\n    if (children.length>0) {\n      for (let j=0; j<children.length; j++) {\n        let child = children[j];\n        let childItem = this.topicItem(child, i+\".\"+j);\n        childrenItems.push(childItem);\n      }\n      childrenObject = <ul className=\"topics-list-children\" data-parent={i}>{childrenItems}</ul>;\n    }\n\n    return childrenObject;\n  }\n\n  toggleAutocomplete() {\n    return false;\n    /*let newStatus = true;\n    if (this.state.autocomplete_visible) {\n      newStatus = false;\n    }\n    this.setState({\n      autocomplete_visible: newStatus\n    })*/\n  }\n\n  autocomplete(e) {\n    this.setState({\n      autocomplete_value: e.target.value\n    })\n  }\n\n  componentDidMount() {\n    this.loadTopics();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      /*let autocompleteClass=\" closed\";\n      if (this.state.autocomplete_visible) {\n        autocompleteClass = \"\";\n      }*/\n\n      content = <div>\n        <h5 onClick={this.toggleAutocomplete}>Keywords\n        {/*  <span style={{paddingLeft: \"5px\", fontSize: \"14px\"}} >\n            <i className=\"fa fa-caret-down\"></i>\n          </span> */}\n        </h5>\n        {/*<div className={\"form-group filter-autocomplete\"+autocompleteClass}>\n          <input className=\"form-control\" type=\"text\" placeholder=\"filter keywords\" onChange={this.autocomplete.bind(this)} value={this.state.autocomplete_value}/>\n          <i className=\"fa fa-times-circle-o\"></i>\n        </div>*/}\n        <ul className=\"topics-list\">{this.state.topics}</ul>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class SourcesBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"sources_list\")!==null && sessionStorage.getItem(\"sources_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"sources_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"sources\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let sourceLabel = dataItem.source;\n      if (dataItem.source===\"\") {\n        sourceLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.source}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.source}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{sourceLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"sources-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Sources</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class AuthorsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"authors_list\")!==null && sessionStorage.getItem(\"authors_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"authors_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"authors?status=1&transcription_status=2\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let authorLabel = dataItem.creator;\n      if (dataItem.creator===\"\") {\n        authorLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.creator}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.creator}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{authorLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"authors-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Authors</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class GendersBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"genders_list\")!==null && sessionStorage.getItem(\"genders_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"genders_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"genders?status=1&transcription_status=2\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let genderLabel = dataItem.gender;\n      if (dataItem.gender===\"\") {\n        genderLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.gender}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.gender}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{genderLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <div>\n        <h5>Gender</h5>\n        <ul className=\"genders-list\">{this.state.items}</ul>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class LanguageBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"languages_list\")!==null && sessionStorage.getItem(\"languages_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"languages_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"languages?status=1&transcription_status=2\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let languageLabel = dataItem.language;\n      if (dataItem.language===\"\") {\n        languageLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.language}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.language}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{languageLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"languages-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Language</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport moment from 'moment';\n\nexport default class Picker extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      disabled: false,\n    }\n  }\n\n  render() {\n    let defaultDate = moment('1916-01-01');\n    let props = this.props;\n    let newValue = props.value;\n    if (newValue!==null) {\n      defaultDate = newValue;\n    }\n    let content = <div className=\"input-group input-group-sm\">\n      <DatePicker\n        dateFormat='YYYY-MM-DD'\n        selected={newValue}\n        onChange={props.onChange}\n        highlightDates={props.dates}\n        openToDate={defaultDate}\n        placeholderText={props.placeholder}\n      />\n      <span className=\"input-group-btn\" onClick={props.clearFunction}>\n        <button type=\"button\" className=\"btn btn-letters btn-flat btn-sm\"><i className=\"fa fa-times\"></i></button>\n      </span>\n    </div>;\n    return (\n      <div className=\"datepicker-wrapper\">{content}</div>\n    )\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\nimport DatePicker from './datepicker';\nimport moment from 'moment';\n\nexport default class DatecreatedBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      startValue: null,\n      endValue: null,\n      startOpen: false,\n      endOpen: false,\n      calendarDates: [],\n      excludedDates: []\n    }\n    this.loadItems = this.loadItems.bind(this);\n    this.setItems = this.setItems.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.startDateClear = this.startDateClear.bind(this);\n    this.endDateClear = this.endDateClear.bind(this);\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"date_created_list\")!==null && sessionStorage.getItem(\"date_created_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"date_created_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"date_created?status=1&transcription_status=2\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let calendarDates = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let dateCreated = dataItem.date_created;\n      let dateArr = dateCreated.split(\"-\");\n      if (dateArr.length>=2) {\n        dateCreated = dateCreated.replace(\"T00:00:00\",\"\");\n        if (dateCreated.length===10) {\n          let newDate = moment(dateCreated);\n          if (!calendarDates.includes(newDate)) {\n            calendarDates.push(newDate);\n          }\n        }\n\n      }\n    }\n    this.setState({\n      loading: false,\n      calendarDates: calendarDates\n    });\n  }\n\n  updateItems(data) {\n    let dataToArr = Object.keys(data).map(function(key) {\n      return key;\n    });\n    let calendarDates = [];\n    for (let i=0;i<dataToArr.length; i++) {\n      let dateCreated = dataToArr[i];\n      let dateArr = dateCreated.split(\"-\");\n      if (dateArr.length>=2) {\n        dateCreated = dateCreated.replace(\"T00:00:00\",\"\");\n        if (dateCreated.length===10) {\n          let newDate = moment(dateCreated);\n          if (!calendarDates.includes(newDate)) {\n            calendarDates.push(newDate);\n          }\n        }\n      }\n    }\n    this.setState({\n      loading: false,\n      calendarDates: calendarDates\n    });\n  }\n\n  onChange (field, value){\n    if (field===\"endValue\" && this.state.startValue!==null) {\n      let startValue = moment(this.state.startValue);\n      let endValue = moment(value);\n      if (endValue<startValue) {\n        value = this.state.startValue;\n      }\n    }\n    this.setState({\n      [field]: value,\n    });\n  }\n\n  startDateClear() {\n    this.setState({\n      startValue: null\n    });\n  }\n\n  endDateClear() {\n    this.setState({\n      endValue: null\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.startValue!==this.state.startValue || prevState.endValue!==this.state.endValue) {\n      let newStartValue = null;\n      let newEndValue = null;\n      if (this.state.startValue!==null) {\n        newStartValue = moment(this.state.startValue).format(\"YYYY-MM-DD\");\n      }\n      if (this.state.endValue!==null) {\n        newEndValue = moment(this.state.endValue).format(\"YYYY-MM-DD\");\n      }\n      let returnValues = {\n        startValue: newStartValue,\n        endValue: newEndValue\n      }\n      this.props.returnfunction(returnValues);\n    }\n    if (prevProps.availableDates!== this.props.availableDates) {\n      this.updateItems(this.props.availableDates);\n    }\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n\n      content = <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <DatePicker\n            placeholder=\"From\"\n            value={this.state.startValue}\n            onChange={this.onChange.bind(this, 'startValue')}\n            clearFunction={this.startDateClear}\n            dates={this.state.calendarDates}\n          />\n        </div>\n        <div className=\"col-xs-12\">\n          <DatePicker\n            placeholder=\"To\"\n            value={this.state.endValue}\n            onChange={this.onChange.bind(this, 'endValue')}\n            clearFunction={this.endDateClear}\n            dates={this.state.calendarDates}\n          />\n        </div>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Date sent</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\n//import ReactLoading from 'react-loading';\nimport {Link} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath, domain} from '../common/constants.js';\nimport TopicsBlock from '../components/topics-block.js';\nimport SourcesBlock from '../components/sources-block.js';\nimport AuthorsBlock from '../components/authors-block.js';\nimport GendersBlock from '../components/genders-block.js';\nimport LanguagesBlock from '../components/languages-block.js';\nimport DatecreatedBlock from '../components/date_created-block.js';\nimport Pagination from '../helpers/pagination.js';\nimport {PreloaderCards,ToggleClass,ReplaceClass,Emptyitemscard,CompareFilterTopics,CompareFilterGeneral,SelectedTopicsChecked,SelectedFiltersChecked,fixImagePath} from '../helpers/helpers.js';\nimport {loadProgressBar} from 'axios-progress-bar';\n\nexport class BrowseView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      browseItems: [],\n      page: 1,\n      current_page: 1,\n      temp_page: 1,\n      path: APIPath+\"index\",\n      topics_path: APIPath+\"topicsbyid/\",\n      total: 0,\n      sort: \"desc\",\n      paginate: 10,\n      paginationHTML: [],\n      length: 0,\n      firstLoad:1,\n      selectedTopics: [],\n      keywords_ids: [],\n      sources: [],\n      authors: [],\n      genders: [],\n      languages: [],\n      dates_sent: [],\n      date_start: [],\n      date_end: [],\n      queryStatus: 1,\n      queryTranscriptionStatus: 2,\n    };\n\n    this.updatePage = this.updatePage.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updateSort = this.updateSort.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n    this.topicFilter = this.topicFilter.bind(this);\n    this.filterContent = this.filterContent.bind(this);\n    this.browserItems = this.browserItems.bind(this);\n    //this.selectedTopicsToggleChildren = this.selectedTopicsToggleChildren.bind(this);\n    this.sourcesFilter = this.sourcesFilter.bind(this);\n    this.authorsFilter = this.authorsFilter.bind(this);\n    this.gendersFilter = this.gendersFilter.bind(this);\n    this.languagesFilter = this.languagesFilter.bind(this);\n    this.datecreatedFilter = this.datecreatedFilter.bind(this);\n    this.setSessionStorage = this.setSessionStorage.bind(this);\n    this.checkSessionStorage = this.checkSessionStorage.bind(this);\n    this.clearFilters = this.clearFilters.bind(this);\n\n  }\n\n  updatePage(e) {\n    if (e>0 && e!==this.state.current_page) {\n      this.setState({\n        loading:true,\n        current_page: e,\n        temp_page: e,\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updateSort(value) {\n    if (value!==this.state.sort) {\n      this.setState({\n        sort: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  topicFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-topic\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".topic-label\")[0];\n\n    let className = element.className;\n    let prevTopics = this.state.selectedTopics;\n    let selectedTopics = [];\n    for (let i=0;i<prevTopics.length;i++) {\n      selectedTopics.push(prevTopics[i]);\n    }\n    let currentId = element.getAttribute(\"data-id\");\n    if (className===\"fa fa-circle-o\") {\n      if (selectedTopics.indexOf(currentId)===-1) {\n        selectedTopics.push(currentId);\n      }\n    }\n    else {\n      if (selectedTopics.indexOf(currentId)>-1) {\n        let index = selectedTopics.indexOf(currentId);\n         selectedTopics.splice(index, 1);\n      }\n    }\n    this.setState({\n      loading:true,\n      selectedTopics: selectedTopics,\n      keywords_ids:selectedTopics\n    });\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n\n  }\n\n  sourcesFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevSources = this.state.sources;\n    let selectedSources = [];\n    for (let i=0;i<prevSources.length;i++) {\n      selectedSources.push(prevSources[i]);\n    }\n    let currentSource = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedSources.indexOf(currentSource)===-1) {\n        selectedSources.push(currentSource);\n      }\n    }\n    else {\n      if (selectedSources.indexOf(currentSource)>-1) {\n        let index = selectedSources.indexOf(currentSource);\n         selectedSources.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      sources: selectedSources\n    });\n  }\n\n  authorsFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevAuthors = this.state.authors;\n    let selectedAuthors = [];\n    for (let i=0;i<prevAuthors.length;i++) {\n      selectedAuthors.push(prevAuthors[i]);\n    }\n    let currentAuthor = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedAuthors.indexOf(currentAuthor)===-1) {\n        selectedAuthors.push(currentAuthor);\n      }\n    }\n    else {\n      if (selectedAuthors.indexOf(currentAuthor)>-1) {\n        let index = selectedAuthors.indexOf(currentAuthor);\n         selectedAuthors.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      authors: selectedAuthors\n    });\n\n  }\n\n  gendersFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevGenders = this.state.genders;\n    let selectedGenders = [];\n    for (let i=0;i<prevGenders.length;i++) {\n      selectedGenders.push(prevGenders[i]);\n    }\n    let currentGender = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedGenders.indexOf(currentGender)===-1) {\n        selectedGenders.push(currentGender);\n      }\n    }\n    else {\n      if (selectedGenders.indexOf(currentGender)>-1) {\n        let index = selectedGenders.indexOf(currentGender);\n         selectedGenders.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      genders: selectedGenders\n    });\n  }\n\n  languagesFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevLanguages = this.state.languages;\n    let selectedLanguages = [];\n    for (let i=0;i<prevLanguages.length;i++) {\n      selectedLanguages.push(prevLanguages[i]);\n    }\n    let currentLanguage = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedLanguages.indexOf(currentLanguage)===-1) {\n        selectedLanguages.push(currentLanguage);\n      }\n    }\n    else {\n      if (selectedLanguages.indexOf(currentLanguage)>-1) {\n        let index = selectedLanguages.indexOf(currentLanguage);\n         selectedLanguages.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      languages: selectedLanguages\n    });\n  }\n\n  datecreatedFilter(value) {\n    let dateStart = value.startValue;\n    let dateEnd = value.endValue;\n    this.setState({\n      loading:true,\n      date_start: dateStart,\n      date_end: dateEnd,\n    });\n  }\n\n  clearFilters() {\n    if (\n      this.state.selectedTopics!==[] ||\n      this.state.keywords_ids!==[] ||\n      this.state.sources!==[] ||\n      this.state.authors!==[] ||\n      this.state.genders!==[] ||\n      this.state.languages!==[] ||\n      this.state.date_start!==[] ||\n      this.state.date_end!==[]\n    ) {\n      this.setState({\n        loading: true,\n        selectedTopics: [],\n        keywords_ids: [],\n        sources: [],\n        authors: [],\n        genders: [],\n        languages: [],\n        date_start: [],\n        date_end: [],\n      });\n    }\n  }\n\n  selectedTopicsToggleChildren(parent, className) {\n    let selectedTopics = this.state.selectedTopics;\n    let children = ReactDOM.findDOMNode(parent).children;\n\n    if (typeof children[3]===\"object\") {\n      let childrenTopics = children[3];\n      let childrenLi = ReactDOM.findDOMNode(childrenTopics).children;\n\n      for (let i=0;i<childrenLi.length;i++) {\n        let liChildren = ReactDOM.findDOMNode(childrenLi[i]).children;\n        let selectTopicI = ReactDOM.findDOMNode(liChildren[0]).children;\n\n        let currentId = selectTopicI[0].getAttribute(\"data-id\");\n        if (className===\"fa fa-circle-o\") {\n          if (selectedTopics.indexOf(currentId)===-1) {\n            selectedTopics.push(currentId);\n          }\n        }\n        else {\n          if (selectedTopics.indexOf(currentId)>-1) {\n            let index = selectedTopics.indexOf(currentId);\n             selectedTopics.splice(index, 1);\n          }\n        }\n        if (typeof liChildren[3]===\"object\") {\n          let secondChild = ReactDOM.findDOMNode(liChildren[3]).parentNode;\n          this.selectedTopicsToggleChildren(secondChild, className);\n        }\n        let className1 = \"fa-check-circle-o\";\n        let className2 = \"fa-circle-o\";\n        if (className===\"fa fa-circle-o\") {\n          className1 = \"fa-circle-o\";\n          className2 = \"fa-check-circle-o\";\n        }\n        ReplaceClass(selectTopicI[0], className1, className2);\n      }\n    }\n    this.setState({selectedTopics: selectedTopics});\n  }\n\n  filterContent() {\n    let browseContext = this;\n    let path = APIPath+\"indexfiltered/\";\n    axios.get(path, {\n      params: {\n        sort: this.state.sort,\n        page: this.state.current_page,\n        paginate: this.state.paginate,\n        keywords: this.state.keywords_ids,\n        sources: this.state.sources,\n        authors: this.state.authors,\n        genders: this.state.genders,\n        languages: this.state.languages,\n        date_start: this.state.date_start,\n        date_end: this.state.date_end,\n        status: this.state.queryStatus,\n        transcription_status: this.state.queryTranscriptionStatus\n      }\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      let itemsData = responseData.data;\n      let browseItems = [];\n      if (typeof itemsData!==\"undefined\" && itemsData.length>0) {\n        browseItems = browseContext.browserItems(itemsData);\n      }\n      else browseItems = <Emptyitemscard />;\n      // update state\n      let currentPage = responseData.current_page;\n      if (responseData.last_page<responseData.current_page) {\n        currentPage = responseData.last_page;\n        browseContext.setState({\n          loading:false,\n          browseItems: browseItems,\n          current_page: currentPage,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      }\n      else {\n        browseContext.setState({\n          loading:false,\n          browseItems: browseItems,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      }\n      SelectedTopicsChecked(browseContext.state.keywords_ids);\n      SelectedFiltersChecked(\"sources-list\", browseContext.state.sources);\n      SelectedFiltersChecked(\"authors-list\", browseContext.state.authors);\n      SelectedFiltersChecked(\"genders-list\", browseContext.state.genders);\n      SelectedFiltersChecked(\"languages-list\", browseContext.state.languages);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  updateFilters() {\n    let context = this;\n    let path = APIPath+\"indexfilteredfilters/\";\n    axios.get(path, {\n      params: {\n        sort: this.state.sort,\n        page: 1,\n        paginate: this.state.paginate,\n        keywords: this.state.keywords_ids,\n        sources: this.state.sources,\n        authors: this.state.authors,\n        genders: this.state.genders,\n        languages: this.state.languages,\n        date_start: this.state.date_start,\n        date_end: this.state.date_end,\n        status: this.state.queryStatus,\n        transcription_status: this.state.queryTranscriptionStatus,\n      }\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      // topics\n      let topics = responseData.keywords;\n      CompareFilterTopics(topics);\n\n      // sources\n      let sources = responseData.sources;\n      CompareFilterGeneral(\"sources-list\",sources);\n\n      // sources\n      let authors = responseData.authors;\n      CompareFilterGeneral(\"authors-list\",authors);\n\n      // genders\n      let genders = responseData.genders;\n      CompareFilterGeneral(\"genders-list\",genders);\n\n      // languages\n      let languages = responseData.languages;\n      CompareFilterGeneral(\"languages-list\",languages);\n\n      // dates\n      context.setState({\n        dates_sent: responseData.dates_sent\n      });\n\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  showPage() {\n    let browseContext = this;\n    let path = this.state.path;\n    axios.get(path, {\n        params: {\n          page: this.state.current_page,\n          sort: this.state.sort,\n          paginate: this.state.paginate\n        }\n      })\n  \t  .then(function (response) {\n        let responseData = response.data.data;\n        let itemsData = responseData.data;\n        let browseItems = [];\n        if (typeof itemsData!==\"undefined\") {\n          browseItems = browseContext.browserItems(itemsData);\n        }\n        // update state\n        browseContext.setState({\n          loading:false,\n          browseItems: browseItems,\n          current_page: responseData.current_page,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  browserItems(itemsData) {\n    // list of items to display\n    let browseItems = [];\n    for (let i=0; i<itemsData.length; i++) {\n      let item = itemsData[i];\n      let element = JSON.parse(item.element);\n      let defaultThumbnail;\n      if (element.pages.length>0) {\n        defaultThumbnail = <img className=\"list-thumbnail img-responsive\" src={fixImagePath(domain+\"/diyhistory/archive/square_thumbnails/\"+element.pages[0].archive_filename)} alt={element.title} />\n      }\n\n      var keywords = [];\n      for (var j=0;j<element.topics.length; j++) {\n        var topic = element.topics[j];\n        var comma = '';\n        if (j>0) comma = ', ';\n        var keyword = <span data-id={topic.topic_ID} key={j}>{comma}{topic.topic_name}</span>;\n        keywords.push(keyword);\n      }\n      let transcription = \"\";\n      if (element.pages[0].transcription!==null) {\n        if (element.pages[0].transcription!==\"\") {\n          let transcriptionText = element.pages[0].transcription.replace(/<[^>]+>/ig,\" \");\n          transcriptionText = transcriptionText.replace(\"&amp;\", \"&\");\n          if (transcriptionText.length>400) {\n            transcriptionText = transcriptionText.substring(0,400);\n          }\n\n          transcription = transcriptionText+\"...\";\n        }\n      }\n\n      var browseItem = <li data-id={item.id} key={i} className=\"img-clearfix\">\n          <Link to={ 'item/'+item.id}>{defaultThumbnail}</Link>\n          <h4><Link to={ 'item/'+item.id}>{element.title}</Link></h4>\n          <span className='browse-item-keywords'>Keywords: {keywords}</span>\n          <p dangerouslySetInnerHTML={{__html: transcription}}></p>\n        </li>;\n      browseItems.push(browseItem);\n    }\n    return browseItems;\n  }\n\n  checkSessionStorage() {\n    if (sessionStorage.getItem('browse')!==null) {\n      let storedState = JSON.parse(sessionStorage.getItem('browse'));\n      this.setState({\n        sort:storedState.sort,\n        current_page:storedState.current_page,\n        paginate:storedState.paginate,\n        keywords_ids:storedState.keywords_ids,\n        sources:storedState.sources,\n        authors:storedState.authors,\n        genders:storedState.genders,\n        languages:storedState.languages,\n        date_start:storedState.date_start,\n        date_end:storedState.date_end,\n        queryStatus:storedState.queryStatus,\n        queryTranscriptionStatus:storedState.queryTranscriptionStatus,\n      });\n    }\n  }\n\n  setSessionStorage() {\n    let newState = {\n      sort: this.state.sort,\n      current_page: this.state.current_page,\n      paginate: this.state.paginate,\n      selectedTopics: this.state.selectedTopics,\n      keywords_ids: this.state.keywords_ids,\n      sources: this.state.sources,\n      authors: this.state.authors,\n      genders: this.state.genders,\n      languages: this.state.languages,\n      date_start: this.state.date_start,\n      date_end: this.state.date_end,\n      queryStatus: this.state.queryStatus,\n      queryTranscriptionStatus: this.state.queryTranscriptionStatus,\n    }\n    sessionStorage.setItem('browse', JSON.stringify(newState));\n  }\n\n  componentDidMount() {\n    loadProgressBar();\n    this.checkSessionStorage();\n    let context = this;\n    setTimeout(function() {\n      context.filterContent();\n      context.updateFilters();\n    },500);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.loading!==this.state.loading &&\n      (\n        prevState.current_page!==this.state.current_page ||\n        prevState.paginate!==this.state.paginate ||\n        prevState.sort!==this.state.sort ||\n        prevState.keywords_ids!==this.state.keywords_ids ||\n        prevState.sources!==this.state.sources ||\n        prevState.authors!==this.state.authors ||\n        prevState.genders!==this.state.genders ||\n        prevState.languages!==this.state.languages ||\n        prevState.date_start!==this.state.date_start ||\n        prevState.date_end!==this.state.date_end\n      )\n    )\n    {\n      this.setSessionStorage();\n      let context = this;\n      setTimeout(function() {\n        context.filterContent();\n        context.updateFilters();\n      },500);\n    }\n  }\n\n  render() {\n    let breadCrumbsArr = [{label:'Browse',path:''}];\n    let content;\n    if (this.state.loading && this.state.firstLoad===1) {\n      let browseItems = PreloaderCards(11);\n      content = <ul className=\"browse-items\">{browseItems}</ul>;\n    }\n    else if (this.state.loading && this.state.firstLoad===0){\n      content = <ul className=\"browse-items blur\">{this.state.browseItems}</ul>;\n    }\n    else {\n      content = <ul className=\"browse-items\">{this.state.browseItems}</ul>;\n    }\n\n    let activeDesc=\"\",activeAsc=\"\";\n    if (this.state.sort===\"desc\") {\n      activeDesc = \"active\";\n    }\n    if (this.state.sort===\"asc\") {\n      activeAsc = \"active\";\n    }\n    let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n    if (this.state.paginate===10) {\n      paginate10Active = \"active\";\n    }\n    if (this.state.paginate===25) {\n      paginate25Active = \"active\";\n    }\n    if (this.state.paginate===50) {\n      paginate50Active = \"active\";\n    }\n\n    let paginationHTML = <div className=\"browse-filters\">\n      <DropdownButton\n        title=\"Sort\"\n        id=\"sort-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updateSort.bind(this,\"desc\")} className={activeDesc}><i className=\"fa fa-sort-amount-desc\"></i> Created date Desc</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updateSort.bind(this,\"asc\")} className={activeAsc}><i className=\"fa fa-sort-amount-asc\"></i> Created date Asc</MenuItem>\n      </DropdownButton>\n\n      <DropdownButton\n        title=\"Limit\"\n        id=\"limit-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n        <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n      </DropdownButton>\n\n      <Pagination\n          paginate={this.state.paginate}\n          current_page={this.state.current_page}\n          total_pages={this.state.last_page}\n          pagination_function={this.updatePage} />\n\n      <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n        <div className=\"input-group input-group-sm go-to-page\">\n          <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n          <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n          <span className=\"input-group-btn\">\n            <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n          </span>\n        </div>\n      </form>\n\n    </div>;\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-3\">\n            <h3 className=\"column-title\">Filters\n              <small className=\"pull-right\" style={{cursor:\"pointer\"}} onClick={this.clearFilters} title=\"Clear all filters\">\n                clear all <i className=\"fa fa-times-circle-o\"></i>\n              </small>\n            </h3>\n          </div>\n          <div className=\"col-xs-12 col-sm-9\">\n            <h2>Browse</h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-3\">\n            <TopicsBlock returnfunction={this.topicFilter} selected={this.state.selectedTopics}/>\n            <SourcesBlock returnfunction={this.sourcesFilter} />\n            <AuthorsBlock returnfunction={this.authorsFilter} />\n            <GendersBlock returnfunction={this.gendersFilter} />\n            <LanguagesBlock returnfunction={this.languagesFilter} />\n            <DatecreatedBlock returnfunction={this.datecreatedFilter} availableDates={this.state.dates_sent}/>\n          </div>\n          <div className=\"col-xs-12 col-sm-9\">\n\n          {paginationHTML}\n          <div className=\"list-items-container\">\n            {content}\n          </div>\n          {paginationHTML}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport {APIPath} from '../common/constants.js';\n\nexport class PasswordRestoreView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      submitStatus: false,\n      error: false,\n      errorText: '',\n      success: false,\n      successText: '',\n    }\n    // login form binds\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t\tthis.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleFormChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleFormSubmit(event) {\n    event.preventDefault();\n    if (this.state.submitStatus) {\n      return false;\n    }\n    this.setState({\n      submitStatus: false\n    });\n    let context = this;\n    axios.post(APIPath+'password-reset-email', {\n\t\t\temail: this.state.email,\n\t\t})\n\t  .then(function (response) {\n\t    let status = response.data.status;\n      if (status) {\n        context.setState({\n          email: '',\n          submitStatus: true,\n          error: false,\n          errorText: '',\n          success: true,\n          successText: response.data.message,\n        });\n      }\n      else {\n        context.setState({\n          submitStatus: false,\n          error: true,\n          errorText: response.data.errors,\n          success: false,\n          successText: '',\n        });\n      }\n      context.setState({\n        submitStatus: false\n      });\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n  componentDidMount() {\n\n  }\n\n  render() {\n    let breadCrumbsArr=[];\n    let contentTitle = \"Password Restore\";\n    breadCrumbsArr.push({label:contentTitle,path:''});\n    let errorClass = 'error-container';\n    if (this.state.error) {\n      errorClass = 'error-container-visible';\n    }\n    let submitPreloader = [];\n    if (this.state.submitStatus) {\n      submitPreloader = <i className=\"fa fa-spin fa-circle-o-notch\"></i>;\n    }\n    let infoText = '';\n    if (!this.state.success) {\n      infoText = <p>To reset your password please enter below the email you used when you subscribed with Letters 1916-1923.</p>;\n    }\n    let form = <div className=\"row\">\n      <div className=\"col-xs-12\">\n        <div className={errorClass}>{this.state.errorText}</div>\n      </div>\n      <div className=\"col-xs-12 col-sm-6 col-md-4\">\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"form-group has-feedback\">\n            <input name=\"email\" type=\"email\" className=\"form-control\" placeholder=\"Email\" value={this.state.email} onChange={this.handleFormChange} />\n            <span className=\"glyphicon glyphicon-envelope form-control-feedback\"></span>\n          </div>\n          <button type=\"submit\" className=\"btn btn-letters\">Reset My Password {submitPreloader}</button>\n        </form>\n      </div>\n    </div>;\n    if (this.state.success) {\n      form = <div className=\"row\">\n        <div className=\"col-xs-12 text-center\" style={{padding: '20px 0'}}>{this.state.successText}</div>\n      </div>;\n    }\n    let contentHTML = <div>\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          {infoText}\n        </div>\n      </div>\n      {form}\n    </div>;\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport {APIPath} from '../common/constants.js';\nimport {Redirect} from 'react-router-dom';\n\nexport class PasswordResetView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      password: '',\n      password_confirm: '',\n      passwordStrength: 0,\n      strengthClass: \"\",\n      strengthLabel: \"\",\n      submitStatus: false,\n      error: false,\n      errorText: '',\n      success: false,\n      successText: '',\n    }\n    // login form binds\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t\tthis.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.errorValidation = this.errorValidation.bind(this);\n    this.passwordStrengthCalculate = this.passwordStrengthCalculate.bind(this);\n  }\n\n  handleFormChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    if (name===\"password\") {\n      this.passwordStrengthCalculate(value);\n    }\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleFormSubmit(event) {\n    event.preventDefault();\n    if (this.errorValidation()) {\n      if (this.state.submitStatus) {\n        return false;\n      }\n      this.setState({\n        submitStatus: true\n      });\n      let context = this;\n      let arrayPost = {\n        email: this.state.email.trim(),\n        password: this.state.password.trim(),\n        password_confirmation: this.state.password_confirm.trim(),\n        token: this.props.match.params.token,\n      }\n      axios({\n        method: 'POST',\n        url: APIPath+'password-reset',\n        data: arrayPost,\n        crossDomain: true,\n      })\n  \t  .then(function (response) {\n  \t    let status = response.data.status;\n        if (status) {\n          context.setState({\n            email: '',\n            password: '',\n            password_confirm: '',\n            passwordStrength: 0,\n            strengthClass: \"\",\n            strengthLabel: \"\",\n            error: false,\n            errorText: '',\n            success: true,\n            successText: response.data.message,\n          });\n        }\n        else {\n          context.setState({\n            submitStatus: false,\n            error: true,\n            errorText: response.data.errors,\n            success: false,\n            successText: '',\n          });\n        }\n  \t  })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n        context.setState({\n          submitStatus: false\n        });\n  \t  });\n    }\n  }\n\n  errorValidation() {\n    let emailRegEx = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n    if (this.state.email.search(emailRegEx) === -1) {\n      this.emailInput.focus();\n      this.setState({\n        error: true,\n        errorText: 'Please enter a valid E-mail Address to continue!'\n      });\n      return false;\n    }\n    else if (this.state.password.trim().length<5) {\n      this.passwordInput.focus();\n      this.setState({\n        error: true,\n        errorText: 'Your new password must contain at least 6 characters'\n      });\n      return false;\n    }\n    else if (this.state.password.trim() !== this.state.password_confirm.trim()) {\n      this.passwordConfirmInput.focus();\n      this.setState({\n        error: true,\n        errorText: \"Password and password confirm don't match. Please try again.\"\n      });\n      return false;\n    }\n    else {\n      this.setState({\n        error: false,\n        errorText: ''\n      });\n    }\n    return true;\n  }\n\n  passwordStrengthCalculate(value) {\n    let strongRegex = new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})\");\n    let mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})\");\n    let strengthClass = \"\";\n    let strengthLabel = \"\";\n    if (value.trim().length>0) {\n      if(strongRegex.test(value)) {\n          strengthClass = \" green\";\n          strengthLabel = \"Strong\";\n      } else if(mediumRegex.test(value)) {\n          strengthClass = \" orange\";\n          strengthLabel = \"Medium\";\n      }\n      else {\n        strengthClass = \" red\";\n        strengthLabel = \"Weak\";\n      }\n    }\n    this.setState({\n      strengthClass: strengthClass,\n      strengthLabel: strengthLabel\n    });\n  }\n\n  componentDidMount() {\n\n  }\n\n  render() {\n    let redirect = [];\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    if (sessionActive==='true') {\n      redirect = <Redirect to='/user-profile' />;\n    }\n    let breadCrumbsArr=[];\n    let contentTitle = \"Password Reset\";\n    breadCrumbsArr.push({label:contentTitle,path:''});\n    let errorClass = 'error-container';\n    if (this.state.error) {\n      errorClass = 'error-container-visible';\n    }\n    let submitPreloader = [];\n    if (this.state.submitStatus) {\n      submitPreloader = <i className=\"fa fa-spin fa-circle-o-notch\"></i>;\n    }\n    let infoText = '';\n    if (!this.state.success) {\n      infoText = <p>To reset your password please enter the email you provided during registration and your new password below.</p>;\n    }\n    let form = <div>\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <div className={errorClass}>\n            <div dangerouslySetInnerHTML={{__html: this.state.errorText}}></div>\n          </div>\n        </div>\n      </div>\n      <form onSubmit={this.handleFormSubmit}>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4 text-right\">\n            <label>E-mail</label>\n          </div>\n          <div className=\"col-xs-12 col-sm-5\">\n            <div className=\"form-group\">\n              <input className=\"form-control\" name=\"email\" type=\"email\"\n                autoComplete=\"off\" placeholder=\"Enter a valid email address\" value={this.state.email} onChange={this.handleFormChange.bind(this)} ref={(input) => { this.emailInput = input; }}/>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4 text-right\">\n            <label>Password</label>\n          </div>\n          <div className=\"col-xs-12 col-sm-5\">\n            <div className=\"form-group\">\n              <input className=\"form-control\" name=\"password\" type=\"password\"\n            autoComplete=\"off\" placeholder=\"Enter your password\" value={this.state.password} onChange={this.handleFormChange.bind(this)} ref={(input) => { this.passwordInput = input; }}/>\n            </div>\n          </div>\n          <div className=\"col-xs-12 col-sm-3\">\n            <div style={{paddingRight: \"10px\"}}>\n              <div className={\"password-strength\"+this.state.strengthClass}>\n                <div className={this.state.strengthClass}></div>\n                <div className=\"password-text\">{this.state.strengthLabel}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4 text-right\">\n            <label>Confirm Password</label>\n          </div>\n          <div className=\"col-xs-12 col-sm-5\">\n            <div className=\"form-group\">\n              <input className=\"form-control\" name=\"password_confirm\" type=\"password\" placeholder=\"Confirm your password\"\n            autoComplete=\"off\" value={this.state.password_confirm} onChange={this.handleFormChange.bind(this)} ref={(input) => { this.passwordConfirmInput = input; }}/>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 text-center\">\n            <button type=\"submit\" className=\"btn btn-letters\">Reset My Password {submitPreloader}</button>\n          </div>\n        </div>\n      </form>\n    </div>;\n    if (this.state.success) {\n      form = <div className=\"row\">\n        <div className=\"col-xs-12 text-center\" style={{padding: '20px 0'}}>{this.state.successText}</div>\n      </div>;\n    }\n    let contentHTML = <div>\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          {infoText}\n        </div>\n      </div>\n      {form}\n    </div>;\n    return (\n      <div className=\"container\">\n        {redirect}\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport {APIPath,WPCustomRestPath} from '../common/constants.js';\n\nexport class RegisterView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      form: {\n        name: '',\n        email: '',\n        password: '',\n        password_confirm: '',\n        license_agreement: false,\n        subscribe_to_newsletter: false,\n      },\n      submitStatus: 0,\n      errorStatus: false,\n      errorMessage: '',\n      passwordStrength: 0,\n      strengthClass: \"\",\n      strengthLabel: \"\",\n      showResponse: false,\n      responseText: '',\n      licenseAgreementText: '',\n      subscribeToNewsletterText: '',\n    }\n    this.loadRights = this.loadRights.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.passwordStrengthCalculate = this.passwordStrengthCalculate.bind(this);\n  }\n\n  loadRights() {\n    let context = this;\n    // load rights from wordpress\n    axios.get(WPCustomRestPath+\"post\", {\n        params: {\n          \"slug\": \"terms-and-conditions-all-users\"\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data;\n        if (response.statusText===\"OK\") {\n          let newLicenseAgreementText = <div dangerouslySetInnerHTML={{__html:pageData.rendered}} />\n          context.setState({\n            licenseAgreementText: newLicenseAgreementText,\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n\n    axios.get(WPCustomRestPath+\"post\", {\n        params: {\n          \"slug\": \"newsletter-subscription\"\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data;\n        if (response.statusText===\"OK\") {\n          let newSubscribeToNewsletterText = <div dangerouslySetInnerHTML={{__html:pageData.rendered}} />\n          context.setState({\n            subscribeToNewsletterText: newSubscribeToNewsletterText,\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  handleChange(e) {\n    let target = e.target;\n    let name = target.name;\n    let value = target.type === 'checkbox' ? target.checked : target.value;\n    let newState = Object.assign({}, this.state);\n    newState.form[name]=value;\n    if (name===\"password\") {\n      this.passwordStrengthCalculate(value);\n    }\n    this.setState({\n      newState\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    if (this.errorValidation()===true) {\n      if (this.state.submitStatus) {\n        return false;\n      }\n      this.setState({\n        submitStatus: true,\n      });\n      let arrayPost = {\n        name: this.state.form.name.trim(),\n        email: this.state.form.email.trim(),\n        password: this.state.form.password.trim(),\n        password_confirmation: this.state.form.password_confirm.trim(),\n        license_agreement: this.state.form.license_agreement,\n        subscribe_to_newsletter: this.state.form.subscribe_to_newsletter,\n      }\n      let context = this;\n      axios({\n        method: 'POST',\n        url: APIPath+'register',\n        data: arrayPost,\n        crossDomain: true,\n      })\n  \t  .then(function (response) {\n        context.setState({\n          submitStatus: false,\n          showResponse: true,\n          responseText: response.data.message\n        });\n\n  \t  })\n  \t  .catch(function (error) {\n        let responseData = error.response.data;\n        let message = \"\";\n        for (let k in responseData.errors) {\n          message = responseData.errors[k];\n        }\n        if (message===\"\") {\n          message = responseData.message;\n        }\n        context.setState({\n          submitStatus: false,\n          errorStatus: true,\n          errorMessage: message,\n        });\n  \t  });\n    }\n  }\n\n  componentDidMount() {\n    loadProgressBar();\n    this.loadRights();\n  }\n\n  errorValidation() {\n    let emailRegEx = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n    if (this.state.form.name.trim().length===0) {\n      this.nameInput.focus();\n      this.setState({\n        errorStatus: true,\n        errorMessage: 'Please enter your Full Name to continue!'\n      });\n      return false;\n    }\n    else if (this.state.form.email.search(emailRegEx) === -1) {\n      this.emailInput.focus();\n      this.setState({\n        errorStatus: true,\n        errorMessage: 'Please enter a valid E-mail Address to continue!'\n      });\n      return false;\n    }\n    else if (this.state.form.password.trim().length<5) {\n      this.passwordInput.focus();\n      this.setState({\n        errorStatus: true,\n        errorMessage: 'Your new password must contain at least 6 characters'\n      });\n      return false;\n    }\n    else if (this.state.form.password.trim() !== this.state.form.password_confirm.trim()) {\n      this.passwordInput.focus();\n      this.setState({\n        errorStatus: true,\n        errorMessage: \"Password and password confirm don't match. Please try again.\"\n      });\n      return false;\n    }\n    else if (this.state.form.license_agreement===false) {\n      this.licenceAgreementInput.focus();\n      this.setState({\n        errorStatus: true,\n        errorMessage: \"You must accept the license agreement to continue.\"\n      });\n      return false;\n    }\n    else {\n      this.setState({\n        errorStatus: false,\n        errorMessage: ''\n      });\n    }\n    return true;\n  }\n\n  passwordStrengthCalculate(value) {\n    let strongRegex = new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})\");\n    let mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})\");\n    let strengthClass = \"\";\n    let strengthLabel = \"\";\n    if (value.trim().length>0) {\n      if(strongRegex.test(value)) {\n          strengthClass = \" green\";\n          strengthLabel = \"Strong\";\n      } else if(mediumRegex.test(value)) {\n          strengthClass = \" orange\";\n          strengthLabel = \"Medium\";\n      }\n      else {\n        strengthClass = \" red\";\n        strengthLabel = \"Weak\";\n      }\n    }\n    this.setState({\n      strengthClass: strengthClass,\n      strengthLabel: strengthLabel\n    });\n  }\n\n  render() {\n    let contentHTML,contentTitle,pageContent;\n    let breadCrumbsArr = {label:contentTitle, path:''};\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    let redirect = [];\n\t\tif (sessionActive==='true') {\n      redirect = <Redirect to={{\n        pathname: '/user-profile',\n      }} />\n    }\n    else {\n      let submitPreloader = [];\n      if (this.state.submitStatus) {\n        submitPreloader = <i className=\"fa fa-spin fa-circle-o-notch\"></i>;\n      }\n      contentTitle = 'User registration';\n      if (this.state.showResponse) {\n        contentHTML = <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <p className=\"text-center\">{this.state.responseText}</p>\n          </div>\n        </div>\n      }\n      else {\n        let errorClass = \"error-container\";\n        if (this.state.errorStatus) {\n          errorClass = \"error-container-visible\";\n        }\n        contentHTML = <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-12\">\n            <p className=\"text-center\">Please complete the following form to register for a new account with Letters 1916-1923.</p>\n            <form name=\"registration-form\" onSubmit={this.handleSubmit}>\n              <div className={errorClass}>{this.state.errorMessage}</div>\n              <div className=\"form-group\">\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-4 text-right\">\n                    <label>Name</label>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-5\">\n                    <input className=\"form-control\" name=\"name\" type=\"text\" placeholder=\"Enter your full name\" value={this.state.form.name} onChange={this.handleChange.bind(this)} ref={(input) => { this.nameInput = input; }}/>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-4 text-right\">\n                    <label>E-mail Address</label>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-5\">\n                    <input className=\"form-control\" name=\"email\" type=\"email\"\n                    autoComplete=\"off\" placeholder=\"Enter a valid email address\" value={this.state.form.email} onChange={this.handleChange.bind(this)} ref={(input) => { this.emailInput = input; }}/>\n                  </div>\n                </div>\n              </div>\n\n\n              <div className=\"form-group\">\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-4 text-right\">\n                    <label>Password</label>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-5\">\n                    <input className=\"form-control\" name=\"password\" type=\"password\"\n                    autoComplete=\"off\" placeholder=\"Enter your password\" value={this.state.form.password} onChange={this.handleChange.bind(this)} ref={(input) => { this.passwordInput = input; }}/>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-3\">\n                    <div className={\"password-strength\"+this.state.strengthClass}>\n                      <div className={this.state.strengthClass}></div>\n                      <div className=\"password-text\">{this.state.strengthLabel}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-4 text-right\">\n                    <label>Confirm Password</label>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-5\">\n                    <input className=\"form-control\" name=\"password_confirm\" type=\"password\" placeholder=\"Confirm your password\"\n                    autoComplete=\"off\" value={this.state.form.password_confirm} onChange={this.handleChange.bind(this)} />\n                  </div>\n                </div>\n              </div>\n\n              <hr/>\n              <h4>License Agreement</h4>\n              <div className=\"form-group\">\n                <div className=\"license-agreement-text\">{this.state.licenseAgreementText}</div>\n                <label>\n                  <input name=\"license_agreement\" type=\"checkbox\" onChange={this.handleChange.bind(this)} ref={(input) => { this.licenceAgreementInput = input; }} /> Accept license agreement</label>\n              </div>\n              <div className=\"form-group\">\n                <div>{this.state.subscribeToNewsletterText}</div>\n                <label>\n                  <input name=\"subscribe_to_newsletter\" type=\"checkbox\" onChange={this.handleChange.bind(this)} /> Subscribe to newsletter</label>\n              </div>\n              <button type=\"submit\" className=\"btn btn-letters\">Submit {submitPreloader}</button>\n            </form>\n          </div>\n        </div>;\n      }\n\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr} />\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container letter-form-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    }\n    return (\n      <div>\n        {redirect}\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport class VerifyAccountView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      error: false,\n      errorMsg: ''\n    }\n    this.verifyAccount = this.verifyAccount.bind(this);\n  }\n\n  verifyAccount() {\n    let context = this;\n    axios.get(APIPath+'verify-account/'+this.props.match.params.activation_code)\n\t  .then(function (response) {\n      if (response.data.status===true) {\n        context.setState({\n          loading: false,\n          error: false,\n          errorMsg: ''\n        });\n      }\n      else if (response.data.status===false) {\n        context.setState({\n          loading: false,\n          error: true,\n          errorMsg: response.data.errors\n        });\n      }\n\n\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\n      context.setState({\n        loading: false,\n        error: true,\n        errorMsg: ''\n      });\n\t  });\n  }\n\n  componentDidMount() {\n    this.verifyAccount();\n  }\n\n  render() {\n    let content = <div className=\"loader-container active-img-loader\">\n        <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60}  delay={0} />\n        </div>;\n    if (!this.state.loading) {\n      if (!this.state.error) {\n        content = <div style={{padding: \"30px 0 50px 0\"}}>\n          <h4>Welcome to Letters 1916-1923!</h4>\n          <p>Your new user account has been successfully verified. <br/>\n          Please login to start using your new user account.\n          </p>\n        </div>;\n      }\n      else {\n        content = <div style={{padding: \"30px 0 50px 0\"}}>\n          <h4>Error in verifying user account</h4>\n          <p>{this.state.errorMsg}</p>\n        </div>;\n      }\n\n    }\n    let breadCrumbsArr =[{label:'Verify Account',path:''}];\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>Verify new User Account</h1>\n          </div>\n        </div>\n        <div className=\"item-container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              {content}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport Dropzone from 'react-dropzone';\nimport {APIPath} from '../common/constants.js';\nimport axios from 'axios';\nimport {Link,Redirect} from 'react-router-dom';\n\nexport default class LetterUploadXML extends Component {\n  constructor() {\n    super()\n    this.state = {\n      files: [],\n      dissaproved_files: [],\n      post_status:false,\n      upload_loader:false,\n      progress_bar_text:\"\",\n      progress_bar_width:0,\n      view_updated_page_btn: [],\n      redirect:[]\n    }\n    this.onDrop = this.onDrop.bind(this);\n    this.uploadFiles = this.uploadFiles.bind(this);\n    this.viewUpdated = this.viewUpdated.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      files: [],\n      dissaproved_files: [],\n      post_status:false,\n      upload_loader:false,\n      progress_bar_text:\"\",\n      progress_bar_width:0\n    });\n  }\n\n  onDrop(files) {\n    let approvedFiles = [];\n    let disapprovedFiles = [];\n    for (let i=0; i<files.length;i++) {\n      let file = files[i];\n      if (file.type === \"text/xml\") {\n        approvedFiles.push(file);\n      }\n      else {\n        disapprovedFiles.push(file);\n      }\n    }\n    this.setState({\n      files: approvedFiles,\n      dissaproved_files: disapprovedFiles\n    });\n\n  }\n\n  viewUpdated(path) {\n    this.setState({redirect:<Redirect to={path}/>});\n  }\n\n  uploadFiles() {\n    if (this.state.files.length===0) {\n      return false;\n    }\n    let postStatus = this.state.post_status;\n    if (postStatus===true) {\n      return false;\n    }\n    this.setState({post_status:true});\n    let files = this.state.files;\n    let context = this;\n    let path = APIPath+\"fileupload\";\n    let postData = new FormData();\n    files.forEach(function(file) {\n      postData.append(\"data[]\",file);\n    });\n    postData.append(\"format\", \"xml_tei_letter19xx\");\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    context.setState({\n      upload_loader:true\n    });\n    axios({\n      method: \"post\",\n      url: path,\n      data: postData,\n      crossDomain: true,\n      config: { headers: {'Content-Type': 'multipart/form-data'}},\n      onUploadProgress: function (progressEvent){\n        let percentCompleted = Math.round( (progressEvent.loaded * 100) / progressEvent.total );\n        let progressBarText = \"Uploading... \"+parseFloat(percentCompleted).toFixed(2)+\"%\";\n        let progressBarWidth = percentCompleted+\"%\";\n        context.setState({\n          progress_bar_text:progressBarText,\n          progress_bar_width: progressBarWidth\n        });\n      }\n    })\n    .then(function (response) {\n        let responseData = response.data;\n        if (responseData.status===200) {\n          context.setState({\n            files: [],\n            dissaproved_files: [],\n            post_status:false,\n            progress_bar_text: responseData.message\n          });\n          let documentId = responseData.data.document_id;\n          let refreshPageBtn = <Link to={\"/letter/\"+documentId} className=\"btn btn-default\">View updated letter page <i className=\"fa fa-chevron-right\"></i></Link>\n          setTimeout(function() {\n            context.setState({\n              upload_loader: false,\n              progress_bar_text: \"\",\n              progress_bar_width:0,\n              view_updated_page_btn:refreshPageBtn\n            });\n          },2000);\n        }\n    })\n    .catch(function (response) {\n        //handle error\n        context.setState({post_status:false});\n        console.log(response);\n    });\n  }\n\n  render() {\n    let filesList = \"\";\n    let dissaprovedFilesList = \"\";\n    let uploadBtn = <button className=\"btn btn-success\" onClick={this.uploadFiles} disabled><i className=\"fa fa-upload\"></i> Upload</button>;\n    if (this.state.files.length>0) {\n      filesList = <div>\n        <b>Selected file</b>\n        <ul>\n          {\n            this.state.files.map(f => <span key={f.name}>{f.name} - {f.size} bytes</span>)\n          }\n        </ul>\n      </div>;\n      uploadBtn = <button className=\"btn btn-success\" onClick={this.uploadFiles}><i className=\"fa fa-upload\"></i> Upload</button>;\n    }\n    if (this.state.dissaproved_files.length>0) {\n      dissaprovedFilesList = <div>\n        The file <b className=\"dissaproved\">{this.state.dissaproved_files.map(f => <span key={f.name} className=\"dissaproved-file\">{f.name}</span>)}</b> is not allowed!\n      </div>\n    }\n\n    let progressBar = \"\";\n    let stateWidth = this.state.progress_bar_width;\n    let stateText = this.state.progress_bar_text;\n    let statusBarInnerStyle;\n    if (this.state.upload_loader===true) {\n      statusBarInnerStyle = {\n        width: stateWidth\n      }\n      progressBar = <div className=\"upload-status-container\" id=\"upload-xml-status\">\n          <div className=\"upload-status-bar-inner\" style={statusBarInnerStyle}></div>\n          <div className=\"upload-status-bar-text\">{stateText}</div>\n        </div>;\n    }\n    let dropZoneStyle = {\n      width: \"100%\",\n      height: \"auto\"\n    }\n    return (\n      <div>\n        {this.state.redirect}\n        <b>Upload new XML file</b>\n        <div>\n          <div className=\"dropzone\">\n            <Dropzone\n              multiple={false}\n              onDrop={this.onDrop.bind(this)}\n              style={dropZoneStyle}\n              >\n              <p>To upload a new XML file drag and drop the file into the box<br/> - or - <br/>click in the box to browse your computer for the file.</p>\n              {filesList}\n              {dissaprovedFilesList}\n            </Dropzone>\n          </div>\n          {progressBar}\n\n          <br/>\n          {uploadBtn} {this.state.view_updated_page_btn}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport Lightbox from 'react-image-lightbox';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {APIPath,archivePath} from '../common/constants.js';\nimport OwlCarousel from 'react-owl-carousel';\nimport {ToggleClass,fixImagePath} from '../helpers/helpers.js';\nimport LetterUploadXML from '../helpers/letter-upload-xml.js';\n\nexport class ItemView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      title: '',\n      source: '',\n      creator: '',\n      sent_location: '',\n      language: '',\n      document_id: 0,\n      recipient: '',\n      time_zone: '',\n      collection: '',\n      description: '',\n      date_created: '',\n      number_pages: 0,\n      request_time: '',\n      terms_of_use: '',\n      collection_id: '',\n      creator_gender: '',\n      doc_collection: '',\n      creator_location: '',\n      modified_timestamp: '',\n      recipient_location: '',\n      copyright_statement: '',\n      year_of_death_of_author: 0,\n      thumbnails:[],\n      images:[],\n      imagesPaths:[],\n      transcriptions:[],\n      transcriptionActive:'',\n      imageActive:'',\n      imageActiveLoading:true,\n      imageActiveLoaderHeight: 400,\n      photoIndex: 0,\n      isOpen: false,\n      downloadLink: [],\n      notFound: false,\n    };\n\n    this.toggleLetterInfo = this.toggleLetterInfo.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.showBigImage = this.showBigImage.bind(this);\n  }\n\n  toggleLetterInfo(e) {\n    e.stopPropagation();\n    let element = this.infoTrigger;\n    let child = element.children[0];\n    ToggleClass(child, \"\", \"closed\");\n\n    let infoContainer = this.infoContainer;\n    ToggleClass(infoContainer, \"\", \"closed\");\n  }\n\n  componentWillUnmount() {\n    this.setState({loading:true});\n  }\n\n  showPage(key) {\n\t\tthis.setState({\n      transcriptionActive:this.state.transcriptions[key] ,\n      imageActive:this.state.images[key],\n      imageActiveLoading:true\n    });\n\t}\n\n  handleImageLoaded(key) {\n    let containerHeight = this.imageContainer.clientHeight;\n    this.setState({\n      imageActiveLoading:false ,\n      imageActiveLoaderHeight:containerHeight\n    });\n  }\n\n  showBigImage(key) {\n    this.setState({\n      isOpen: true,\n      photoIndex: key\n    });\n  }\n\n  loadItem() {\n    let itemContext = this;\n    let getPath = \"\";\n    let itemId = 0;\n    let letterId = 0;\n    if (typeof itemContext.props.match.params.itemId!==\"undefined\") {\n      itemId = itemContext.props.match.params.itemId;\n      getPath = APIPath+'show/'+itemId;\n    }\n    else if (typeof itemContext.props.match.params.letterId!==\"undefined\") {\n      letterId = itemContext.props.match.params.letterId;\n      getPath = APIPath+'show-letter/'+letterId;\n    }\n    else {\n      return false;\n    }\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n\t\taxios.get(getPath)\n\t  .then(function (response) {\n      if (response.data.status) {\n        let responseData = response.data.data;\n        let dateSent = '';\n\n        if (responseData.date_created.length>0) {\n          dateSent = new Date(responseData.date_created);\n          let daySent = dateSent.getDate();\n          if (daySent<10) {\n            daySent = '0'+daySent;\n          }\n          let months = ['January','February','March','April','May','June','July','August','September','October','November','December'];\n          dateSent = daySent+' '+months[dateSent.getMonth()]+ ' '+dateSent.getFullYear();\n        }\n        // pages\n        let thumbnails = [];\n        let images = [];\n        let transcriptions = [];\n        let imagePaths = [];\n        for (let p=0;p<responseData.pages.length; p++) {\n          let page = responseData.pages[p];\n          let pageCount = p+1;\n          let thumbPath = archivePath+'square_thumbnails/'+page.archive_filename;\n          thumbPath = fixImagePath(thumbPath);\n          let thumbnail = <div className=\"item\" key={p}>\n            <div className='img-thumbnail item-thumb' \n              onClick={itemContext.showPage.bind(itemContext,p)}>\n              <img\n                data-id={page.page_id}\n                src={thumbPath}\n                alt=''\n                className='img-responsive page-thumbnail'\n                />\n                <label className=\"item-count\">{pageCount}</label>\n            </div>\n\n          </div>;\n          thumbnails.push(thumbnail);\n\n          let imagePath = archivePath+'fullsize/'+page.archive_filename;\n          imagePath = fixImagePath(imagePath);\n          let image = <img\n            onClick={itemContext.showBigImage.bind(itemContext,p)}\n            key={'image-'+p}\n            data-id={page.page_id}\n            src={imagePath}\n            alt=''\n            className='letter-details-big-img img-thumbnail img-responsive'\n            onLoad={itemContext.handleImageLoaded.bind(itemContext, p)}\n            ref={(imageContainer) => { itemContext.imageContainer = imageContainer; }}\n            />;\n          images.push(image);\n\n          imagePaths.push(imagePath);\n\n          let transcription;\n          if (page.transcription!==\"\") {\n            transcription = <div data-id={page.page_id} key={'transcription-'+p} className='page-transcription'>\n              <h4>Page transcription</h4>\n              <div dangerouslySetInnerHTML={{__html: page.transcription}}></div>\n            </div>\n          }\n          transcriptions.push(transcription);\n        }\n        let fileLink = [];\n        if (typeof responseData.file!==\"undefined\" && responseData.file.link.length>0) {\n          fileLink = <a download href={responseData.file.link}>{responseData.file.original_filename} <i className=\"fa fa-download\"></i></a>;\n        }\n        itemContext.setState({\n          loading:false,\n          title: responseData.title,\n          source: responseData.source,\n          creator: responseData.creator,\n          language: responseData.language,\n          sent_location: responseData.sent_location,\n          document_id: responseData.document_id,\n          recipient: responseData.recipient,\n          time_zone: responseData.time_zone,\n          collection: responseData.collection,\n          description: responseData.description,\n          date_created: dateSent,\n          number_pages: responseData.number_pages,\n          request_time: responseData.request_time,\n          terms_of_use: responseData.terms_of_use,\n          collection_ID: responseData.collection_ID,\n          creator_gender: responseData.creator_gender,\n          doc_collection: responseData.doc_collection,\n          creator_location: responseData.creator_location,\n          modified_timestamp: responseData.modified_timestamp,\n          recipient_location: responseData.recipient_location,\n          copyright_statement: responseData.copyright_statement,\n          year_of_death_of_author:responseData.year_of_death_of_author,\n          thumbnails: thumbnails,\n          images: images,\n          transcriptions: transcriptions,\n          imageActive: images[0],\n          imagePaths: imagePaths,\n          transcriptionActive: transcriptions[0],\n          downloadLink: fileLink\n        });\n      }\n      else {\n        itemContext.setState({\n          notFound: true,\n          loading: false\n        });\n      }\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n  componentDidMount() {\n    this.loadItem();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n\n    if (prevProps.match.params.itemId!==this.props.match.params.itemId ||\n        prevProps.match.params.letterId!==this.props.match.params.letterId\n      ) {\n      this.loadItem();\n    }\n  }\n\n  render() {\n    let breadCrumbsArr = [{label:'Browse',path:'/browse'},{label:this.state.title,path:''}];\n    let content;\n    let owlNavText = ['<i class=\"fa fa-angle-left\"></i>','<i class=\"fa fa-angle-right\"></i>'];\n    let owlResponsive = {\n        0:{\n          items:2\n        },\n        500:{\n          items:2\n        },\n        992:{\n          items:3\n        }\n    };\n    let owlThumbnails = this.state.thumbnails;\n    let activeImg;\n    if (this.state.imageActiveLoading) {\n      let activeImgStyle={height: this.state.imageActiveLoaderHeight+\"px\"};\n      activeImg = <div className=\"loader-container active-img-loader\" style={activeImgStyle}>\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60}  delay={0} />\n          <div className=\"hidden\">{this.state.imageActive}</div>\n          </div>;\n    }\n    else {\n      activeImg = this.state.imageActive;\n    }\n    if (this.state.loading) {\n      content = <div className=\"item-container\">\n          <div className=\"loader-container item-loader\">\n            <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60}  delay={0} />\n          </div>\n        </div>;\n    }\n    else {\n      if (this.state.notFound) {\n        content = <div className=\"item-container\" style={{padding: \"20px 0\"}}>\n          <h4 className=\"text-center\">Entry not found</h4>\n          </div>;\n      }\n      else {\n        const { photoIndex, isOpen, imagePaths } = this.state;\n        let letterUploadBox = \"\";\n        if (this.props.isAdmin===\"true\") {\n          letterUploadBox = <LetterUploadXML/>;\n        }\n        let creatorRow,\n          dateCreatedRow,\n          sentLocationRow,\n          sourceCollectionRow,\n          languageRow,\n          numpagesRow,\n          recipientRow,\n          recipientLocationRow,\n          sourceRow,\n          downloadRow,\n          documentIdRow\n          ;\n          if (this.state.creator!==\"\") {\n            creatorRow = <tr><th>From:</th><td>{this.state.creator}</td></tr>;\n          }\n          if (this.state.date_created!==\"\") {\n            dateCreatedRow = <tr><th>Date Sent:</th><td>{this.state.date_created}</td></tr>\n          }\n          if (this.state.sent_location!==\"\") {\n            sentLocationRow = <tr><th>Sent from:</th><td>{this.state.creator_location}</td></tr>\n          }\n          if (this.state.doc_collection!==\"\") {\n            sourceCollectionRow = <tr><th>Original collection:</th><td>{this.state.doc_collection}</td></tr>\n          }\n          if (this.state.language!==\"\") {\n            languageRow = <tr><th>Written in:</th><td>{this.state.language}</td></tr>\n          }\n          if (this.state.number_pages!==\"\") {\n            numpagesRow = <tr><th>Pages:</th><td>{this.state.number_pages}</td></tr>\n          }\n          if (this.state.recipient!==\"\") {\n            recipientRow = <tr><th>Recipient:</th><td>{this.state.recipient}</td></tr>\n          }\n          if (this.state.recipient_location!==\"\") {\n            recipientLocationRow = <tr><th>Recipient Location:</th><td>{this.state.recipient_location}</td></tr>\n          }\n          if (this.state.source!==\"\") {\n            sourceRow = <tr><th>Source:</th><td>{this.state.source}</td></tr>\n          }\n          if (this.props.isAdmin && this.state.downloadLink.length>0) {\n            downloadRow = <tr><th>Download XML:</th><td>{this.state.downloadLink}</td></tr>\n          }\n          if (this.props.isAdmin) {\n            documentIdRow = <tr><th>Document ID:</th><td>{this.state.document_id}</td></tr>\n          }\n\n        let letterDetailsInfo = <div>\n          <table className=\"letter-details-table\">\n            <tbody>\n              {creatorRow}\n              {dateCreatedRow}\n              {sentLocationRow}\n              {recipientRow}\n              {recipientLocationRow}\n              {languageRow}\n              {numpagesRow}\n              {sourceRow}\n              {sourceCollectionRow}\n              {downloadRow}\n              {documentIdRow}\n            </tbody>\n          </table>\n        </div>;\n\n        content = <div className=\"item-container\">\n          <h2>{this.state.title}</h2>\n          <div className=\"row\">\n            <div className=\"col-xs-12 col-sm-8 col-md-8 col-lg-7\">\n              <div className=\"letter-info-container\" ref={(infoContainer) => { this.infoContainer = infoContainer; }}>\n                <h4>Letter information\n                  <div className=\"btn btn-default btn-xs pull-right toggle-info-btn\" ref={(infoTrigger) => { this.infoTrigger = infoTrigger; }} onClick={this.toggleLetterInfo.bind(this)}>\n                    <i className=\"fa fa-angle-down\"></i>\n                  </div>\n                </h4>\n                {letterDetailsInfo}\n              </div>\n              {this.state.transcriptionActive}\n              <p className=\"letter-description\">{this.state.description}</p>\n            </div>\n            <div className=\"col-xs-12 col-sm-4 col-md-4 col-lg-5\">\n              <div className=\"letter-big-img-container\">\n                {activeImg}\n              </div>\n              <OwlCarousel\n                className=\"owl-theme item-pages-thumbnails\"\n                loop={false}\n                margin={10}\n                nav\n                responsive={owlResponsive}\n                navText={owlNavText}\n                navContainerClass='item-thumbnails-nav'\n                dots={false}>\n                  {owlThumbnails}\n                </OwlCarousel>\n                {letterUploadBox}\n            </div>\n          </div>\n\n          {isOpen && (\n            <Lightbox\n              mainSrc={imagePaths[photoIndex]}\n              nextSrc={imagePaths[(photoIndex + 1) % imagePaths.length]}\n              prevSrc={imagePaths[(photoIndex + imagePaths.length - 1) % imagePaths.length]}\n              onCloseRequest={() => this.setState({ isOpen: false })}\n              onMovePrevRequest={() =>\n                this.setState({\n                  photoIndex: (photoIndex + imagePaths.length - 1) % imagePaths.length,\n                })\n              }\n              onMoveNextRequest={() =>\n                this.setState({\n                  photoIndex: (photoIndex + 1) % imagePaths.length,\n                })\n              }\n            />\n          )}\n        </div>;\n      }\n\n    }\n    return (\n      <div className=\"container item-view\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            {content}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\n\nexport default class ProtectedPage extends Component {\n\n  render() {\n    return (\n      <p className=\"text-center\">This is a protected page.\n        <br/>To view this page you must first <button className=\"btn btn-default btn-xs\" onClick={this.props.loginModalOpen}>login</button> or <Link className=\"btn btn-default btn-xs\" to='/register' href='/register'>register.</Link></p>\n    )\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport Dropzone from 'react-dropzone';\nimport {APIPath} from '../common/constants.js';\nimport axios from 'axios';\nimport ProtectedPage from '../components/protected-page';\n\nexport class UploadXML extends Component {\n  constructor() {\n    super()\n    this.state = {\n      files: [],\n      dissaproved_files: [],\n      post_status:false,\n      upload_loader:false,\n      progress_bar_text:\"\",\n      progress_bar_width:0\n    }\n    this.onDrop = this.onDrop.bind(this);\n    this.uploadFiles = this.uploadFiles.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      files: [],\n      dissaproved_files: [],\n      post_status:false,\n      upload_loader:false,\n      progress_bar_text:\"\",\n      progress_bar_width:0\n    });\n  }\n\n  onDrop(files) {\n    let approvedFiles = [];\n    let disapprovedFiles = [];\n    for (let i=0; i<files.length;i++) {\n      let file = files[i];\n      if (file.type === \"text/xml\") {\n        approvedFiles.push(file);\n      }\n      else {\n        disapprovedFiles.push(file);\n      }\n    }\n    this.setState({\n      files: approvedFiles,\n      dissaproved_files: disapprovedFiles\n    });\n\n  }\n\n  uploadFiles() {\n    if (this.state.files.length===0) {\n      return false;\n    }\n    let postStatus = this.state.post_status;\n    if (postStatus===true) {\n      return false;\n    }\n    this.setState({post_status:true});\n    let files = this.state.files;\n    let context = this;\n    let path = APIPath+\"fileupload\";\n    let postData = new FormData();\n    files.forEach(function(file) {\n      postData.append(\"data[]\",file);\n    });\n    postData.append(\"format\", \"xml_tei_letter19xx\");\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    context.setState({\n      upload_loader:true\n    });\n    axios({\n      method: \"post\",\n      url: path,\n      data: postData,\n      crossDomain: true,\n      config: { headers: {'Content-Type': 'multipart/form-data'}},\n      onUploadProgress: function (progressEvent){\n        let percentCompleted = Math.round( (progressEvent.loaded * 100) / progressEvent.total );\n        let progressBarText = \"Uploading... \"+parseFloat(percentCompleted).toFixed(2)+\"%\";\n        let progressBarWidth = percentCompleted+\"%\";\n        context.setState({\n          progress_bar_text:progressBarText,\n          progress_bar_width: progressBarWidth\n        });\n      }\n    })\n    .then(function (response) {\n        let responseData = response.data;\n        if (responseData.status===200) {\n          context.setState({\n            files: [],\n            dissaproved_files: [],\n            post_status:false,\n            progress_bar_text: responseData.message\n          });\n          setTimeout(function() {\n            context.setState({\n              upload_loader: false,\n              progress_bar_text: \"\",\n              progress_bar_width:0\n            });\n          },2000);\n        }\n    })\n    .catch(function (response) {\n        //handle error\n        context.setState({post_status:false});\n        console.log(response);\n    });\n  }\n\n  render() {\n    let breadCrumbsArr = [{label:'Upload XML',path:''}];\n    let filesList = \"\";\n    let dissaprovedFilesList = \"\";\n    if (this.state.files.length>0) {\n      filesList = <div>\n        <h3>Files list</h3>\n        <ul>\n          {\n            this.state.files.map(f => <li key={f.name}>{f.name} - {f.size} bytes</li>)\n          }\n        </ul>\n      </div>\n    }\n    if (this.state.dissaproved_files.length>0) {\n      dissaprovedFilesList = <div>\n        <h3>Dissaproved Files list</h3>\n        <ul>{this.state.dissaproved_files.map(f => <li key={f.name} className=\"dissaproved-file\">{f.name} - {f.size} bytes</li>)}</ul>\n      </div>\n    }\n\n    let progressBar = \"\";\n    let stateWidth = this.state.progress_bar_width;\n    let stateText = this.state.progress_bar_text;\n    let statusBarInnerStyle;\n    if (this.state.upload_loader===true) {\n      statusBarInnerStyle = {\n        width: stateWidth\n      }\n      progressBar = <div className=\"upload-status-container\" id=\"upload-xml-status\">\n          <div className=\"upload-status-bar-inner\" style={statusBarInnerStyle}></div>\n          <div className=\"upload-status-bar-text\">{stateText}</div>\n        </div>;\n    }\n    let contentHTML = <div>\n      <div className=\"dropzone\">\n        <Dropzone onDrop={this.onDrop.bind(this)}>\n          <p>To upload one or more XML files drag and drop them into the box<br/> - or - <br/>click in the box to browse your computer for the files.</p>\n\n        </Dropzone>\n      </div>\n      {progressBar}\n      {filesList}\n      {dissaprovedFilesList}\n      <br/>\n      <button className=\"btn btn-success\" onClick={this.uploadFiles}><i className=\"fa fa-upload\"></i> Upload</button>\n    </div>;\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive!=='true') {\n      contentHTML = <ProtectedPage\n        loginModalOpen={this.props.loginModalOpen}\n        />\n    }\n    return (\n      <div>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n              <h1><span>Upload new XML files</span></h1>\n              <div className=\"item-container\">\n                {contentHTML}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\n\nexport class ContentView extends Component {\n  componentDidMount() {\n\n  }\n\n  render() {\n    let aboutTitle = 'Letters of 1916-1923';\n    let aboutHTML = <div>\n      <h2>{aboutTitle}</h2>\n      <p>Letters of 1916 is Irelands first crowdsourced public humanities project.\n      It has created an online collection of letters about Ireland written around the time of the Easter Rising.\n      Letters cover all aspects of life, from major political events, the Easter Rising and the Great War, to letters that provide us with a candid and unmediated glimpse into ordinary life, love and work a century ago.\n      There are thousands of letters in the collection connecting hundreds of lives.</p>\n\n      <p>Letters have been collected from public institutions around the world as well as from private, family collections.\n      This database allows you to explore the letters in great detail facilitating two modes of discovery: search and browse.</p>\n\n      <p>If you are looking for a specific word, person, place, or event, go to the Search page and enter the term in the simple search box.\n      If you dont have a specific query, go to the Browse page where you can explore the collection by date or theme.</p>\n\n      <p>Once letters are displayed, you can further refine your search by filtering options on the right hand side of the page.\n      New letters are constantly being added to this database, so search results may differ from time to time.</p>\n\n      <p>Both images of the letters and transcripts are available to view.\n      This provides the best of both words.\n      Images convey the personality of the letter writer: their handwriting, their writing style, notes and doodles, giving us insights into their mood and state of mind.</p>\n\n      <p>Transcriptions, on the other hand, make it easier to read difficult handwriting.\n      These letters have been transcribed by thousands of people around the world and proofed by the Letters of 1916 team.\n      Even so, there will be errors in transcription.\n      Please let us know if you spot any of these by clicking on the Share & Feedback tab and reporting the error.</p>\n\n      <p>We are constantly adding new letters to the collection, both institutional and private.\n      Letters can be added to the Contribute database directly through this link.\n      If you have too many letters to be added one by one, please get in touch with us here.</p>\n    </div>;\n\n    let contentName = this.props.match.params.contentName;\n    let contentHTML,\n      contentTitle;\n    if (contentName===\"about\") {\n      contentHTML = aboutHTML;\n      contentTitle = aboutTitle;\n    }\n    let breadCrumbsArr = [{label:contentTitle,path:''}];\n    return (\n      <div>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n              {contentHTML}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport Gallery from 'react-grid-gallery';\n\nexport default class TilesGallery extends Component {\n  constructor(props){\n      super(props);\n      this.state = {\n          images: this.props.images\n      };\n  }\n\n  render () {\n    return (\n            <div style={{\n                display: \"block\",\n                minHeight: \"1px\",\n                width: \"100%\",\n                overflow: \"auto\"}}>\n            <Gallery\n        images={this.state.images}\n        enableImageSelection={false}/>\n            </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {WPCustomRestPath,domain} from '../common/constants.js';\nimport {NormalizeWPURL} from '../helpers/helpers.js';\nimport {Link} from 'react-router-dom';\nimport Parser from 'html-react-parser';\nimport domToReact from 'html-react-parser/lib/dom-to-react';\nimport TilesGallery from '../components/wp-tiles-gallery';\n\nexport class WPContentView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading:true,\n      content: [],\n    }\n  }\n\n  getPage() {\n    let slug = this.props.match.params.slug;\n    let context = this;\n    axios.get(WPCustomRestPath+\"post\", {\n        params: {\n          \"slug\": slug\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data;\n        if (response.statusText===\"OK\") {\n          context.setState({\n            content:pageData,\n            loading:false\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  componentDidMount() {\n    this.getPage();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.match.url!==this.props.match.url) {\n      this.setState({\n        loading:true\n      });\n      this.getPage();\n    }\n  }\n\n  cleanContentURLs(content) {\n    let newContent;\n    if (typeof content !==\"undefined\" && content!==\"\") {\n      newContent = Parser(\"<div>\"+content+\"<div>\", {\n        replace: function(domNode) {\n          if (domNode.name===\"a\") {\n            if (typeof domNode.attribs.href!==\"undefined\") {\n              let href = domNode.attribs.href;\n              let newHref = NormalizeWPURL(href);\n              if (newHref.includes(\"wp-post\")) {\n                if (typeof domNode.children[0]!==\"undefined\") {\n                  if (typeof domNode.children[0].data!==\"undefined\") {\n                    let text = domNode.children[0].data;\n                    text = domToReact(domNode.children);\n                    newHref = newHref.replace(domain, \"\");\n                    return <Link to={newHref}>{text}</Link>;\n                  }\n                }\n              }\n            }\n          }\n          if (domNode.name===\"div\") {\n\n            if (typeof domNode.attribs.class!==\"undefined\") {\n\n\n              if (domNode.attribs.class.includes(\"final-tiles-gallery\")) {\n                if (typeof domNode.children[0].attribs.class!==\"undefined\") {\n\n\n                  let galleryItems = [];\n                  if(domNode.children[0].attribs.class.includes(\"ftg-items\")) {\n                    let items = domNode.children[0];\n                    for (let i=0; i<items.children.length; i++) {\n                      let item = items.children[i];\n                      if (typeof item.attribs.class!==\"undefined\") {\n                        if (item.attribs.class.includes(\"tile\")) {\n                          let link = \"\";\n                          let img = \"\";\n\n                          if (typeof item.children[0]!==\"undefined\") {\n\n                            if (typeof item.children[0].children[1]!==\"undefined\") {\n                              if (typeof item.children[0].children[1].attribs.class!==\"undefined\") {\n\n\n                                if (item.children[0].children[1].attribs.class.includes(\"ftg-social\")) {\n\n                                  link = item.children[0].children[0];\n                                  img = link.children[0];\n                                }\n\n                                else {\n                                  link = item.children[0];\n                                  img = link.children[0];\n                                }\n\n                              }\n                            }\n\n\n                          }\n\n                          if (typeof img!==\"undefined\") {\n                            let imgWidth = 320;\n                            let imgHeight = 120;\n                            if (typeof img.attribs.width!==\"undefined\") {\n                               imgWidth = parseInt(img.attribs.width,10);\n                            }\n\n                            if (typeof img.attribs.height!==\"undefined\") {\n                               imgHeight = parseInt(img.attribs.height,10);\n                            }\n                            let url = \"\";\n                            if (typeof link.attribs.href!==\"undefined\") {\n                              url = link.attribs.href;\n                            }\n                            let newImage = {\n                              src:img.attribs.src,\n                              thumbnail:img.attribs.src,\n                              thumbnailWidth: imgWidth,\n                              thumbnailHeight: imgHeight,\n                              caption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\"rel=\"noopener noreferrer\">More...</a>,\n                              thumbnailCaption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">More...</a>,\n                              isSelected: false\n                            }\n                            galleryItems.push(newImage);\n                          }\n\n                        }\n                      }\n\n                    }\n\n                  }\n\n                  return <div className=\"grid-gallery\">\n                    <TilesGallery images={galleryItems} enableImageSelection={false} />\n                  </div>;\n                }\n\n\n              }\n\n\n\n            }\n          }\n        }\n      });\n    }\n    return newContent;\n  }\n\n  render() {\n    let contentHTML,contentTitle;\n    let breadCrumbsArr = [];\n    let pageContent;\n    if (this.state.loading) {\n      pageContent = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      let postDate = \"\";\n      let cleanContent = this.cleanContentURLs(this.state.content.rendered);\n      contentTitle = <span dangerouslySetInnerHTML={{__html:this.state.content.post_title}}></span>;\n      contentHTML = cleanContent;\n      if (typeof this.state.content.categories!==\"undefined\" && this.state.content.categories.length>0) {\n        breadCrumbsArr.push({label:this.state.content.categories[0].name,path:'/wp-category/'+this.state.content.categories[0].slug});\n      }\n      if (this.state.content.post_modified!==\"\") {\n        postDate = <div className=\"post-date\">{this.state.content.post_modified}</div>;\n      }\n      breadCrumbsArr.push({label:contentTitle,path:''});\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"wp-content item-container\">\n              {postDate}\n              {contentHTML}\n            </div>\n          </div>\n        </div>\n      </div>\n    }\n    return (\n      <div>\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {Link} from 'react-router-dom';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {WPCustomRestPath} from '../common/constants';\nimport {stripHTML} from '../helpers/helpers';\nimport Pagination from '../helpers/pagination';\nimport BreadCrumbs from '../components/breadcrumbs';\n\nexport class WPCategoryView extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      loading: false,\n      browseItems: [],\n      current_page: 1,\n      path: WPCustomRestPath+\"category-list/\",\n      per_page: 0,\n      total: 1,\n      paginate: 10,\n      gotopage_value: 1,\n      temp_page: 1,\n      category_name: \"\"\n    };\n\n    this.gotoPage = this.gotoPage.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n  }\n\n  gotoPage(pageNum) {\n    if (parseInt(pageNum,10)>0 && parseInt(pageNum,10)!==this.state.current_page) {\n      this.setState({\n        current_page:pageNum,\n        loading: true\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        gotopage_value:newPage,\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  showPage() {\n    let browseContext = this;\n    let slug = this.props.match.params.slug;\n    if (slug!==\"\") {\n      let path = this.state.path;\n      axios.get(path, {\n          params: {\n            slug: slug,\n            page: this.state.current_page,\n            posts_per_page: this.state.paginate,\n            orderby: \"date\"\n          }\n        })\n    \t  .then(function (response) {\n          let responseData = response.data.data;\n          let itemsData = responseData.data;\n\n          // list of items to display\n          let browseItems = [];\n          for (let i=0; i<itemsData.length; i++) {\n            let item = itemsData[i];\n            let defaultThumbnail;\n            if (item.thumbnail!==\"\") {\n              defaultThumbnail = <img className=\"list-thumbnail img-responsive\" src={item.thumbnail} alt={item.post_title} />\n            }\n            let description = \"\";\n            if (item.description!==\"\") {\n              let descriptionText = stripHTML(item.description);\n              if (descriptionText.length>400) {\n                descriptionText = descriptionText.substring(0,400);\n              }\n\n              description = descriptionText+\"...\";\n            }\n            var browseItem = <li data-id={item.ID} key={i} className=\"img-clearfix\">\n                <Link to={ 'wp-post/'+item.post_name}>{defaultThumbnail}</Link>\n                <h4><Link to={ '/wp-post/'+item.post_name}>{item.post_title}</Link></h4>\n                <p>{description}</p>\n              </li>;\n            browseItems.push(browseItem);\n          }\n          if (browseItems.length===0) {\n            let empty = <li key={0}><i>There are no articles matching your search criteria</i></li>;\n            browseItems.push(empty);\n          }\n\n          let categoryName = \"\";\n          if (typeof responseData.category[0]!==\"undefined\") {\n            categoryName = responseData.category[0].cat_name;\n          }\n          // update state\n          browseContext.setState({\n            loading:false,\n            browseItems: browseItems,\n            current_page: responseData.current_page,\n            last_page: responseData.last_page,\n            total: responseData.total,\n            submit_search: false,\n            category_name: categoryName\n          });\n\n    \t  })\n    \t  .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n    else {\n      this.setState({\n        loading: false,\n        submit_search: false\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.showPage();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n        (\n          prevState.current_page!==this.state.current_page ||\n          prevState.paginate!==this.state.paginate\n        ) && this.state.loading===true ) {\n          this.showPage();\n        }\n  }\n\n\n  render() {\n\n    let content;\n    let breadCrumbsArr = [];\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"search-items\">{this.state.browseItems}</ul>;\n    }\n\n    let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n    if (this.state.paginate===10) {\n      paginate10Active = \"active\";\n    }\n    if (this.state.paginate===25) {\n      paginate25Active = \"active\";\n    }\n    if (this.state.paginate===50) {\n      paginate50Active = \"active\";\n    }\n\n    let paginationHTML = <div className=\"browse-filters\">\n\n      <DropdownButton\n        title=\"Limit\"\n        id=\"limit-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n        <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n      </DropdownButton>\n\n      <Pagination\n          paginate={this.state.paginate}\n          current_page={this.state.current_page}\n          total_pages={this.state.last_page}\n          pagination_function={this.gotoPage} />\n\n      <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n        <div className=\"input-group input-group-sm go-to-page\">\n          <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n          <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n          <span className=\"input-group-btn\">\n            <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n          </span>\n        </div>\n      </form>\n\n    </div>;\n\n    let contentHTML = \"\";\n    if (this.props.term!==\"\") {\n      breadCrumbsArr.push({label:this.state.category_name,path:''});\n      contentHTML = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{this.state.category_name}</h1>\n            <div className=\"item-container\">\n              {paginationHTML}\n              {content}\n              {paginationHTML}\n            </div>\n          </div>\n        </div>\n      </div>;\n    }\n    return (\n        <div>\n          {contentHTML}\n        </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {WPRestPath} from '../common/constants.js';\n\nexport class WPPagesView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading:true,\n      content: []\n    }\n  }\n\n  getPage() {\n    let slug = this.props.match.params.slug;\n    let context = this;\n    axios.get(WPRestPath+\"pages\", {\n        params: {\n          \"slug\": slug\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data[0];\n        if (response.data.length>0) {\n          context.setState({\n            content:pageData,\n            loading:false\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  componentDidMount() {\n    this.getPage();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.match.url!==this.props.match.url) {\n      this.setState({\n        loading:true\n      });\n      this.getPage();\n    }\n  }\n\n  render() {\n    let contentHTML,contentTitle;\n    let breadCrumbsArr = [];\n    let pageContent;\n    if (this.state.loading) {\n      pageContent = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      contentTitle = <span dangerouslySetInnerHTML={{__html:this.state.content.title.rendered}}></span>;\n      contentHTML = <div dangerouslySetInnerHTML={{__html: this.state.content.content.rendered}}></div>;\n      breadCrumbsArr.push({label:contentTitle,path:''});\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    }\n    return (\n      <div>\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\n\nexport class BlankView extends Component {\n  componentDidMount() {\n\n  }\n\n  render() {\n\n    return (\n      <div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {WPCustomRestPath,domain} from '../common/constants.js';\nimport axios from 'axios';\nimport Parser from 'html-react-parser';\nimport domToReact from 'html-react-parser/lib/dom-to-react';\nimport {NormalizeWPURL} from '../helpers/helpers.js';\nimport TilesGallery from '../components/wp-tiles-gallery';\nimport {Link} from 'react-router-dom';\n\n\nexport default class VizualizationsMap extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      fullScreenBtnClass: \"fa-expand\",\n      fullScreenStatus: 0,\n      iframeWidth: \"100%\",\n      iframeHeight: \"600\",\n      containerStyle: [],\n      content: []\n    }\n\n    this.getPage = this.getPage.bind(this);\n    this.toggleFullScreen = this.toggleFullScreen.bind(this);\n    this.cancelFullScreen = this.cancelFullScreen.bind(this);\n    this.requestFullScreen = this.requestFullScreen.bind(this);\n    this.requestFullScreen = this.requestFullScreen.bind(this);\n    this.cleanContentURLs = this.cleanContentURLs.bind(this);\n  }\n\n  getPage() {\n    let context = this;\n    axios.get(WPCustomRestPath+\"post\", {\n        params: {\n          \"slug\": \"interactive-map\"\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data;\n        if (response.statusText===\"OK\") {\n          context.setState({\n            content:pageData,\n            loading:false\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  toggleFullScreen() {\n    if (parseInt(this.state.fullScreenStatus,10)===0) {\n      let containerHeight = {\n        position: \"fixed\",\n        left: \"0\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        zIndex: \"999\"\n      }\n      this.requestFullScreen(document.body);\n      this.setState({\n        fullScreenBtnClass: \"fa-compress\",\n        fullScreenStatus: 1,\n        containerHeight: containerHeight\n      });\n    }\n    else {\n\n      this.cancelFullScreen(document);\n      this.setState({\n        fullScreenBtnClass: \"fa-expand\",\n        fullScreenStatus: 0,\n        containerHeight: [],\n        iframeHeight: \"600\"\n      });\n    }\n  }\n\n  cancelFullScreen(el) {\n  \tlet requestMethod = el.cancelFullScreen||el.webkitCancelFullScreen||el.mozCancelFullScreen||el.exitFullscreen;\n  \tif (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n  \treturn false;\n  }\n\n  requestFullScreen(el) {\n  \tlet requestMethod = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullscreen;\n    if (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        iframeHeight: window.innerHeight\n      });\n    },1000);\n  \treturn false;\n  }\n\n  cleanContentURLs(content) {\n    let newContent;\n    if (typeof content !==\"undefined\" && content!==\"\") {\n      newContent = Parser(\"<div>\"+content+\"<div>\", {\n        replace: function(domNode) {\n          if (domNode.name===\"a\") {\n            if (typeof domNode.attribs.href!==\"undefined\") {\n              let href = domNode.attribs.href;\n              let newHref = NormalizeWPURL(href);\n              if (newHref.includes(\"wp-post\")) {\n                if (typeof domNode.children[0]!==\"undefined\") {\n                  if (typeof domNode.children[0].data!==\"undefined\") {\n                    let text = domNode.children[0].data;\n                    text = domToReact(domNode.children);\n                    newHref = newHref.replace(domain, \"\");\n                    return <Link to={newHref}>{text}</Link>;\n                  }\n                }\n              }\n            }\n          }\n          if (domNode.name===\"div\") {\n\n            if (typeof domNode.attribs.class!==\"undefined\") {\n\n\n              if (domNode.attribs.class.includes(\"final-tiles-gallery\")) {\n                if (typeof domNode.children[0].attribs.class!==\"undefined\") {\n\n\n                  let galleryItems = [];\n                  if(domNode.children[0].attribs.class.includes(\"ftg-items\")) {\n                    let items = domNode.children[0];\n                    for (let i=0; i<items.children.length; i++) {\n                      let item = items.children[i];\n                      if (typeof item.attribs.class!==\"undefined\") {\n                        if (item.attribs.class.includes(\"tile\")) {\n                          let link = \"\";\n                          let img = \"\";\n\n                          if (typeof item.children[0]!==\"undefined\") {\n\n                            if (typeof item.children[0].children[1]!==\"undefined\") {\n                              if (typeof item.children[0].children[1].attribs.class!==\"undefined\") {\n\n\n                                if (item.children[0].children[1].attribs.class.includes(\"ftg-social\")) {\n\n                                  link = item.children[0].children[0];\n                                  img = link.children[0];\n                                }\n\n                                else {\n                                  link = item.children[0];\n                                  img = link.children[0];\n                                }\n\n                              }\n                            }\n\n\n                          }\n\n                          if (typeof img!==\"undefined\") {\n                            let imgWidth = 320;\n                            let imgHeight = 120;\n                            if (typeof img.attribs.width!==\"undefined\") {\n                               imgWidth = parseInt(img.attribs.width,10);\n                            }\n\n                            if (typeof img.attribs.height!==\"undefined\") {\n                               imgHeight = parseInt(img.attribs.height,10);\n                            }\n                            let url = \"\";\n                            if (typeof link.attribs.href!==\"undefined\") {\n                              url = link.attribs.href;\n                            }\n                            let newImage = {\n                              src:img.attribs.src,\n                              thumbnail:img.attribs.src,\n                              thumbnailWidth: imgWidth,\n                              thumbnailHeight: imgHeight,\n                              caption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">More...</a>,\n                              thumbnailCaption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">More...</a>,\n                              isSelected: false\n                            }\n                            galleryItems.push(newImage);\n                          }\n\n                        }\n                      }\n\n                    }\n\n                  }\n\n                  return <div className=\"grid-gallery\">\n                    <TilesGallery images={galleryItems} enableImageSelection={false} />\n                  </div>;\n                }\n\n\n              }\n\n\n\n            }\n          }\n        }\n      });\n    }\n    return newContent;\n  }\n\n  componentWillMount() {\n    this.getPage();\n  }\n  render() {\n    let pageContent;\n    let wpText = this.cleanContentURLs(this.state.content.rendered);\n    let contentTitle = this.state.content.post_title;\n    let breadCrumbsArr = [];\n    let iframe = '<iframe style=\"border: none;\" src=\"'+domain+'/magellan_vizualizations/map/index.html\" width=\"'+this.state.iframeWidth+'\" height=\"'+this.state.iframeHeight+'\"></iframe>';\n    let contentHTML = <div>\n      <div>\n        {wpText}\n      </div>\n      <div className=\"map-container\" style={this.state.containerHeight}>\n        <i className={\"btn btn-white fa toggle-fullscreen \"+this.state.fullScreenBtnClass} onClick={this.toggleFullScreen.bind(this)}></i>\n       <div dangerouslySetInnerHTML={{__html:iframe}}></div>\n      </div>\n    </div>;\n    breadCrumbsArr.push({label:\"Visual Exploration\",path:'/wp-post/visual-exploration'});\n    breadCrumbsArr.push({label:contentTitle,path:''});\n    pageContent = <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n          <h1>{contentTitle}</h1>\n          <div className=\"item-container\">\n            {contentHTML}\n          </div>\n        </div>\n      </div>\n    </div>;\n    return (\n      <div>\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {WPCustomRestPath,domain} from '../common/constants.js';\nimport axios from 'axios';\nimport Parser from 'html-react-parser';\nimport domToReact from 'html-react-parser/lib/dom-to-react';\nimport {NormalizeWPURL} from '../helpers/helpers.js';\nimport TilesGallery from '../components/wp-tiles-gallery';\nimport {Link} from 'react-router-dom';\n\nexport default class VizualizationsGraph extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      fullScreenBtnClass: \"fa-expand\",\n      fullScreenStatus: 0,\n      iframeWidth: \"100%\",\n      iframeHeight: \"600\",\n      containerStyle: [],\n      content: []\n    }\n\n    this.getPage = this.getPage.bind(this);\n    this.toggleFullScreen = this.toggleFullScreen.bind(this);\n    this.cancelFullScreen = this.cancelFullScreen.bind(this);\n    this.requestFullScreen = this.requestFullScreen.bind(this);\n    this.requestFullScreen = this.requestFullScreen.bind(this);\n    this.cleanContentURLs = this.cleanContentURLs.bind(this);\n  }\n\n  getPage() {\n    let context = this;\n    axios.get(WPCustomRestPath+\"post\", {\n        params: {\n          \"slug\": \"letter-network\"\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data;\n        if (response.statusText===\"OK\") {\n          context.setState({\n            content:pageData,\n            loading:false\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  toggleFullScreen() {\n    if (parseInt(this.state.fullScreenStatus,10)===0) {\n      let containerHeight = {\n        position: \"fixed\",\n        left: \"0\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        zIndex: \"999\"\n      }\n      this.requestFullScreen(document.body);\n      this.setState({\n        fullScreenBtnClass: \"fa-compress\",\n        fullScreenStatus: 1,\n        containerHeight: containerHeight\n      });\n    }\n    else {\n\n      this.cancelFullScreen(document);\n      this.setState({\n        fullScreenBtnClass: \"fa-expand\",\n        fullScreenStatus: 0,\n        containerHeight: [],\n        iframeHeight: \"600\"\n      });\n    }\n  }\n\n  cancelFullScreen(el) {\n  \tlet requestMethod = el.cancelFullScreen||el.webkitCancelFullScreen||el.mozCancelFullScreen||el.exitFullscreen;\n  \tif (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n  \treturn false;\n  }\n\n  requestFullScreen(el) {\n  \tlet requestMethod = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullscreen;\n    if (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        iframeHeight: window.innerHeight\n      });\n    },1000);\n  \treturn false;\n  }\n\n  cleanContentURLs(content) {\n    let newContent;\n    if (typeof content !==\"undefined\" && content!==\"\") {\n      newContent = Parser(\"<div>\"+content+\"<div>\", {\n        replace: function(domNode) {\n          if (domNode.name===\"a\") {\n            if (typeof domNode.attribs.href!==\"undefined\") {\n              let href = domNode.attribs.href;\n              let newHref = NormalizeWPURL(href);\n              if (newHref.includes(\"wp-post\")) {\n                if (typeof domNode.children[0]!==\"undefined\") {\n                  if (typeof domNode.children[0].data!==\"undefined\") {\n                    let text = domNode.children[0].data;\n                    text = domToReact(domNode.children);\n                    newHref = newHref.replace(domain, \"\");\n                    return <Link to={newHref}>{text}</Link>;\n                  }\n                }\n              }\n            }\n          }\n          if (domNode.name===\"div\") {\n\n            if (typeof domNode.attribs.class!==\"undefined\") {\n\n\n              if (domNode.attribs.class.includes(\"final-tiles-gallery\")) {\n                if (typeof domNode.children[0].attribs.class!==\"undefined\") {\n\n\n                  let galleryItems = [];\n                  if(domNode.children[0].attribs.class.includes(\"ftg-items\")) {\n                    let items = domNode.children[0];\n                    for (let i=0; i<items.children.length; i++) {\n                      let item = items.children[i];\n                      if (typeof item.attribs.class!==\"undefined\") {\n                        if (item.attribs.class.includes(\"tile\")) {\n                          let link = \"\";\n                          let img = \"\";\n\n                          if (typeof item.children[0]!==\"undefined\") {\n\n                            if (typeof item.children[0].children[1]!==\"undefined\") {\n                              if (typeof item.children[0].children[1].attribs.class!==\"undefined\") {\n\n\n                                if (item.children[0].children[1].attribs.class.includes(\"ftg-social\")) {\n\n                                  link = item.children[0].children[0];\n                                  img = link.children[0];\n                                }\n\n                                else {\n                                  link = item.children[0];\n                                  img = link.children[0];\n                                }\n\n                              }\n                            }\n\n\n                          }\n\n                          if (typeof img!==\"undefined\") {\n                            let imgWidth = 320;\n                            let imgHeight = 120;\n                            if (typeof img.attribs.width!==\"undefined\") {\n                               imgWidth = parseInt(img.attribs.width,10);\n                            }\n\n                            if (typeof img.attribs.height!==\"undefined\") {\n                               imgHeight = parseInt(img.attribs.height,10);\n                            }\n                            let url = \"\";\n                            if (typeof link.attribs.href!==\"undefined\") {\n                              url = link.attribs.href;\n                            }\n                            let newImage = {\n                              src:img.attribs.src,\n                              thumbnail:img.attribs.src,\n                              thumbnailWidth: imgWidth,\n                              thumbnailHeight: imgHeight,\n                              caption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">More...</a>,\n                              thumbnailCaption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">More...</a>,\n                              isSelected: false\n                            }\n                            galleryItems.push(newImage);\n                          }\n\n                        }\n                      }\n\n                    }\n\n                  }\n\n                  return <div className=\"grid-gallery\">\n                    <TilesGallery images={galleryItems} enableImageSelection={false} />\n                  </div>;\n                }\n\n\n              }\n\n\n\n            }\n          }\n        }\n      });\n    }\n    return newContent;\n  }\n\n  componentWillMount() {\n    this.getPage();\n  }\n\n  render() {\n    let pageContent;\n    let wpText = this.cleanContentURLs(this.state.content.rendered);\n    let contentTitle = this.state.content.post_title;\n    let breadCrumbsArr = [];\n    let iframe = '<iframe style=\"border: none;\" src=\"'+domain+'/magellan_vizualizations/graph/index.html\" width=\"'+this.state.iframeWidth+'\" height=\"'+this.state.iframeHeight+'\"></iframe>';\n    let contentHTML = <div>\n      {wpText}\n      <div className=\"map-container\" style={this.state.containerHeight}>\n        <i className={\"btn btn-white fa toggle-fullscreen \"+this.state.fullScreenBtnClass} onClick={this.toggleFullScreen.bind(this)}></i>\n       <div dangerouslySetInnerHTML={{__html:iframe}}></div>\n      </div>\n    </div>;\n    breadCrumbsArr.push({label:\"Visual Exploration\",path:'/wp-post/visual-exploration'});\n    breadCrumbsArr.push({label:contentTitle,path:''});\n    pageContent = <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n          <h1>{contentTitle}</h1>\n          <div className=\"item-container\">\n            {contentHTML}\n          </div>\n        </div>\n      </div>\n    </div>;\n    return (\n      <div>\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport VizualizationMap from '../components/vizualizations-map.js';\nimport VizualizationGraph from '../components/vizualizations-graph.js';\nimport ReactLoading from 'react-loading';\n\nexport class VizualizationsView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      content: [],\n    }\n  }\n\n  componentDidMount() {\n    let viewType = this.props.match.params.type;\n    if (viewType===\"map\") {\n      this.embedMap();\n    }\n    if (viewType===\"graph\") {\n      this.embedGraph();\n    }\n  }\n\n  embedMap() {\n    this.setState({\n      loading: false,\n      content: <VizualizationMap/>\n    });\n  }\n\n  embedGraph() {\n    this.setState({\n      loading: false,\n      content: <VizualizationGraph/>\n    });\n  }\n\n  render() {\n    let pageContent;\n    if (this.state.loading) {\n      pageContent = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      pageContent = this.state.content;\n    }\n    return (\n      <div>\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport {loadReCaptcha} from 'react-recaptcha-google'\nimport {ReCaptcha} from 'react-recaptcha-google'\n\nexport class ContactFormView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      name:'',\n      email: '',\n      subject: '',\n      message: '',\n      form_error: '',\n\t\t\tform_error_class: 'error-container',\n      response_text: '',\n      form_status: true,\n      disabled: 'disabledg',\n      response: [],\n      buttonTxt: <span>Send <i className=\"fa fa-send-o\"></i></span>,\n      recaptchaLoaded: false\n    }\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.handleFormChange = this.handleFormChange.bind(this);\n    this.onLoadRecaptcha = this.onLoadRecaptcha.bind(this);\n    this.verifyCallback = this.verifyCallback.bind(this);\n  }\n\n  handleFormChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleFormSubmit(event) {\n    event.preventDefault();\n    if (this.formSubmitErrorCheck()===true) {\n      return false;\n    }\n    let arrayPost = {\n      \"name\": this.state.name,\n      \"email\": this.state.email,\n      \"subject\": this.state.subject,\n      \"message\": this.state.message,\n      \"recaptchaResponse\": this.state.recaptchaResponse\n    }\n    this.setState({\n      buttonTxt: <span>Sending... <i className=\"fa fa-send-o\"></i> <i className=\"fa fa-spin fa-circle-o-notch\"></i></span>\n    });\n\t\tlet context = this;\n\t\taxios.post(WPCustomRestPath+\"contact-form\", arrayPost)\n\t  .then(function (response) {\n      let data = response.data;\n      if (data===true) {\n        context.setState({\n          form_status: false,\n          response_text: <div style={{padding: \"50px 15px\"}}><p>Thank you for contacting us. A member fo the staff will respond shortly.</p></div>,\n          buttonTxt: <span>Send success <i className=\"fa fa-check\"></i></span>\n        });\n      }\n      else {\n        context.setState({\n          form_error: <p>There was an error. Your contact form was not sent. Please try again or send us an email directly at <a href=\"mailto:letters1916.23@gmail.com\">letters1916.23@gmail.com</a></p>,\n          form_error_class: 'error-container-visible',\n          buttonTxt: <span>Send error <i className=\"fa fa-times\"></i></span>\n        });\n      }\n      setTimeout(function() {\n        context.setState({\n          buttonTxt: <span>Send <i className=\"fa fa-send-o\"></i></span>\n        })\n      }, 2000);\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n  formSubmitErrorCheck() {\n    let error = false;\n    let emailRegEx = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n    if(this.state.name.trim().length<3) {\n      this.setState({\n        form_error: 'Your name must contain at least four (4) characters',\n  \t\t\tform_error_class: 'error-container-visible',\n      });\n      error = true;\n    }\n\t  else if (this.state.email.trim().search(emailRegEx)===-1) {\n      this.setState({\n        form_error: 'Please enter a valid email address',\n  \t\t\tform_error_class: 'error-container-visible',\n      });\n      error = true;\n    }\n    else if(this.state.subject.trim().length<3) {\n      this.setState({\n        form_error: 'Your subject must contain at least four (4) characters',\n  \t\t\tform_error_class: 'error-container-visible',\n      });\n      error = true;\n    }\n    else if(this.state.message.trim().length<10) {\n      this.setState({\n        form_error: 'Your message must contain at least ten (10) characters',\n  \t\t\tform_error_class: 'error-container-visible',\n      });\n      error = true;\n    }\n    else {\n      error = false;\n      this.setState({\n        form_error: '',\n  \t\t\tform_error_class: 'error-container',\n      });\n    }\n    return error;\n  }\n\n  onLoadRecaptcha() {\n    if (this.recaptcha) {\n        this.recaptcha.reset();\n    }\n  }\n\n\n  verifyCallback(response) {\n    this.setState({\n      recaptchaResponse: response,\n      disabled: ''\n    })\n  }\n\n  componentDidMount() {\n    loadReCaptcha();\n    if (this.recaptcha) {\n        this.recaptcha.reset();\n    }\n  }\n\n  render() {\n    let contentHTML,contentTitle;\n    let breadCrumbsArr = [];\n    let pageContent;\n    let reCaptcha = <div>\n      <ReCaptcha\n            ref={(el) => {this.recaptcha = el;}}\n            render=\"explicit\"\n            size=\"normal\"\n            sitekey=\"6Lfcv3kUAAAAAM--VtGXkN4kgGwyCdEojRyUfh5M\"\n            onloadCallback={this.onLoadRecaptcha}\n            verifyCallback={this.verifyCallback}\n        />\n        <br/>\n      </div>\n    if (this.state.loading) {\n      pageContent = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      contentTitle = \"Contact Us\";\n      if (this.state.form_status) {\n        contentHTML = <form name='contact-form' onSubmit={this.handleFormSubmit}>\n            <div className=\"row\">\n              <div className=\"col-xs-12 col-sm-8\">\n                <div className={this.state.form_error_class}>{this.state.form_error}</div>\n                <div className=\"form-group\">\n                  <label>Your name<sup>*</sup></label>\n    \t\t\t\t\t\t\t<input name=\"name\" type=\"text\" className=\"form-control\" placeholder=\"Please enter your name\" value={this.state.name} onChange={this.handleFormChange} />\n    \t\t\t\t\t\t</div>\n                <div className=\"form-group has-feedback\">\n                  <label>Your email<sup>*</sup></label>\n    \t\t\t\t\t\t\t<input name=\"email\" type=\"email\" className=\"form-control\" placeholder=\"Email\" value={this.state.email} onChange={this.handleFormChange} />\n    \t\t\t\t\t\t</div>\n                <div className=\"form-group\">\n                  <label>Subject</label>\n    \t\t\t\t\t\t\t<input name=\"subject\" type=\"text\" className=\"form-control\" placeholder=\"Please enter the subject of your message\" value={this.state.subject} onChange={this.handleFormChange} />\n    \t\t\t\t\t\t</div>\n                <div className=\"form-group\">\n                  <label>Your Message</label>\n    \t\t\t\t\t\t\t<textarea name=\"message\" className=\"form-control\" rows=\"10\" placeholder=\"Please enter your message\" onChange={this.handleFormChange} value={this.state.message}></textarea>\n    \t\t\t\t\t\t</div>\n\n                {reCaptcha}\n\n                <button disabled={this.state.disabled} type=\"submit\" className=\"btn btn-primary\">{this.state.buttonTxt}</button>\n                <br/>\n                <div className=\"text-right\">\n                  <small><i>Fields marked with an asterisk (*) are mandatory</i></small>\n                </div>\n              </div>\n            </div>\n\n          </form>;\n      }\n      else contentHTML = this.state.response_text;\n      breadCrumbsArr.push({label:contentTitle,path:''});\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">\n              {contentHTML}\n            </div>\n          </div>\n        </div>\n      </div>\n    }\n    return (\n      <div>\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {archivePath} from '../../common/constants';\nimport {ToggleClass,fixImagePath} from '../../helpers/helpers';\nimport Resizable from 're-resizable';\nimport Draggable from 'react-draggable';\n\nexport default class TranscriptionImageViewer extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      imgWidth: \"auto\",\n      imgHeight: \"100%\",\n      positionX: 0,\n      positionY: 0,\n      fullScreenBtnClass: \"fa-expand\",\n      fullScreenStatus: false,\n      dragging:false\n    };\n    this.imgRef = React.createRef();\n    this.handleStop = this.handleStop.bind(this);\n    this.handleStart = this.handleStart.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n  }\n\n  updateViewer(type) {\n    let img = this.imgRef.current;\n    let rect = img.getBoundingClientRect();\n    let imgTop = rect.top;\n    let imgRight = rect.right;\n    let imgBottom = rect.bottom;\n    let imgLeft = rect.left;\n    let imgWidth = imgRight-imgLeft;\n    let imgHeight = imgBottom-imgTop;\n    if (type===\"zoomin\") {\n      let newWidth = imgWidth + ((imgWidth*25)/100);\n      let newHeight = imgHeight + ((imgHeight*25)/100);\n      newWidth = newWidth+\"px\";\n      newHeight = newHeight+\"px\";\n      this.setState({\n        imgWidth: newWidth,\n        imgHeight: newHeight,\n      });\n      return false;\n    }\n    if (type===\"zoomout\") {\n      let newWidth = imgWidth - ((imgWidth*25)/100);\n      let newHeight = imgHeight - ((imgHeight*25)/100);\n      if (newHeight<=400) {\n        newWidth = \"auto\";\n        newHeight = \"400px\";\n      }\n      else {\n        newWidth = newWidth+\"px\";\n        newHeight = newHeight+\"px\";\n      }\n      this.setState({\n        imgWidth: newWidth,\n        imgHeight: newHeight,\n      });\n      return false;\n    }\n    if (type===\"scrollup\") {\n      let newImgTop = this.state.positionY;\n      newImgTop = parseInt(newImgTop,10)-100;\n      this.setState({\n        positionY: newImgTop\n      });\n      return false;\n    }\n    if (type===\"scrolldown\") {\n      let newImgTop = this.state.positionY;\n      newImgTop = parseInt(newImgTop,10)+100;\n      this.setState({\n        positionY: newImgTop\n      });\n      return false;\n    }\n    if (type===\"scrollright\") {\n      let newImgLeft = this.state.positionX;\n      newImgLeft = parseInt(newImgLeft,10)+100;\n      this.setState({\n        positionX: newImgLeft\n      });\n      return false;\n    }\n    if (type===\"scrollleft\") {\n      let newImgLeft = this.state.positionX;\n      newImgLeft = parseInt(newImgLeft,10)-100;\n      this.setState({\n        positionX: newImgLeft\n      });\n      return false;\n    }\n    if (type===\"expand\") {\n      this.toggleFullScreen();\n      let container = document.getElementById(\"transcription-container\");\n      ToggleClass(container, \"container\", \"container-fluid\");\n      return false;\n    }\n  }\n\n  handleStop(e) {\n    let img = this.imgRef.current;\n    let imgTransform = img.style.transform;\n    imgTransform = imgTransform.replace(\"translate(\",\"\").replace(\")\",\"\");\n    let imgTransformArr = imgTransform.split(\",\");\n    let newX = imgTransformArr[0].trim().replace(\"px\",\"\");\n    let newY = imgTransformArr[1].trim().replace(\"px\",\"\");\n    this.setState({\n      positionX: parseInt(newX,10),\n      positionY: parseInt(newY,10),\n      dragging: false\n    });\n    return false;\n  }\n\n  handleStart(e) {\n    this.setState({\n      dragging: true\n    });\n  }\n\n  toggleFullScreen() {\n    if (this.state.fullScreenStatus===false) {\n      this.requestFullScreen(document.body);\n      this.setState({\n        fullScreenBtnClass: \"fa-compress\",\n        fullScreenStatus: true\n      });\n      return false;\n    }\n    else {\n      this.cancelFullScreen(document);\n      this.setState({\n        fullScreenBtnClass: \"fa-expand\",\n        fullScreenStatus: false\n      });\n    }\n  }\n\n  cancelFullScreen(el) {\n  \tlet requestMethod = el.cancelFullScreen||el.webkitCancelFullScreen||el.mozCancelFullScreen||el.exitFullscreen;\n  \tif (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n  \treturn false;\n  }\n\n  requestFullScreen(el) {\n  \tlet requestMethod = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullscreen;\n    if (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        iframeHeight: window.innerHeight\n      });\n    },1000);\n  \treturn false;\n  }\n\n  render() {\n    let pageSource = fixImagePath(archivePath+\"fullsize/\"+this.props.page.archive_filename);\n    let imgStyle = {\n      width: this.state.imgWidth,\n      height: this.state.imgHeight\n    }\n    let draggingClass=\"\";\n    if (this.state.dragging) {\n      draggingClass = \" dragging\";\n    }\n    let img = <Draggable\n      defaultPosition={{x: 0, y: 0}}\n      position={{x: this.state.positionX, y: this.state.positionY}}\n      onStart={this.handleStart}\n      onStop={this.handleStop}>\n      <img draggable=\"false\" ref={this.imgRef} className={\"transcription-img\"+draggingClass} src={pageSource} alt=\"\" style={imgStyle}/>\n    </Draggable>;\n    let imgViewerHTML = <Resizable className=\"transcription-img-container\" defaultSize={{\n      width: \"100%\",\n      height: 400,\n    }}\n    maxWidth=\"100%\"\n    minWidth=\"100%\"\n    >\n      <div className=\"transcription-img-controllers\">\n        <ul>\n          <li key={0}><span class='href-btn' onClick={this.updateViewer.bind(this,\"zoomin\")}><i className=\"fa fa-plus\"></i></span></li>\n          <li key={1}><span class='href-btn' onClick={this.updateViewer.bind(this,\"zoomout\")}><i className=\"fa fa-minus\"></i></span></li>\n          <li key={2}><span class='href-btn' onClick={this.updateViewer.bind(this,\"scrollup\")}><i className=\"fa fa-caret-up\"></i></span></li>\n          <li key={3}><span class='href-btn' onClick={this.updateViewer.bind(this,\"scrolldown\")}><i className=\"fa fa-caret-down\"></i></span></li>\n          <li key={4}><span class='href-btn' onClick={this.updateViewer.bind(this,\"scrollleft\")}><i className=\"fa fa-caret-left\"></i></span></li>\n          <li key={5}><span class='href-btn' onClick={this.updateViewer.bind(this,\"scrollright\")}><i className=\"fa fa-caret-right\"></i></span></li>\n          <li key={6}><span class='href-btn' onClick={this.updateViewer.bind(this,\"expand\")}><i className={\"fa \"+this.state.fullScreenBtnClass}></i></span></li>\n        </ul>\n      </div>\n      <div className=\"transcription-img-container-inner\">\n        {img}\n      </div>\n    </Resizable>;\n    return (\n      <div>\n        {imgViewerHTML}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport OwlCarousel from 'react-owl-carousel';\nimport {archivePath} from '../../common/constants';\nimport {fixImagePath} from '../../helpers/helpers';\n\nexport default class TranscriptionPagesList extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      thumbnails:[],\n      images:[],\n      loading: false,\n    };\n    this.renderThumbnails = this.renderThumbnails.bind(this);\n  }\n\n  renderThumbnails() {\n    let newThumbnails;\n      this.setState({\n        thumbnails: newThumbnails,\n        loading:false,\n      });\n\n  }\n\n  componentDidMount() {\n    this.renderThumbnails();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n        prevProps.selected!==this.props.selected ||\n        prevProps.pages!==this.props.pages\n      ) {\n      this.renderThumbnails();\n    }\n  }\n\n  render() {\n    let newThumbnails = [];\n    if (typeof this.props.pages!==\"undefined\" && this.props.pages.length>0) {\n      let pages = this.props.pages;\n      for (let i=0;i<pages.length; i++) {\n        let page = pages[i];\n        let transcriptionStatus = page.transcription_status;\n        let pageStatus = [];\n        if (parseInt(transcriptionStatus,10)===0) {\n          pageStatus = <small className=\"label label-success\">Open</small>;\n        }\n        if (parseInt(transcriptionStatus,10)===1) {\n          pageStatus = <small className=\"label label-warning\">Waiting Approval</small>;\n        }\n        if (parseInt(transcriptionStatus,10)===2) {\n          pageStatus = <small className=\"label label-danger\">Completed</small>;\n        }\n        let pageCount = i+1;\n        let selectedClass = \"\";\n        if (i===this.props.selected) {\n          selectedClass = \" selected\";\n        }\n        let thumbPath = fixImagePath(archivePath+'square_thumbnails/'+page.archive_filename);\n        let thumbnail =<div className={\"item\"+selectedClass} key={i}>\n          <span className=\"href-btn img-thumbnail\"\n            onClick={this.props.function.bind(this,i)}\n            >\n            <div className=\"transcription-page-select-status\">{pageStatus}</div>\n            <img\n              data-id={page.page_id}\n              src={thumbPath}\n              alt=''\n              className='img-responsive page-thumbnail' />\n              <label className=\"item-count\">{pageCount}</label>\n          </span>\n        </div>;\n        newThumbnails.push(thumbnail);\n      }\n    }\n\n    let owlNavText = ['<i class=\"fa fa-angle-left\"></i>','<i class=\"fa fa-angle-right\"></i>'];\n    let owlResponsive = {\n        0:{\n          items:1\n        },\n        400:{\n          items:4\n        },\n        992:{\n          items:8\n        },\n        1200:{\n          items:12\n        }\n    };\n    let content = <OwlCarousel\n        className=\"owl-theme item-pages-thumbnails\"\n        loop={false}\n        margin={10}\n        nav\n        responsive={owlResponsive}\n        navText={owlNavText}\n        navContainerClass='item-thumbnails-nav'\n        dots={false}>\n          {newThumbnails}\n      </OwlCarousel>\n    return (\n      <div>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {editorExportTranscription, editorImportTranscription} from '../../helpers/xml-editor/xml-editor';\nimport axios from 'axios';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport {APIPath} from '../../common/constants.js';\n\nexport default class TranscriptionEditor extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      saving: [],\n      error: [],\n      docked: true,\n      positionX: 0,\n      positionY: 0,\n      handle: false,\n      isResizing: false,\n      undockedWidth: 500,\n      resize: false,\n      width: '600px',\n      height: 'auto',\n      dragover: false,\n      textarea_disabled: false,\n      allowSave: false\n    }\n    this.elementName = \"editor_\" + this.props.id;\n    this.onInput = this.onInput.bind(this);\n    this.updateTranscription = this.updateTranscription.bind(this);\n    this.resetAllowSave = this.resetAllowSave.bind(this);\n    this.resizing = this.resizing.bind(this);\n    this.unsetResize = this.unsetResize.bind(this);\n    this.updateEditorView = this.updateEditorView.bind(this);\n\n    // dragging\n    this.setHandle = this.setHandle.bind(this);\n    this.startDrag = this.startDrag.bind(this);\n    this.endDrag = this.endDrag.bind(this);\n    this.dragStop = this.dragStop.bind(this);\n    this.dragOver = this.dragOver.bind(this);\n    this.dragEnter = this.dragEnter.bind(this);\n    this.dragLeave = this.dragLeave.bind(this);\n\n    // ref the editor\n    this.editorRef = React.createRef();\n  }\n\n  updateEditorView(newProps) {\n    if (typeof newProps.page.transcription_status !==\"undefined\") {\n      this.setState({\n        textarea_disabled: false\n      });\n      let newTranscription = newProps.page.transcription;\n      if (newTranscription===null) {\n        newTranscription = \"\";\n      }\n      this.updateTranscription(newTranscription);\n    }\n    else {\n      this.setState({\n        textarea_disabled: false\n      });\n      let newTranscription = newProps.page.transcription;\n      if (newTranscription===null) {\n        newTranscription = \"\";\n      }\n      this.updateTranscription(newTranscription);\n    }\n  }\n\n  componentDidMount() {\n\n    loadProgressBar();\n    let context = this;\n    let newTranscription = \"\";\n    if (typeof context.props.page.transcription_status !==\"undefined\") {\n      if (parseInt(context.props.page.transcription_status,10)>0) {\n        this.setState({\n          textarea_disabled: true,\n          allowSave: false\n        });\n      }\n    }\n    else {\n      this.setState({\n        textarea_disabled: false,\n        allowSave: false\n      });\n    }\n\n    if (window.CKEDITOR.instances[this.elementName]) {\n      try {\n        window.CKEDITOR.instances[this.elementName].destroy(true);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    if (this.props.updatePages!==[]) {\n      window.CKEDITOR.replace(this.elementName, {\n        on: {\n          instanceReady: function(e) {\n            if (context.props.page.transcription!==null) {\n              newTranscription = context.props.page.transcription;\n            }\n            else newTranscription = \"\";\n            context.updateTranscription(newTranscription);\n\n            // add change event listener\n            let inputTimeout = null;\n            window.CKEDITOR.instances[context.elementName].on('change', function (e) {\n              if (!context.state.allowSave) {\n                e.stop();\n                e.cancel();\n                return false;\n              }\n              let data = window.CKEDITOR.instances[this.elementName].getData();\n              if (inputTimeout !== null) {\n                clearTimeout(inputTimeout);\n              }\n              this.props.disableNav();\n              inputTimeout = setTimeout(function () {\n                context.onInput(data);\n              }, 2000);\n\n            }.bind(context));\n\n\n          }\n        }\n      });\n    }\n\n    // dragging\n    window.addEventListener('dragover', this.dragOver);\n    window.addEventListener('drop', this.endDrag);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('dragover', this.dragOver);\n    window.removeEventListener('drop', this.endDrag);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (\n        newProps.page.transcription!==this.props.page.transcription\n        || newProps.page.transcription_status!==this.props.page.transcription_status\n        || newProps.page.archive_filename!==this.props.page.archive_filename\n      ) {\n      this.updateEditorView(newProps);\n\n      this.setState({\n        transcription_content:newProps.page.transcription,\n        allowSave: false,\n      });\n      let context = this;\n      setTimeout(function() {\n        context.resetAllowSave();\n      },50);\n    }\n  }\n\n  onInput(data) {\n    if (this.state.allowSave) {\n      this.setState({\n        saving: <span><i>Saving</i> <i className=\"fa fa-spin fa-circle-o-notch\"></i></span>\n      })\n      let letterId = this.props.letterId;\n      let archiveFilename = this.props.page.archive_filename;\n      let newData = \"\";\n      if (data!==\"\") {\n        newData = editorExportTranscription(data);\n      }\n\n      let context = this;\n      let path = APIPath+\"update-letter-transcription-page/\"+letterId;\n      let accessToken = sessionStorage.getItem('accessToken');\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n      axios({\n        method: 'POST',\n        url: path,\n        crossDomain: true,\n        data: {\"archive_filename\": archiveFilename, \"transcription\": newData}\n      })\n      .then(function (response) {\n        if (response.data.status) {\n          context.setState({\n            saving: []\n          });\n          context.props.updatePages(response.data.data);\n        }\n        else {\n          let newError = {\n            error: true,\n            msg: response.data.message\n          };\n          context.props.error(newError);\n          context.setState({\n            saving: <span><i>Save error </i> <i className=\"fa fa-times\"></i></span>\n          });\n          setTimeout(function() {\n            context.setState({\n              saving: []\n            });\n          },1000);\n        }\n        context.props.enableNav();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  updateTranscription(data) {\n    let context = this;\n    let contentMarkup = editorImportTranscription(data);\n    if (window.CKEDITOR.instances[context.elementName]!==null) {\n      context.setState({\n        allowSave: false\n      });\n      setTimeout(function() {\n        window.CKEDITOR.instances[context.elementName].setData(contentMarkup, context.resetAllowSave);\n      },50);\n    }\n\n  }\n\n  resetAllowSave() {\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        allowSave: true\n      });\n    }, 50);\n  }\n\n  // drag\n  setHandle(e) {\n    this.setState({\n      handle: true\n    });\n  }\n\n  unsetHandle(e) {\n    e.preventDefault();\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        handle: false\n      });\n    },50);\n  }\n\n  startDrag(e) {\n    e.stopPropagation();\n    // make sure the element is only draggable by its handle\n    if (!this.state.handle) {\n      e.preventDefault();\n    }\n    else {\n      e.dataTransfer.setData(\"text/html\", e.target.id);\n      e.dataTransfer.dropEffect = \"move\";\n    }\n  }\n\n  endDrag(e) {\n    let newX = e.clientX - this.state.undockedWidth - 78;\n    let newY = e.clientY - 19;\n    this.setState({\n      handle: false,\n      docked: false,\n      positionX: newX,\n      positionY: newY,\n      dragover: false,\n    });\n    return false;\n  }\n\n  // dock\n  dragStop(e) {\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        docked: true,\n        positionX: 0,\n        positionY: 0,\n        handle: false,\n        dragover: false\n      });\n    },50);\n    e.stopPropagation();\n    e.preventDefault();\n    return false;\n  }\n\n  dragOver(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    return false;\n  }\n\n  dragEnter(e) {\n    this.setState({\n      dragover: true\n    });\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  dragLeave(e) {\n    this.setState({\n      dragover: false\n    });\n    e.preventDefault();\n    return false;\n  }\n\n  // resize\n  setResize(e) {\n    e.preventDefault();\n    this.setState({\n      resize: true\n    });\n  }\n\n  unsetResize(e) {\n    e.preventDefault();\n    this.setState({\n      resize: false\n    });\n  }\n\n  resizeMouseMove(e) {\n    if( this.state.resize ){\n      this.resizing(e.clientX, e.clientY);\n    }\n  }\n\n  resizing(clientX, clientY){\n    let node = this.editorRef.current;\n    let width = clientX - node.offsetLeft + (16 / 2);\n    let height = clientY - node.offsetTop  + (16 / 2);\n    this.setState({\n      width: width,\n      height: height,\n    });\n  }\n\n  render() {\n    //let resizeHandleClass=\"hidden\";\n    let undockedStyle = [];\n    let dropzoneClass = \"\";\n    if (!this.state.docked) {\n      undockedStyle = {\n        'position': 'fixed',\n        'top': this.state.positionY,\n        'left': this.state.positionX,\n        'zIndex':'999',\n        'width': this.state.width,\n        'height': this.state.height\n      };\n      //resizeHandleClass = \"\";\n      dropzoneClass = \" active\";\n    }\n    let dragOverClass=\"\";\n    if (this.state.dragover) {\n      dragOverClass = \" over\";\n    }\n    /*let resizeHandle = <div\n      className={\"transcription-editor-resize-handle \"+resizeHandleClass}\n        onMouseDown={this.setResize.bind(this)}\n      >\n      </div>;\n    resizeHandle = [];*/\n\n    let dragHandle = <div\n      className=\"transcription-editor-move-handle\"\n      onMouseDown={this.setHandle.bind(this)}\n      onMouseUp={this.unsetHandle.bind(this)}\n      >\n      <i className=\"fa fa-arrows\"></i>\n    </div>;\n\n    // output\n    let editorVisibleClass=\"\";\n    let content;\n    if (this.state.textarea_disabled) {\n      editorVisibleClass = \"hidden\";\n      let transcriptionText = \"\";\n      if (this.props.page.transcription!==null) {\n        transcriptionText = this.props.page.transcription;\n      }\n      content = <div className=\"transcription-container\" dangerouslySetInnerHTML={{__html: transcriptionText}}></div>;\n    }\n\n    return (\n      <div>\n        {content}\n        <div className={editorVisibleClass}>\n          <div\n            className={\"transcription-editor-dropzone\"+dropzoneClass+dragOverClass}\n            onDrop={this.dragStop.bind(this)}\n            onDragEnter={this.dragEnter.bind(this)}\n            onDragOver={this.dragOver.bind(this)}\n            onDragLeave={this.dragLeave.bind(this)}\n            >\n          </div>\n          <div\n            className=\"transcription-editor\"\n            ref={this.editorRef}\n            style={undockedStyle}\n            draggable=\"true\"\n            onDragStart={this.startDrag.bind(this)}\n            //onDragEnd={this.endDrag.bind(this)}\n            >\n            {dragHandle}\n              <div className=\"transcription-saving-container\">\n                <div className=\"transcription-saving\">{this.state.saving}</div>\n              </div>\n              <textarea name={this.elementName}></textarea>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","export function editorImportTranscription(transcription) {\n  if (transcription!==\"\") {\n    transcription = transcription\n      .replace(/<lb *\\/?>/ig,\"<br>\")\n      .replace(/<address>/ig, \"<addresstag>\").replace(/<\\/address>/ig, \"</addresstag>\")\n      .replace(/<add>/ig, \"<addtag>\").replace(/<\\/add>/ig, \"</addtag>\")\n      .replace(/<unclear>/ig, \"<uncleartag>\").replace(/<\\/unclear>/ig, \"</uncleartag>\")\n      .replace(/<note>/ig, \"<notetag>\").replace(/<\\/note>/ig, \"</notetag>\")\n      .replace(/<sic>/ig, \"<sictag>\").replace(/<\\/sic>/ig, \"</sictag>\")\n      .replace(/<date>/ig, \"<datetag>\").replace(/<\\/date>/ig, \"</datetag>\")\n      ;\n    return transcription;\n  }\n  else return false;\n}\n\nexport function editorExportTranscription(transcription) {\n  if (transcription!==\"\") {\n    transcription = transcription\n      .replace(/&nbsp;/g,\" \")\n      .replace(/&#8203;/g,\"\")\n      .replace(/^<br ?>/ig,\"<lb/>\").replace(/<br *\\/?>/ig,\"<lb/>\")\n      .replace(/<addresstag>/ig,\"<address>\").replace(/<\\/addresstag>/ig,\"</address>\")\n      .replace(/<addtag>/ig,\"<add>\").replace(/<\\/addtag>/ig,\"</add>\")\n      .replace(/<uncleartag>/ig,\"<unclear>\").replace(/<\\/uncleartag>/ig,\"</unclear>\")\n      .replace(/<notetag>/ig,\"<note>\").replace(/<\\/notetag>/ig,\"</note>\")\n      .replace(/<sictag>/ig,\"<sic>\").replace(/<\\/sictag>/ig,\"</sic>\")\n      .replace(/<datetag>/ig,\"<date>\").replace(/<\\/datetag>/ig,\"</date>\")\n      ;\n    return transcription;\n  }\n  else return false;\n}\n\nexport function replaceTag(text, tags) {\n  let newText = text;\n  for (let i=0;i<tags.length; i++) {\n    let tag = tags[i];\n    if (tag.source.name!==\"\") {\n      let tagOpening = \"<\"+tag.source.name;\n      let tagSelfClosing = \"/>\";\n      let tagClosing = \"</\"+tag.source.name;\n      let tagStart = newText.indexOf(tagOpening);\n\n      if (tagStart>-1) {\n\n        if (tagStart!==false) {\n          // replace opening tag\n          let selfClosingTagStart = tagStart + newText.substring(tagStart).indexOf(tagSelfClosing)+1;\n          let tagStart2 = tagStart + newText.substring(tagStart).indexOf(\">\")+1;\n\n          if (selfClosingTagStart<tagStart2) {\n            let preOpeningStr = newText.substring(0, tagStart);\n            let postOpeningStr = newText.substring(selfClosingTagStart, newText.length);\n\n            let targetAttrs = \"\";\n            for (let j=0; j<tag.target.attributes.length; j++) {\n              let tagTargetAttr = tag.target.attributes[j];\n              targetAttrs += \" \"+tagTargetAttr.name+\"='\"+tagTargetAttr.value+\"'\";\n            }\n            let newOpeningTag = \"<\"+tag.target.name+targetAttrs+\">\";\n            newText = preOpeningStr+newOpeningTag+postOpeningStr;\n          }\n          else {\n            let preOpeningStr = newText.substring(0, tagStart);\n            let postOpeningStr = newText.substring(tagStart2, newText.length);\n\n            let targetAttrs = \"\";\n            for (let j=0; j<tag.target.attributes.length; j++) {\n              let tagTargetAttr = tag.target.attributes[j];\n              targetAttrs += \" \"+tagTargetAttr.name+\"='\"+tagTargetAttr.value+\"'\";\n            }\n            let newOpeningTag = \"<\"+tag.target.name+targetAttrs+\">\";\n            newText = preOpeningStr+newOpeningTag+postOpeningStr;\n\n            // replace closing tag\n            let tagEnd = newText.indexOf(tagClosing);\n            let tagEnd2 = tagEnd + newText.substring(tagEnd).indexOf(\">\")+1;\n            let preClosingStr = newText.substring(0, tagEnd);\n            let postClosingStr = newText.substring(tagEnd2, newText.length);\n            let newClosingTag = \"</\"+tag.target.name+\">\";\n            newText = preClosingStr+newClosingTag+postClosingStr;\n          }\n\n        }\n      }\n\n    }\n  }\n  return newText;\n}\n\nexport function replaceText(text, start, end, replaceValue) {\n\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport {APIPath} from '../common/constants.js';\nimport TranscriptionImageViewer from '../components/transcribe/image-viewer';\nimport TranscriptionPagesList from '../components/transcribe/pages-list';\nimport TranscriptionEditor from '../components/transcribe/editor-ck';\nimport ReactLoading from 'react-loading';\nimport ProtectedPage from '../components/protected-page';\n\nexport class TranscriptionLetterView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      title: '',\n      pages:[],\n      page: [],\n      containerClass: \"container\",\n      error: false,\n      msg: \"\",\n      isAdmin: this.props.isAdmin,\n      prevlocation: '',\n      prevlocationpath: '',\n      transcription_status: -1,\n      navDisabled: false,\n      selectedPage: 0,\n      adminModal: false\n    };\n\n    this.showPage = this.showPage.bind(this);\n    this.updatePages = this.updatePages.bind(this);\n    this.updateErrorState = this.updateErrorState.bind(this);\n    this.disableNav = this.disableNav.bind(this);\n    this.enableNav = this.enableNav.bind(this);\n    this.showAdminModal = this.showAdminModal.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleFormChange = this.handleFormChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleFormChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n    let currentPage = this.state.page;\n\n    let archive_filename;\n    if (typeof currentPage.archive_filename!==\"undefined\") {\n      archive_filename = currentPage.archive_filename;\n    }\n\n    let itemId = 0;\n    let postPath;\n    let context = this;\n    if (typeof this.props.match.params.itemId!==\"undefined\") {\n      itemId = this.props.match.params.itemId;\n      postPath = APIPath+'update-letter-transcription-page-status/'+itemId;\n    }\n    else {\n      return false;\n    }\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n\t\taxios.post(postPath, {\n      'archive_filename': archive_filename,\n      'transcription_status': this.state.transcription_status\n    })\n\t  .then(function (response) {\n      if (response.data.status===true) {\n        let pages = response.data.data;\n        let updatedPage = [];\n        for (let i=0; i<pages.length; i++) {\n          let page = pages[i];\n          if (page.archive_filename===archive_filename) {\n            updatedPage = page;\n          }\n        }\n        context.setState({\n          page: updatedPage,\n          pages: pages,\n          adminModal: false\n        });\n      }\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n  showAdminModal() {\n    this.setState({\n      adminModal: true\n    })\n  }\n  handleClose() {\n    this.setState({\n      adminModal: false\n    })\n  }\n\n  loadItem() {\n    let itemId = 0;\n    let getPath;\n    let context = this;\n    if (typeof this.props.match.params.itemId!==\"undefined\") {\n      itemId = this.props.match.params.itemId;\n      getPath = APIPath+'letter-transcribe/'+itemId;\n    }\n    else {\n      return false;\n    }\n\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n\t\taxios.get(getPath)\n\t  .then(function (response) {\n      let responseData = response.data.data;\n      if (response.data.status===true) {\n        context.setState({\n          title: responseData.title,\n          pages: responseData.pages,\n          page: responseData.pages[0],\n          transcription_status: responseData.pages[0].transcription_status,\n          loading: false\n        });\n      }\n      else {\n        context.setState({\n          title: responseData.title,\n          error: true,\n          msg: response.data.message,\n          loading: false\n        });\n      }\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n  componentDidMount() {\n    this.loadItem();\n    if (typeof this.props.history.location.prevlocation!==\"undefined\") {\n      this.setState({\n        prevlocation: this.props.history.location.prevlocation,\n        prevlocationpath: this.props.history.location.prevlocationpath,\n      });\n    }\n  }\n\n\n  disableNav(navDisabled) {\n    if (!this.state.navDisabled) {\n      this.setState({\n        navDisabled: true\n      });\n    }\n  }\n\n  enableNav() {\n    if (this.state.navDisabled) {\n      this.setState({\n        navDisabled: false\n      });\n    }\n  }\n\n  showPage(i) {\n    if (!this.state.navDisabled) {\n      let newPage = this.state.pages[i];\n      this.setState({\n        page: newPage,\n        selectedPage: i\n      });\n      let newPageStatus=0;\n      if (typeof newPage.transcription_status!==\"undefined\") {\n        newPageStatus = parseInt(newPage.transcription_status,10);\n        this.setState({\n          transcription_status: newPageStatus\n        })\n      }\n    }\n  }\n\n  updatePages(pages) {\n    this.setState({\n      pages: pages\n    });\n  }\n\n  updateErrorState(newError) {\n    this.setState({\n      error: newError.error,\n      msg: newError.msg\n    });\n  }\n\n  render() {\n    let contentHTML,contentTitle;\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    let breadCrumbsArr = [];\n\t\tif (sessionActive!=='true') {\n      breadCrumbsArr = [{label:'My transcriptions',path:''}];\n      contentHTML = <div>\n        <ProtectedPage\n          loginModalOpen={this.props.loginModalOpen}\n          />\n      </div>;\n    }\n    else {\n      if (!this.state.error) {\n        if (this.state.loading) {\n          contentHTML = <div className=\"loader-container item-loader\">\n                <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60}  delay={0} />\n              </div>;\n        }\n        else if (this.state.loading===false) {\n          contentTitle = this.state.title;\n          contentHTML = <div>\n            <div className=\"text-right\">\n              <a className=\"btn btn-default btn-xs\" target=\"_blank\" href=\"/wp-post/how-to-transcribe\">How to transcribe</a>\n            </div>\n            <TranscriptionPagesList\n              pages={this.state.pages}\n              disabled={this.state.navDisabled}\n              function={this.showPage}\n              selected={this.state.selectedPage}\n              />\n            <TranscriptionImageViewer\n              page={this.state.page} />\n\n            <TranscriptionEditor\n              updatePages={this.updatePages}\n              letterId={this.props.match.params.itemId}\n              page={this.state.page}\n              id=\"letter-edit\"\n              error={this.updateErrorState}\n              disableNav={this.disableNav}\n              enableNav={this.enableNav}\n              />\n          </div>;\n        }\n        let breadCrumbsPath = {label:'My transcriptions', path:'/user-transcriptions'};\n        if (this.state.prevlocation!==\"\") {\n          breadCrumbsPath = {label: this.state.prevlocation, path: this.state.prevlocationpath}\n        }\n        breadCrumbsArr.push(breadCrumbsPath);\n        breadCrumbsArr.push({label:contentTitle,path:''});\n      }\n      else {\n        contentTitle = this.state.title;\n        breadCrumbsArr = [{label:'My transcriptions', path:'/user-transcriptions'},{label:contentTitle,path:''}];\n        contentHTML = <p className=\"text-center\">{this.state.msg}</p>;\n      }\n    }\n    return (\n      <div>\n        <div className=\"container\" id=\"transcription-container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <BreadCrumbs items={breadCrumbsArr}/>\n              <h1><span>{contentTitle}</span></h1>\n              <div className=\"item-container\">\n                {contentHTML}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {Modal} from 'react-bootstrap';\n\nexport default class ConfirmModal extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\theaderText: \"\",\n\t\t\tbodyText: \"\",\n\t\t\tbuttonCancel: \"\",\n\t\t\tbuttonSuccess: \"\",\n\t\t\tbuttonCancelText: \"\",\n\t\t\tbuttonSuccessText: \"\",\n\t\t\tshowModal: false,\n\t\t};\n\n\t\tthis.handleShow = this.handleShow.bind(this);\n\t\tthis.handleClose = this.handleClose.bind(this);\n\t}\n\n\thandleClose() {\n\t\tthis.setState({ showModal: false });\n\t}\n\n\thandleShow() {\n\t\tthis.setState({ showModal: true });\n\t}\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps!==this.props) {\n      this.setState({\n        headerText: this.props.headerText,\n  \t\t\tbodyText: this.props.bodyText,\n  \t\t\tbuttonCancel: this.props.buttonCancel,\n  \t\t\tbuttonSuccess: this.props.buttonSuccess,\n  \t\t\tbuttonCancelText: this.props.buttonCancelText,\n  \t\t\tbuttonSuccessText: this.props.buttonSuccessText,\n        returnFunction: this.props.returnFunction,\n  \t\t\tshowModal: this.props.showModal,\n      });\n    }\n  }\n\n\trender() {\n    const newModal = (\n      <Modal\n        show={this.state.showModal}\n        onHide={this.handleClose}\n        bsSize=\"small\"\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>{this.state.headerText}</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {this.state.bodyText}\n          </Modal.Body>\n          <Modal.Footer>\n            {this.state.buttonCancel}\n            {this.state.buttonSuccess}\n          </Modal.Footer>\n      </Modal>\n    );\n  \treturn (\n        <div>\n          {newModal}\n        </div>\n  \t);\n\t}\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\nimport ConfirmModal from '../components/confirm-modal';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport {Modal} from 'react-bootstrap';\nimport {sessionCookie} from '../helpers/helpers';\nimport ProtectedPage from '../components/protected-page';\n\n\nexport class UserProfileView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      userName: '',\n      userEmail: '',\n      createdAt: '',\n      numLetters: '',\n      numTranscriptions: '',\n      showUpdateModal: false,\n      updateSubmitStatus: false,\n      updateName: '',\n      updateEmail: '',\n      updateErrorShow: false,\n      updateErrorMessage: '',\n      showPasswordModal: false,\n      passwordSubmitStatus: false,\n      updatePassword: '',\n      updatePasswordConfirm: '',\n      passwordErrorShow: false,\n      passwordErrorMessage: '',\n      strengthClass: '',\n      strengthLabel: '',\n      forgetMeErrorShow: false,\n      forgetMeErrorMessage: '',\n      showForgetMeConfirm: false,\n    }\n    this.loadItem = this.loadItem.bind(this);\n    // update user\n    this.handleUpdateModalShow = this.handleUpdateModalShow.bind(this);\n    this.handleUpdateModalClose = this.handleUpdateModalClose.bind(this);\n    this.handleUpdateFormChange = this.handleUpdateFormChange.bind(this);\n    this.handleUpdateFormSubmit = this.handleUpdateFormSubmit.bind(this);\n    this.updateErrorValidation = this.updateErrorValidation.bind(this);\n\n    // update password\n    this.handlePasswordModalShow = this.handlePasswordModalShow.bind(this);\n    this.handlePasswordModalClose = this.handlePasswordModalClose.bind(this);\n    this.handlePasswordFormChange = this.handlePasswordFormChange.bind(this);\n    this.handlePasswordFormSubmit = this.handlePasswordFormSubmit.bind(this);\n    this.passwordStrengthCalculate = this.passwordStrengthCalculate.bind(this);\n    this.passwordErrorValidation = this.passwordErrorValidation.bind(this);\n\n    // forget me\n    this.showForgetMeConfirm = this.showForgetMeConfirm.bind(this);\n    this.hideForgetMeConfirm = this.hideForgetMeConfirm.bind(this);\n    this.forgetMeSubmit = this.forgetMeSubmit.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n  }\n\n\thandleUpdateModalShow() {\n\t\tthis.setState({\n      showUpdateModal: true,\n      updateName: this.state.userName,\n      updateEmail: this.state.userEmail,\n    });\n\t}\n  handleUpdateModalClose() {\n    this.setState({ showUpdateModal: false });\n\t}\n  handleUpdateFormChange(e) {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n  handleUpdateFormSubmit(e) {\n    e.preventDefault();\n    if (this.updateErrorValidation()) {\n  \t\tif (this.state.updateSubmitStatus) {\n  \t\t\treturn false;\n  \t\t}\n  \t\tthis.setState({\n  \t\t\tupdateSubmitStatus: true\n  \t\t});\n  \t\tvar context = this;\n      let accessToken = sessionStorage.getItem('accessToken');\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n  \t\taxios.post(APIPath+'update-user', {\n  \t\t\tname: this.state.updateName.trim(),\n  \t\t\temail: this.state.updateEmail.trim(),\n  \t\t})\n  \t  .then(function (response) {\n  \t\t\tcontext.setState({\n  \t\t\t\tupdateSubmitStatus: false,\n  \t\t\t\tshowUpdateModal: false,\n          userName: context.state.updateName,\n          userEmail: context.state.updateEmail,\n  \t\t\t});\n  \t  })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n  \t  });\n    }\n  }\n  updateErrorValidation() {\n    let emailRegEx = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n    if (this.state.updateName.trim().length===0) {\n      this.nameInput.focus();\n      this.setState({\n        updateErrorShow: true,\n        updateErrorMessage: 'Your Full Name cannot be blank!'\n      });\n      return false;\n    }\n    else if (this.state.updateEmail.search(emailRegEx) === -1) {\n      this.emailInput.focus();\n      this.setState({\n        updateErrorShow: true,\n        updateErrorMessage: 'Please enter a valid E-mail Address to continue!'\n      });\n      return false;\n    }\n    else {\n      this.setState({\n        updateErrorShow: false,\n        updateErrorMessage: ''\n      });\n    }\n    return true;\n  }\n\n  handlePasswordModalShow() {\n    this.setState({\n      showPasswordModal: true,\n    });\n  }\n  handlePasswordModalClose() {\n    this.setState({\n      showPasswordModal: false,\n    });\n  }\n  handlePasswordFormChange(e) {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    if (name===\"updatePassword\") {\n      this.passwordStrengthCalculate(value);\n    }\n    this.setState({\n      [name]: value\n    });}\n  handlePasswordFormSubmit(e) {\n    e.preventDefault();\n    if (this.passwordErrorValidation()) {\n  \t\tif (this.state.passwordSubmitStatus) {\n  \t\t\treturn false;\n  \t\t}\n  \t\tthis.setState({\n  \t\t\tpasswordSubmitStatus: true\n  \t\t});\n  \t\tvar context = this;\n      let accessToken = sessionStorage.getItem('accessToken');\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n  \t\taxios.post(APIPath+'update-user-password', {\n  \t\t\tpassword: this.state.updatePassword.trim(),\n  \t\t\tpassword_confirmation: this.state.updatePasswordConfirm.trim(),\n  \t\t})\n  \t  .then(function (response) {\n  \t\t\tcontext.setState({\n  \t\t\t\tpasswordSubmitStatus: false,\n  \t\t\t\tshowPasswordModal: false,\n          updatePassword: '',\n          updatePasswordConfirm: '',\n  \t\t\t});\n  \t  })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n  \t  });\n    }\n  }\n  passwordStrengthCalculate(value) {\n    let strongRegex = new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})\");\n    let mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})\");\n    let strengthClass = \"\";\n    let strengthLabel = \"\";\n    if (value.trim().length>0) {\n      if(strongRegex.test(value)) {\n          strengthClass = \" green\";\n          strengthLabel = \"Strong\";\n      } else if(mediumRegex.test(value)) {\n          strengthClass = \" orange\";\n          strengthLabel = \"Medium\";\n      }\n      else {\n        strengthClass = \" red\";\n        strengthLabel = \"Weak\";\n      }\n    }\n    this.setState({\n      strengthClass: strengthClass,\n      strengthLabel: strengthLabel\n    });\n  }\n  passwordErrorValidation() {\n    if (this.state.updatePassword.trim().length<5) {\n      this.passwordInput.focus();\n      this.setState({\n        passwordErrorShow: true,\n        passwordErrorMessage: 'Your new password must contain at least 6 characters'\n      });\n      return false;\n    }\n    else if (this.state.updatePassword.trim() !== this.state.updatePasswordConfirm.trim()) {\n      this.passwordConfirmInput.focus();\n      this.setState({\n        passwordErrorShow: true,\n        passwordErrorMessage: \"Password and password confirm don't match. Please try again.\"\n      });\n      return false;\n    }\n    else {\n      this.setState({\n        passwordErrorShow: false,\n        passwordErrorMessage: ''\n      });\n    }\n    return true;\n  }\n\n  showForgetMeConfirm() {\n    this.setState({\n      showForgetMeConfirm: true\n    });\n  }\n  hideForgetMeConfirm() {\n    this.setState({\n      showForgetMeConfirm: false\n    });\n  }\n\n  forgetMeSubmit() {\n    let context = this;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios.get(APIPath+'forget-me')\n    .then(function (response) {\n      if (response.data.data.status===\"error\") {\n        context.setState({\n          forgetMeErrorShow: true,\n          forgetMeErrorMessage: response.data.message,\n          showForgetMeConfirm: false\n        })\n      }\n      else {\n        context.handleLogout();\n      }\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  handleLogout() {\n    sessionStorage.setItem('sessionActive', false);\n    sessionStorage.setItem('accessToken', '');\n    sessionStorage.setItem('userName', '');\n    sessionCookie('', false, '', true);\n    window.location.reload();\n\t}\n\n  loadItem() {\n    let context = this;\n    let path = APIPath+\"user-profile\";\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios.get(path)\n    .then(function (response) {\n      let responseData = response.data.data;\n      context.setState({\n        loading: false,\n        userName: responseData.name,\n        userEmail: responseData.email,\n        createdAt: responseData.created_at,\n        numLetters: responseData.num_letters,\n        numTranscriptions: responseData.num_transcriptions,\n      })\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    this.loadItem();\n    loadProgressBar();\n  }\n\n  render() {\n    let contentHTML,pageContent,userUpdateModal,passwordModal,forgetMeModal;\n    let contentTitle = \"User profile\";\n    let breadCrumbsArr = {label:contentTitle, path: ''};\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive!=='true') {\n      contentHTML = <ProtectedPage\n        loginModalOpen={this.props.loginModalOpen}\n        />\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    }\n    else {\n      if (this.state.loading) {\n        pageContent = <div className=\"loader-container\">\n            <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n      }\n      else {\n        let forgetMeErrorClass = \"error-container\";\n    \t\tif (this.state.forgetMeErrorShow) {\n    \t\t\tforgetMeErrorClass = \"error-container-visible\";\n    \t\t}\n\n    \t\tlet updateErrorClass = \"error-container\";\n    \t\tif (this.state.updateErrorShow) {\n    \t\t\tupdateErrorClass = \"error-container-visible\";\n    \t\t}\n        userUpdateModal = (\n          <Modal\n            show={this.state.showUpdateModal}\n            onHide={this.handleUpdateModalClose}\n            bsSize=\"small\"\n    \t\t\t\t>\n            <Modal.Header closeButton>\n              <Modal.Title><i className=\"fa fa-user-circle\"></i> Update your information</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n    \t\t\t\t\t<form onSubmit={this.handleUpdateFormSubmit}>\n    \t\t\t\t\t\t<div className={updateErrorClass}>{this.state.updateErrorMessage}</div>\n\n    \t\t\t\t\t\t<div className=\"form-group\">\n    \t\t\t\t\t\t\t<label>Name</label>\n    \t\t\t        <input name=\"updateName\" type=\"text\" className=\"form-control\" ref={(input) => { this.nameInput = input; }} value={this.state.updateName} onChange={this.handleUpdateFormChange} />\n    \t\t\t      </div>\n    \t\t\t\t\t\t<div className=\"form-group\">\n    \t\t\t\t\t\t\t<label>E-mail</label>\n    \t\t\t\t\t\t\t<input name=\"updateEmail\" type=\"email\" className=\"form-control\" ref={(input) => { this.nameInput = input; }} value={this.state.updateEmail} onChange={this.handleUpdateFormChange} />\n    \t\t\t\t\t\t</div>\n    \t\t\t\t\t\t<button className=\"btn btn-letters\" type=\"submit\"><i className=\"fa fa-save\"></i> Submit</button>\n    \t\t\t\t\t</form>\n            </Modal.Body>\n          </Modal>\n        );\n\n        let passwordErrorClass = \"error-container\";\n    \t\tif (this.state.passwordErrorShow) {\n    \t\t\tpasswordErrorClass = \"error-container-visible\";\n    \t\t}\n        passwordModal = (\n          <Modal\n            show={this.state.showPasswordModal}\n            onHide={this.handlePasswordModalClose}\n            bsSize=\"small\"\n    \t\t\t\t>\n            <Modal.Header closeButton>\n              <Modal.Title>Update your password</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n    \t\t\t\t\t<form onSubmit={this.handlePasswordFormSubmit}>\n    \t\t\t\t\t\t<div className={passwordErrorClass}>{this.state.passwordErrorMessage}</div>\n\n    \t\t\t\t\t\t<div className=\"form-group\">\n    \t\t\t\t\t\t\t<label>Password</label>\n    \t\t\t        <input name=\"updatePassword\" type=\"password\" className=\"form-control\" ref={(input) => { this.passwordInput = input; }} onChange={this.handlePasswordFormChange} />\n    \t\t\t      </div>\n                <div className=\"form-group\">\n                  <div className={\"password-strength\"+this.state.strengthClass}>\n                    <div className={this.state.strengthClass}></div>\n                    <div className=\"password-text\">{this.state.strengthLabel}</div>\n                  </div>\n                </div>\n    \t\t\t\t\t\t<div className=\"form-group\">\n    \t\t\t\t\t\t\t<label>Password confirm</label>\n    \t\t\t\t\t\t\t<input name=\"updatePasswordConfirm\" type=\"password\" className=\"form-control\" ref={(input) => { this.passwordConfirmInput = input; }} value={this.state.handlePasswordFormChange} onChange={this.handlePasswordFormChange} />\n    \t\t\t\t\t\t</div>\n    \t\t\t\t\t\t<button className=\"btn btn-letters\" type=\"submit\"><i className=\"fa fa-save\"></i> Submit</button>\n    \t\t\t\t\t</form>\n            </Modal.Body>\n          </Modal>\n        );\n        let newDate = new Date(this.state.createdAt);\n        let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n        let dateLabel = months[newDate.getUTCMonth()]+\" \"+newDate.getUTCDate()+\", \"+newDate.getUTCFullYear();\n\n        forgetMeModal = <ConfirmModal\n          headerText=\"Forget me\"\n          bodyText=\"All your personal information will be permanently removed from the system. This action cannot be undone. Continue?\"\n          buttonCancel={<button type=\"button\" className=\"pull-left btn btn-primary btn-sm\" onClick={this.hideForgetMeConfirm}>Cancel</button>}\n          buttonSuccess={<button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={this.forgetMeSubmit}><i className=\"fa fa-times\"></i> Forget me</button>}\n          showModal={this.state.showForgetMeConfirm}\n        />\n\n        contentHTML = <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-8\">\n            <h4>Welcome {this.state.userName}</h4>\n            <p>\n              <span className=\"href-btn\" onClick={this.handleUpdateModalShow}>Update user information</span><br/>\n              <span className=\"href-btn\" onClick={this.handlePasswordModalShow}>Update password</span><br/>\n              <span className=\"href-btn\" onClick={this.showForgetMeConfirm}>Forget me</span><br/>\n            </p>\n          </div>\n          <div className=\"col-xs-12 col-sm-4\">\n            Member since: {dateLabel}<br/>\n            Letters added: {this.state.numLetters}<br/>\n            Letters transcribed: {this.state.numTranscriptions}<br/>\n          </div>\n        </div>;\n\n        pageContent = <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n              <h1>{contentTitle}</h1>\n              <div className=\"item-container\">\n                <div className={forgetMeErrorClass}>{this.state.forgetMeErrorMessage}</div>\n                {contentHTML}\n              </div>\n            </div>\n          </div>\n        </div>\n      }\n    }\n    return (\n      <div>\n        {pageContent}\n        {userUpdateModal}\n        {passwordModal}\n        {forgetMeModal}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport createClass from 'create-react-class';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport axios from 'axios';\nimport {APIPath} from '../../common/constants';\nimport {flattenDeep} from '../../helpers/helpers';\n\nexport default class KeywordsSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      keywordsOptions: [],\n      selectedOption: [],\n    }\n    this.loadKeywords = this.loadKeywords.bind(this);\n  }\n\n  loadKeywords() {\n    if (sessionStorage.getItem(\"uploaded_topics_list\")!==null && sessionStorage.getItem(\"uploaded_topics_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"uploaded_topics_list\"));\n      let keywords = [];\n      for (let i=0; i<data.length; i++) {\n        let item = data[i];\n        let keyword = this.keywordItem(item, 0);\n        keywords.push(keyword);\n      }\n      this.setState({\n        loading: false,\n        keywordsOptions: keywords\n      });\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"topics\")\n    \t  .then(function (response) {\n          let data = response.data.data;          \n          sessionStorage.setItem('uploaded_topics_list', JSON.stringify(data));\n          let keywords = [];\n          for (let i=0; i<data.length; i++) {\n            let item = data[i];\n            let keyword = context.keywordItem(item, 0);\n            keywords.push(keyword);\n          }\n          context.setState({\n            loading: false,\n            keywordsOptions: keywords\n          });\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  keywordItem(item, isChild) {\n    let children = item.children;\n    let keywordChildren = [];\n    let keyword = [{ label: item.name, value: item.id, topic_id: item.id, child: isChild }];\n    if (children.length>0) {\n      keywordChildren = this.keywordChildren(children, 1);\n      keyword.push(keywordChildren);\n    }\n    return keyword;\n  }\n\n  keywordChildren(children, isChild) {\n    let childrenItems = [];\n    if (children.length>0) {\n      for (let j=0; j<children.length; j++) {\n        let child = children[j];\n        let childItem = this.keywordItem(child, isChild);\n        childrenItems.push(childItem);\n      }\n    }\n\n    return childrenItems;\n  }\n\n  componentDidMount() {\n    this.loadKeywords();\n  }\n\n  render() {\n    const keywordsOptions = this.state.keywordsOptions;\n    let flattenedOptions = flattenDeep(keywordsOptions);\n    return (\n      <Select\n        name={this.props.elementName}\n        value={this.props.selected}\n        onChange={this.props.onChangeFunction}\n        options={flattenedOptions}\n        multi={this.props.multi}\n        removeSelected={this.props.removeSelected}\n        optionComponent={ListItemOption}\n      />\n    );\n  }\n}\n\nconst ListItemOption = createClass({\n\tpropTypes: {\n\t\tchildren: PropTypes.node,\n\t\tclassName: PropTypes.string,\n\t\tisDisabled: PropTypes.bool,\n\t\tisFocused: PropTypes.bool,\n\t\tisSelected: PropTypes.bool,\n\t\tonFocus: PropTypes.func,\n\t\tonSelect: PropTypes.func,\n\t\toption: PropTypes.object.isRequired,\n\t},\n\thandleMouseDown (event) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tthis.props.onSelect(this.props.option, event);\n\t},\n\thandleMouseEnter (event) {\n\t\tthis.props.onFocus(this.props.option, event);\n\t},\n\thandleMouseMove (event) {\n\t\tif (this.props.isFocused) return;\n\t\tthis.props.onFocus(this.props.option, event);\n\t},\n\trender () {\n    let childClass = \"\";\n    if (parseInt(this.props.option.child,10)>0) {\n      childClass = \" select-child\";\n    }\n\t\treturn (\n\t\t\t<div className={this.props.className+childClass}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tonMouseEnter={this.handleMouseEnter}\n\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\ttitle={this.props.option.title}\n        key={\"select-\"+this.props.option.label}>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n});\n","import React from 'react';\nimport {Creatable} from 'react-select';\nimport axios from 'axios';\nimport {APIPath} from '../../common/constants';\n\nexport default class AuthorsSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectOptions: []\n    }\n    this.loadItems = this.loadItems.bind(this);\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"upload_people_list\")!==null && sessionStorage.getItem(\"upload_people_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"upload_people_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"people\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n          sessionStorage.setItem(\"upload_people_list\", JSON.stringify(data));\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let item = data[i];\n      let row = { label: item, value: item };\n      items.push(row);\n    }\n    this.setState({\n      selectOptions: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    const selectOptions = this.state.selectOptions;\n    return (\n      <Creatable\n        name={this.props.elementName}\n        value={this.props.selected}\n        onChange={this.props.onChangeFunction}\n        options={selectOptions}\n        multi={this.props.multi}\n        removeSelected={this.props.removeSelected}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport { Creatable } from 'react-select';\nimport axios from 'axios';\nimport {APIPath} from '../../common/constants';\n\nexport default class SourcesSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectOptions: []\n    }\n    this.loadItems = this.loadItems.bind(this);\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"upload_sources_list\")!==null && sessionStorage.getItem(\"upload_sources_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"upload_sources_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"sources\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n          sessionStorage.setItem(\"upload_sources_list\", JSON.stringify(data));\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let item = data[i];\n      let row = { label: item.source, value: item.source };\n      items.push(row);\n    }\n    this.setState({\n      selectOptions: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n\n  }\n\n  render() {\n    const selectOptions = this.state.selectOptions;\n    return (\n      <Creatable\n        name={this.props.elementName}\n        value={this.props.selected}\n        onChange={this.props.onChangeFunction}\n        options={selectOptions}\n        multi={this.props.multi}\n        removeSelected={this.props.removeSelected}\n      />\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath,domain} from '../common/constants.js';\nimport {calculateDaysInMonth,fixImagePath} from '../helpers/helpers';\nimport 'react-select/dist/react-select.css';\nimport KeywordsSelect from '../components/transcribe/keywords-select';\nimport AuthorsSelect from '../components/transcribe/authors-select';\nimport SourcesSelect from '../components/transcribe/sources-select';\nimport ConfirmModal from '../components/confirm-modal';\nimport ProtectedPage from '../components/protected-page';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport Lightbox from 'react-image-lightbox';\n\n\nexport class UserLetterView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      form: {\n        title: \"\",\n        additional_information: \"\",\n        keywords: [],\n        year: \"1915\",\n        month: \"\",\n        day: \"\",\n        letter_from: \"\",\n        creator_gender: \"\",\n        letter_to: \"\",\n        language: \"\",\n        source: \"\",\n        doc_collection: \"\",\n        recipient_location: \"\",\n        creator_location: \"\",\n        year_of_death_of_author: \"\",\n        notes: \"\",\n        images: [],\n        additional_img_info: [\"Letter\"],\n        terms_of_use: \"\",\n        copyright_statement: \"\",\n        pages:[],\n      },\n      errors: {\n        title: false,\n        language: false,\n        source: false,\n        terms: false,\n        license: false,\n      },\n      filesErrorText: '',\n      filesError: false,\n      imageBlocks: [],\n      daysOptions: [],\n      upload_loader: false,\n      progress_bar_text: \"\",\n      progress_bar_width:0,\n      redirect: false,\n      imagesPreview: [],\n      updateBtnText: \"Submit\",\n      terms_of_useChecked: false,\n      copyright_statementChecked1: false,\n      copyright_statementChecked2: false,\n      submitStatus: 0,\n      loading: true,\n      showDeleteConfirm: false,\n      deleteConfirmSubmit:'',\n      showDeleteLetterConfirm:false,\n      deleteLetterConfirmSubmit: '',\n      prevlocation: '',\n      prevlocationpath: '',\n      imagePaths: [],\n      photoIndex: 0,\n      isOpen: false,\n      enableTranscription: false,\n    }\n    this.loadItem = this.loadItem.bind(this);\n    this.calculateDays = this.calculateDays.bind(this);\n    this.yearOfDeathList = this.yearOfDeathList.bind(this);\n    this.handleFormChange = this.handleFormChange.bind(this);\n    this.propChecked = this.propChecked.bind(this);\n    this.handleSelectFormChange = this.handleSelectFormChange.bind(this);\n    this.removeImageBlock = this.removeImageBlock.bind(this);\n    this.addImageBlock = this.addImageBlock.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.errorValidation = this.errorValidation.bind(this);\n    this.onDragEnd = this.onDragEnd.bind(this);\n    this.reorderPages = this.reorderPages.bind(this);\n    this.removeFormImage = this.removeFormImage.bind(this);\n    this.showDeleteConfirm = this.showDeleteConfirm.bind(this);\n    this.hideDeleteConfirm = this.hideDeleteConfirm.bind(this);\n    this.assignItemStateValues = this.assignItemStateValues.bind(this);\n    this.loadItemImages = this.loadItemImages.bind(this);\n    this.deleteLetter = this.deleteLetter.bind(this);\n    this.showDeleteLetterConfirm = this.showDeleteLetterConfirm.bind(this);\n    this.hideDeleteLetterConfirm = this.hideDeleteLetterConfirm.bind(this);\n    this.showBigImage = this.showBigImage.bind(this);\n    this.enableTranscription = this.enableTranscription.bind(this);\n    this.resetState = this.resetState.bind(this);\n  }\n\n  handleFormChange(key,e) {\n    let target = e.target;\n    let value = target.type === 'checkbox' ? target.checked : target.value;\n    let name = target.name;\n\n    if (name===\"month\") {\n      let year = parseInt(this.state.form.year,10);\n      let month = parseInt(value,10)-1;\n      this.calculateDays(year,month);\n    }\n    if (name===\"year\") {\n      let year = parseInt(value,10);\n      if (this.state.form.month!==\"\") {\n        let month = parseInt(this.state.form.month,10)-1;\n        this.calculateDays(year,month);\n      }\n    }\n    let newState = Object.assign({}, this.state);\n    if (name===\"images\") {\n      let newImages = this.state.form.images;\n      if (typeof newImages[key]===\"undefined\") {\n        newImages.push(target.files[0]);\n      }\n      else {\n        newImages[key] = target.files[0];\n      }\n      newState.form[name]=newImages;\n    }\n    else if (name===\"additional_img_info\") {\n      let newAII = this.state.form.additional_img_info;\n      newAII[key]=value;\n      newState.form[name]=newAII;\n    }\n    else {\n      newState.form[name]=value;\n    }\n    this.setState({\n      newState\n    });\n    if (name===\"terms_of_use\" || name===\"copyright_statement\") {\n      this.propChecked(name, value);\n    }\n  }\n\n  propChecked(name, value) {\n    if (name===\"terms_of_use\") {\n      this.setState({\n        terms_of_useChecked: value\n      });\n    }\n    else if (name===\"copyright_statement\") {\n      if (value===\"the Material is out of copyright protection (i.e. that you are aware that the author of the Material died prior to 1 January 1943);\") {\n        this.setState({\n          copyright_statementChecked1: true\n        });\n      }\n      else if (value===\"you have the rights to upload the Material in question for use or you have the permission of the relevant rightholder(s) to do so as outlined in the Letters of 1916 Terms for User Contributions\") {\n        this.setState({\n          copyright_statementChecked2: true\n        });\n      }\n    }\n\n\n    //\n\n    //\n    if (this.value===true) {\n\n    }\n  }\n\n  handleSelectFormChange(elementName, multiple, selectValue) {\n    let newState = Object.assign({}, this.state);\n    newState.form[elementName] = selectValue;\n    this.setState({\n      newState\n    });\n  }\n\n  deleteLetter() {\n    let letterId = this.props.match.params.letterId;\n    let context = this;\n    let path = APIPath+\"delete-letter\";\n    let accessToken = sessionStorage.getItem('accessToken');\n    let arrayData = {\n      \"id\":letterId,\n    }\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'DELETE',\n      url: path,\n      data: arrayData,\n      crossDomain: true,\n    })\n    .then(function (response) {\n\n      context.setState({\n        redirect: true,\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  showDeleteLetterConfirm() {\n    this.setState({\n      showDeleteLetterConfirm: true,\n      deleteLetterConfirmSubmit: this.deleteLetter\n    });\n  }\n\n  hideDeleteLetterConfirm() {\n    this.setState({\n      showDeleteLetterConfirm: false\n    });\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n    let submitStatus= this.state.submitStatus;\n    if (this.errorValidation()===true) {\n      if (submitStatus>0) {\n        return false;\n      }\n      this.setState({\n        submitStatus: 1,\n        updateBtnText: <span>Saving... <i className=\"fa fa-circle-o-notch fa-spin\"></i></span>\n      });\n      let letterId = this.props.match.params.letterId;\n      let context = this;\n      let stateForm = Object.assign({}, this.state.form);\n      let formData = new FormData();\n      let hasImages = 0;\n      // images\n      if (stateForm.images.length>0) {\n        hasImages = 1;\n        stateForm.images.forEach(function(file) {\n          formData.append(\"data[]\",file);\n        });\n      }\n      stateForm.images=[];\n      formData.set(\"form\", JSON.stringify(stateForm));\n      formData.set(\"format\", \"uploader\");\n      formData.set(\"letter_id\", letterId);\n      let accessToken = sessionStorage.getItem('accessToken');\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n      context.setState({\n        upload_loader:true\n      });\n  \t\taxios({\n        method: 'POST',\n        url: APIPath+'upload-letter/'+letterId,\n        data: formData,\n        crossDomain: true,\n        config: { headers: {'Content-Type': 'multipart/form-data' }},\n        onUploadProgress: function (progressEvent){\n          if (hasImages>0) {\n            let percentCompleted = Math.round( (progressEvent.loaded * 100) / progressEvent.total );\n            let progressBarText = \"Uploading... \"+parseFloat(percentCompleted).toFixed(2)+\"%\";\n            let progressBarWidth = percentCompleted+\"%\";\n            context.setState({\n              progress_bar_text:progressBarText,\n              progress_bar_width: progressBarWidth\n            });\n          }\n        }\n      })\n  \t  .then(function (response) {\n        submitStatus = 0;\n        if (response.data.status===true) {\n          // show file errors\n          let errorFiles = response.data.errors.files;\n          if (errorFiles.length>0) {\n\n            let fileLabels = \"\";\n            for (var i=0;i<errorFiles.length; i++) {\n              let errorFile = errorFiles[i];\n              if (i>0) {\n                fileLabels += \", \";\n              }\n              fileLabels += \"\\\"\"+errorFile.filename+\"\\\"\";\n            }\n            let filesErrorText = \"\";\n\n            if (errorFiles.length===1) {\n              filesErrorText = \"The file \"+fileLabels+\" is not a valid image file and it will not be added to your letter.\";\n            }\n            else if (errorFiles.length>1){\n              filesErrorText = \"The files \"+fileLabels+\" are not a valid image files and will not be added to your letter.\";\n            }\n\n            context.setState({\n              filesErrorText: filesErrorText,\n              filesError: true\n            });\n          }\n          if (parseInt(letterId,10)===0) {\n            context.setState({\n              updateBtnText: <span>Saved successfully <i className=\"fa fa-check\"></i></span>\n            });\n            setTimeout(function() {\n              context.setState({\n                upload_loader: false,\n                progress_bar_text: \"\",\n                progress_bar_width:0,\n                redirect: true,\n                updateBtnText: \"Submit\",\n                submitStatus: 0,\n              });\n            },1000);\n          }\n          else if (parseInt(letterId,10)>0) {\n            let btnText = response.data.message;\n            context.assignItemStateValues(response.data.data);\n            context.setState({\n              updateBtnText: <span>{btnText} <i className=\"fa fa-check\"></i></span>\n            });\n            setTimeout(function() {\n              context.setState({\n                upload_loader: false,\n                progress_bar_text: \"\",\n                progress_bar_width:0,\n                updateBtnText: \"Submit\",\n                submitStatus: 0,\n              });\n            },1000);\n          }\n        }\n        else if (response.data.status===false) {\n          let errorsOutput = [];\n          for (let error in response.data.errors) {\n            errorsOutput.push(<div>{response.data.errors[error]}</div>);\n          }\n          context.setState({\n            updateBtnText: <span>Error saving... <i className=\"fa fa-times\"></i></span>,\n            submitStatus: 0,\n            generic_error: errorsOutput\n          });\n          setTimeout(function() {\n            context.setState({\n              updateBtnText: \"Submit\",\n            });\n          },1000);\n        }\n  \t  })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n  \t  });\n    }\n  }\n\n  errorValidation() {\n    let newState = Object.assign({}, this.state);\n    if (this.state.form.title.trim().length===0) {\n      newState.errors[\"title\"] = true;\n      this.titleInput.focus();\n      this.setState({\n        newState\n      });\n      return false;\n    }\n    else {\n      newState.errors[\"title\"] = false;\n    }\n    if (this.state.form.language===\"\") {\n      newState.errors[\"language\"] = true;\n      this.languageInput.focus();\n      this.setState({\n        newState\n      });\n      return false;\n    }\n    else {\n      newState.errors[\"language\"] = false;\n    }\n    if (this.state.form.source===\"\" || this.state.form.source===[]) {\n      newState.errors[\"source\"] = true;\n      this.sourceInput.focus();\n      this.setState({\n        newState\n      });\n      return false;\n    }\n    else {\n      newState.errors[\"source\"] = false;\n    }\n    if (this.state.form.terms_of_use===\"\" || this.state.form.terms_of_use===false) {\n      newState.errors[\"terms\"] = true;\n      this.termsInput.focus();\n      this.setState({\n        newState\n      });\n      return false;\n    }\n    else {\n      newState.errors[\"terms\"] = false;\n    }\n    if (this.state.form.copyright_statement===\"\" || this.state.form.copyright_statement===false) {\n      newState.errors[\"license\"] = true;\n      this.licenseInput.focus();\n      this.setState({\n        newState\n      });\n      return false;\n    }\n    else {\n      newState.errors[\"license\"] = false;\n    }\n    this.setState({\n      newState\n    });\n    return true;\n\n  }\n\n  calculateDays(year,month) {\n    let days = calculateDaysInMonth(year,month);\n    let daysOptions = [<option key={0} value=\"\"> -- </option>];\n    for (let i=1; i<=days; i++) {\n      let day = i;\n      if (i<10) {\n        day = \"0\"+i;\n      }\n      daysOptions.push(<option key={i} value={day}>{day}</option>);\n    }\n    this.setState({\n      daysOptions: daysOptions\n    });\n  }\n\n  yearOfDeathList() {\n    let thisYear = new Date().getFullYear();\n    let optionsList = [];\n    optionsList.push(<option value=\"\" key={0}> -- </option>);\n    for (let year=1915; year<=thisYear; year++) {\n      optionsList.push(<option key={year} value={year}>{year}</option>);\n    }\n    return optionsList;\n  }\n\n  onDragEnd(result) {\n    if (!result.destination) {\n      return;\n    }\n\n    const pages = this.reorderPages(\n      this.state.form.pages,\n      result.source.index,\n      result.destination.index\n    );\n    this.setState({\n      imagesPreview: this.loadItemImages(pages)\n    });\n\n    let letterId = this.props.match.params.letterId;\n    let path = APIPath+\"update-letter-pages-order/\"+letterId;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'POST',\n      url: path,\n      data: {\"pages\":pages},\n      crossDomain: true,\n    })\n    .then(function (response) {\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  reorderPages(list, startIndex, endIndex){\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n    return result;\n  }\n\n  showDeleteConfirm(archive_filename) {\n    this.setState({\n      showDeleteConfirm: true,\n      deleteConfirmSubmit: this.removeFormImage.bind(this, archive_filename)\n    });\n  }\n\n  hideDeleteConfirm() {\n    this.setState({\n      showDeleteConfirm: false\n    });\n  }\n\n  removeFormImage(archive_filename) {\n    let letterId = this.props.match.params.letterId;\n    let context = this;\n    let path = APIPath+\"delete-letter-page\";\n    let accessToken = sessionStorage.getItem('accessToken');\n    let arrayData = {\n      \"id\":letterId,\n      \"archive_filename\":archive_filename\n    }\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'DELETE',\n      url: path,\n      data: arrayData,\n      crossDomain: true,\n    })\n    .then(function (response) {\n      let pagesData = response.data.data;\n      context.setState({\n        imagesPreview: context.loadItemImages(pagesData),\n        showDeleteConfirm: false\n      });\n      context.loadItem();\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  loadItem() {\n    let letterId = this.props.match.params.letterId;\n    let context = this;\n    let path = APIPath+\"user-letter/\"+letterId;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios.get(path)\n    .then(function (response) {\n      let itemData = response.data.data;\n      context.assignItemStateValues(itemData);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  assignItemStateValues(itemData) {\n    let context = this;\n    let date = itemData.date_created;\n    let dateArr = date.split(\"-\");\n    let year = dateArr[0];\n    let month = \"\";\n    let day = \"\";\n    if (typeof dateArr[1]!== undefined) {\n      month = dateArr[1];\n    }\n    if (typeof dateArr[2]!== undefined) {\n      context.calculateDays(year,month);\n      day = dateArr[2];\n    }\n    let keywordsData = [];\n    let topics = itemData.topics;\n    for (let i=0;i<topics.length; i++) {\n      let topic = topics[i];\n      keywordsData.push({ label: topic.topic_name, value: topic.topic_id});\n    }\n    let pagesData = itemData.pages;\n    let imagesPreview = context.loadItemImages(pagesData);\n\n    let copyright_statementChecked1 = false;\n    let copyright_statementChecked2 = false;\n    if (itemData.copyright_statement===\"the Material is out of copyright protection (i.e. that you are aware that the author of the Material died prior to 1 January 1943);\") {\n      copyright_statementChecked1 = true;\n    }\n    if (itemData.copyright_statement===\"you have the rights to upload the Material in question for use or you have the permission of the relevant rightholder(s) to do so as outlined in the Letters of 1916 Terms for User Contributions\") {\n      copyright_statementChecked2 = true;\n    }\n\n    context.setState({\n      imagesPreview: imagesPreview,\n      terms_of_useChecked: itemData.terms_of_use,\n      copyright_statementChecked1: copyright_statementChecked1,\n      copyright_statementChecked2: copyright_statementChecked2,\n      loading: false,\n      form: {\n        title: itemData.title,\n        additional_information: itemData.description,\n        keywords: keywordsData,\n        year: year,\n        month: month,\n        day: day,\n        letter_from: itemData.creator,\n        creator_gender: itemData.creator_gender,\n        letter_to: itemData.recipient,\n        language: itemData.language,\n        source: itemData.source,\n        doc_collection: itemData.doc_collection,\n        recipient_location: itemData.recipient_location,\n        creator_location: itemData.creator_location,\n        year_of_death_of_author: itemData.year_of_death_of_author,\n        notes: itemData.notes,\n        images: [],\n        additional_img_info: [\"Letter\"],\n        terms_of_use: itemData.terms_of_use,\n        copyright_statement: itemData.copyright_statement,\n        pages: pagesData\n      },\n    });\n  }\n\n  loadItemImages(pagesData) {\n    if (pagesData.length>0) {\n      let imagesPreviewItems = [];\n      let imagePaths = [];\n      let grid = 8;\n      const getItemStyle = (isDragging, draggableStyle) => ({\n        userSelect: 'none',\n        padding: grid * 2,\n        margin: `0 ${grid}px 0 0`,\n        background: '#ffffff',\n        position: 'relative',\n        ...draggableStyle,\n      });\n\n      for (let j=0; j<pagesData.length; j++) {\n        let pageData = pagesData[j];\n        let imgFileName = fixImagePath(pageData.archive_filename);\n        let newImage = <Draggable key={j} draggableId={\"draggable-\"+j} index={j}>\n          {(provided, snapshot) => (\n            <div\n              ref={provided.innerRef}\n              {...provided.draggableProps}\n              {...provided.dragHandleProps}\n              style={getItemStyle(\n                snapshot.isDragging,\n                provided.draggableProps.style\n              )}\n            >\n              <div className=\"btn btn-danger btn-xs remove-form-img\" onClick={this.showDeleteConfirm.bind(this, imgFileName)}><i className=\"fa fa-trash\"></i></div>\n              <img\n                key={j}\n                onClick={this.showBigImage.bind(this,j)}\n                className=\"img-thumbnail img-responsive form-page-thumbnail\" src={domain+\"/diyhistory/archive/square_thumbnails/\"+imgFileName}\n                alt=\"thumbnail\" />\n            </div>\n          )}\n        </Draggable>;\n        imagesPreviewItems.push(newImage);\n        imagePaths.push(domain+\"/diyhistory/archive/fullsize/\"+imgFileName);\n      }\n\n      let getListStyle = isDraggingOver => ({\n        background: isDraggingOver ? '#f5f5f5' : '#ffffff',\n        display: 'flex',\n        padding: grid,\n        overflow: 'auto',\n      });\n      let imagesPreview = <div className=\"form-pages-preview-container\">\n        <label>Pages</label>\n        <DragDropContext\n          onDragEnd={this.onDragEnd}\n          >\n          <Droppable droppableId=\"droppable-1\" direction=\"horizontal\">\n            {(provided, snapshot) => (\n              <div\n                ref={provided.innerRef}\n                style={getListStyle(snapshot.isDraggingOver)}\n                {...provided.droppableProps}\n              >\n                {imagesPreviewItems}\n              </div>\n            )}\n          </Droppable>\n\n        </DragDropContext>\n      </div>;\n\n      this.setState({\n        imagePaths: imagePaths\n      });\n\n      return imagesPreview;\n    }\n    else return [];\n  }\n\n  removeImageBlock() {\n    let newImageBlocks = this.state.imageBlocks;\n    newImageBlocks.splice(-1,1);\n    let newAII = this.state.form.additional_img_info;\n    newAII.splice(-1,1);\n\n    this.setState({\n      imageBlocks:newImageBlocks,\n      additional_img_info: newAII\n    });\n  }\n\n  addImageBlock() {\n    let newImageBlocks = this.state.imageBlocks;\n    let key = newImageBlocks.length+1;\n\n    let imageBlock = <div key={key} className=\"letter-form-image-block\">\n      <div className=\"form-group\">\n        <label>Image file</label>\n        <input name=\"images\" accept=\"image/*\" type=\"file\" onClick={(event)=> {event.target.value = null }} onChange={this.handleFormChange.bind(this, key)} />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Additional image information</label>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4\">\n            <select className=\"form-control\" name=\"additional_img_info\" onInput={this.handleFormChange.bind(this, key)}>\n              <option value=\"Letter\">Letter</option>\n              <option value=\"Envelope\">Envelope</option>\n              <option value=\"Enclosure\">Enclosure</option>\n              <option value=\"Photograph\">Photograph</option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>;\n    let newAII = this.state.form.additional_img_info;\n    newAII.push(\"Letter\");\n\n    newImageBlocks.push(imageBlock);\n    this.setState({\n      imageBlocks: newImageBlocks,\n      additional_img_info: newAII\n    });\n  }\n\n  showBigImage(key) {\n    this.setState({\n      isOpen: true,\n      photoIndex: key\n    });\n  }\n\n  enableTranscription() {\n    let letterId = this.props.match.params.letterId;\n    let context = this;\n    let path = APIPath+\"update-letter-transcription-status/\"+letterId;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'POST',\n      url: path,\n      crossDomain: true,\n    })\n    .then(function (response) {\n      context.setState({\n        redirect: true,\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  resetState() {\n    this.setState({\n      form: {\n        title: \"\",\n        additional_information: \"\",\n        keywords: [],\n        year: \"1915\",\n        month: \"\",\n        day: \"\",\n        letter_from: \"\",\n        creator_gender: \"\",\n        letter_to: \"\",\n        language: \"\",\n        source: \"\",\n        doc_collection: \"\",\n        recipient_location: \"\",\n        creator_location: \"\",\n        year_of_death_of_author: \"\",\n        notes: \"\",\n        images: [],\n        additional_img_info: [\"Letter\"],\n        terms_of_use: \"\",\n        copyright_statement: \"\",\n        pages:[],\n      },\n      errors: {\n        title: false,\n        language: false,\n        source: false,\n        terms: false,\n        license: false,\n      },\n      filesErrorText: '',\n      filesError: false,\n      imageBlocks: [],\n      daysOptions: [],\n      upload_loader: false,\n      progress_bar_text: \"\",\n      progress_bar_width:0,\n      redirect: false,\n      imagesPreview: [],\n      updateBtnText: \"Submit\",\n      terms_of_useChecked: false,\n      copyright_statementChecked1: false,\n      copyright_statementChecked2: false,\n      submitStatus: 0,\n      loading: false,\n      showDeleteConfirm: false,\n      deleteConfirmSubmit:'',\n      showDeleteLetterConfirm:false,\n      deleteLetterConfirmSubmit: '',\n      prevlocation: '',\n      prevlocationpath: '',\n      imagePaths: [],\n      photoIndex: 0,\n      isOpen: false,\n      enableTranscription: false,\n    });\n  }\n\n  componentDidMount() {\n    let letterId = this.props.match.params.letterId;\n    if (parseInt(letterId,10)>0) {\n      this.loadItem();\n    }\n    else if (parseInt(letterId,10)===0) {\n      this.setState({\n        loading: false,\n      })\n    }\n    this.yearOfDeathList();\n    loadProgressBar();\n    if (typeof this.props.history.location.prevlocation!==\"undefined\") {\n      this.setState({\n        prevlocation: this.props.history.location.prevlocation,\n        prevlocationpath: this.props.history.location.prevlocationpath,\n      })\n    }\n\n    let enableTranscription = false;\n    if (this.props.isAdmin) {\n      enableTranscription = true;\n    }\n    this.setState({\n      enableTranscription: enableTranscription\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.match.params.letterId!==this.props.match.params.letterId && (this.props.match.params.letterId===0 || this.props.match.params.letterId===\"0\")) {\n      console.log(1);\n      this.resetState();\n    }\n  }\n\n  render() {\n    let contentHTML,contentTitle,breadCrumbsArr = [],pageContent;\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive!=='true') {\n      contentHTML = <ProtectedPage\n        loginModalOpen={this.props.loginModalOpen}\n        />\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    }\n    else {\n      if (this.state.loading) {\n        pageContent = <div className=\"loader-container\">\n            <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n      }\n      else {\n        let photoIndex = this.state.photoIndex;\n        let isOpen = this.state.isOpen;\n        let imagePaths = this.state.imagePaths;\n        let letterId = this.props.match.params.letterId;\n        let deleteBtn = [];\n        if (parseInt(letterId,10)>0) {\n          deleteBtn = <button type=\"button\" className=\"btn btn-danger pull-right\" onClick={this.showDeleteLetterConfirm}><i className=\"fa fa-trash\"></i> Delete</button>;\n        }\n        let redirectElement;\n        if (this.state.redirect===true) {\n          redirectElement = <Redirect to={{\n            pathname: '/user-letters',\n            state: {from: 'user-letters/'+letterId},\n          }}\n          />;\n      }\n\n        let titleError = \"\";\n        if (this.state.errors.title) {\n          titleError = \" error-container-visible\";\n        }\n        let languageError = \"\";\n        if (this.state.errors.language) {\n          languageError = \" error-container-visible\";\n        }\n        let sourceError = \"\";\n        if (this.state.errors.source) {\n          sourceError = \" error-container-visible\";\n        }\n        let termsError = \"\";\n        if (this.state.errors.source) {\n          termsError = \" error-container-visible\";\n        }\n        let licenseError = \"\";\n        if (this.state.errors.source) {\n          licenseError = \" error-container-visible\";\n        }\n        let filesError = \"\";\n        if (this.state.filesError) {\n          filesError = \" error-container-visible\";\n        }\n        let yearOfDeathListOptions = this.yearOfDeathList();\n        if (parseInt(letterId,10)===0) {\n          contentTitle = \"New Letter\";\n        }\n        else if (parseInt(letterId,10)>0) {\n          contentTitle = \"Update Letter\";\n        }\n        let progressBar = \"\";\n        let stateWidth = this.state.progress_bar_width;\n        let stateText = this.state.progress_bar_text;\n        let statusBarInnerStyle;\n        if (this.state.upload_loader===true) {\n          statusBarInnerStyle = {\n            width: stateWidth\n          }\n          progressBar = <div className=\"upload-status-container\" id=\"upload-xml-status\">\n              <div className=\"upload-status-bar-inner\" style={statusBarInnerStyle}></div>\n              <div className=\"upload-status-bar-text\">{stateText}</div>\n            </div>;\n        }\n        let enableTranscriptionBtn = [];\n        if (this.state.enableTranscription && parseInt(this.props.match.params.letterId,10)>0) {\n          enableTranscriptionBtn = <button type=\"button\" className=\"btn btn-warning\" onClick={this.enableTranscription}><i className=\"fa fa-check\"></i> Enable transcription</button>;\n        }\n\n        let genericErrorClass = \"error-container\";\n        if (this.state.generic_error) {\n          genericErrorClass = \"error-container-visible\";\n        }\n\n        contentHTML =\n        <div>\n          {this.state.imagesPreview}\n          <form name=\"edit-letter\" encType=\"multipart/form-data\" onSubmit={this.handleFormSubmit}>\n\n            <div className=\"form-group\">\n              <div className={\"error-container\"+titleError}>\n                <p>Error Saving! Please enter the <b>Title/Caption</b> of the letter to continue.</p>\n              </div>\n              <label><sup>*</sup>Title/Caption</label>\n              <input className=\"form-control\" type=\"text\" name=\"title\" value={this.state.form.title} onChange={this.handleFormChange.bind(this, 0)} ref={(input) => { this.titleInput = input; }} />\n              <p className=\"letter-form-description\">For example: Letter from Joseph MacDonagh to his sister Mary MacDonagh, 4 May 1916 or Letter from Jennifer to her friend Ellen Martin [January 1916]. Brackets indicate that information is unclear.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Additional Information</label>\n              <textarea className=\"form-control\" name=\"additional_information\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.additional_information}></textarea>\n              <p className=\"letter-form-description\">Here you may provide a brief summary of the letter and biographical information about the correspondents. This field is optional.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Keywords</label>\n              <KeywordsSelect\n                elementName=\"keywords\"\n                onChangeFunction={this.handleSelectFormChange.bind(this, \"keywords\", true)}\n                multi={true}\n                selected={this.state.form.keywords}\n                removeSelected={false}/>\n              <p className=\"letter-form-description\">Choose keywords that best describe your letter. You may choose as many as are applicable.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Date the letter was written</label>\n              <div className=\"row\">\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"year\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.year}>\n                    <option value=\"1915\">1915</option>\n                    <option value=\"1916\">1916</option>\n                    <option value=\"1917\">1917</option>\n                    <option value=\"1918\">1918</option>\n                    <option value=\"1919\">1919</option>\n                    <option value=\"1920\">1920</option>\n                    <option value=\"1921\">1921</option>\n                    <option value=\"1922\">1922</option>\n                    <option value=\"1923\">1923</option>\n                  </select>\n                </div>\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"month\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.month}>\n                    <option value=\"\">--</option>\n                    <option value=\"01\">January</option>\n                    <option value=\"02\">February</option>\n                    <option value=\"03\">March</option>\n                    <option value=\"04\">April</option>\n                    <option value=\"05\">May</option>\n                    <option value=\"06\">June</option>\n                    <option value=\"07\">July</option>\n                    <option value=\"08\">August</option>\n                    <option value=\"09\">September</option>\n                    <option value=\"10\">October</option>\n                    <option value=\"11\">November</option>\n                    <option value=\"12\">December</option>\n                  </select>\n                </div>\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"day\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.day}>\n                    {this.state.daysOptions}\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Letter From</label>\n              <AuthorsSelect\n                elementName=\"letter_from\"\n                onChangeFunction={this.handleSelectFormChange.bind(this, \"letter_from\", false)}\n                multi={false}\n                selected={this.state.form.letter_from}\n                removeSelected={true}/>\n                <p className=\"letter-form-description\">Select authors name from the list or add a new name. If you know the persons full name, please do not mention any titles (such as Mr, Mrs, Dr, Rev, Lord, Lady, Captain etc.) here but add them in the title field. Provide middle names if possible to help us identify individual authors.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>{\"Author's gender\"}</label>\n              <div className=\"row\">\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"creator_gender\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.creator_gender}>\n                    <option value=\"\">--</option>\n                    <option value=\"Female\">Female</option>\n                    <option value=\"Male\">Male</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Letter To</label>\n              <AuthorsSelect\n                elementName=\"letter_to\"\n                onChangeFunction={this.handleSelectFormChange.bind(this, \"letter_to\", false)}\n                multi={false}\n                selected={this.state.form.letter_to}\n                removeSelected={true}/>\n              <p className=\"letter-form-description\">Add recipient of letter, such as Mary MacDonagh. If you know the persons full name, please do not mention any titles (such as Mr, Mrs, Dr, Rev, Lord, Lady, Captain etc.) here but add them in the title field. Provide middle names if possible to help us identify individual authors.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <div className={\"error-container\"+languageError}>\n                <p>Error Saving! Please select the <b>Language the letter is written in</b> of the letter to continue.</p>\n              </div>\n              <label><sup>*</sup>Language the letter is written in</label>\n              <div className=\"row\">\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"language\" onChange={this.handleFormChange.bind(this, 0)} ref={(input) => { this.languageInput = input; }} value={this.state.form.language}>\n                    <option value=\"\">--</option>\n                    <option value=\"Irish\">Irish</option>\n                    <option value=\"English\">English</option>\n                    <option value=\"French\">French</option>\n                    <option value=\"German\">German</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <div className={\"error-container\"+sourceError}>\n                <p>Error Saving! Please enter the <b>Source</b> of the letter to continue.</p>\n              </div>\n              <label ref={(input) => { this.sourceInput = input; }}><sup>*</sup>Source</label>\n              <SourcesSelect\n                elementName=\"source\"\n                onChangeFunction={this.handleSelectFormChange.bind(this, \"source\", false)}\n                multi={false}\n                selected={this.state.form.source}\n                removeSelected={true}\n                />\n              <p className=\"letter-form-description\">This may be a public institution, such as the National Library of Ireland, or a private collection, such as the MacDonagh Family Collection.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Document Collection/Number</label>\n              <input className=\"form-control\" type=\"text\" name=\"doc_collection\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.doc_collection}/>\n              <p className=\"letter-form-description\">If your letter comes from a catalogued collection, please add further information such as the collection name and fond / item numbers.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Place (letter sent to)</label>\n              <input className=\"form-control\" type=\"text\" name=\"recipient_location\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.recipient_location}/>\n              <p className=\"letter-form-description\">e.g. Paris, France Please add name of region wherever possible. Countries are treated as geographical rather than political entities. Use Ireland for places in Ulster and England, Scotland or Wales for places in Great Britain.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Place (letter sent from)</label>\n              <input className=\"form-control\" type=\"text\" name=\"creator_location\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.creator_location}/>\n              <p className=\"letter-form-description\">e.g. Dublin, Ireland Please add name of region wherever possible. Countries are treated as geographical rather than political entities. Use Ireland for places in Ulster and England, Scotland or Wales for places in Great Britain.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Year of death of author</label>\n              <div className=\"row\">\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"year_of_death_of_author\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.year_of_death_of_author}>\n                    {yearOfDeathListOptions}\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Additional Notes</label>\n              <textarea className=\"form-control\" name=\"notes\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.notes}></textarea>\n              <p className=\"letter-form-description\">Please enter additional notes for the Letters 1916-1923 administrators, e.g. information about missing pages. If you are not part of the Letters 1916-1923 project and are uploading a letter(s) to the database and would allow us to get in touch with you at a later date, please add your name and email address here.</p>\n            </div>\n\n            <hr/>\n\n            <h4>Upload Image</h4>\n            <div className=\"letter-form-image-block\">\n              <div className=\"form-group\">\n                <div className={\"error-container\"+filesError}>\n                  <p>{this.state.filesErrorText}</p>\n                </div>\n                <label>Image file</label>\n                <input name=\"images\" accept=\"image/*\" type=\"file\" onClick={(event)=> {event.target.value = null }} onChange={this.handleFormChange.bind(this,0)} />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Additional image information</label>\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-4\">\n                    <select className=\"form-control\" name=\"additional_img_info\" onChange={this.handleFormChange.bind(this,0)}>\n                      <option value=\"Letter\">Letter</option>\n                      <option value=\"Envelope\">Envelope</option>\n                      <option value=\"Enclosure\">Enclosure</option>\n                      <option value=\"Photograph\">Photograph</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div>\n              {this.state.imageBlocks}\n            </div>\n\n            <button type=\"button\" className=\"btn btn-xs btn-default\" onClick={this.removeImageBlock}>remove image</button><br/>\n            <button type=\"button\" className=\"btn btn-xs btn-default\" onClick={this.addImageBlock}>add another image</button>\n\n            <hr/>\n\n            <div className=\"form-group\">\n              <div className={\"error-container\"+termsError}>\n                <p>Error Saving! You must accept the <b>Terms of Use</b> to continue.</p>\n              </div>\n              <label><sup>*</sup>Terms of Use</label>\n              <p>Before you can submit digital material to the Letters of 1916 Project, you must agree to the Letters of 1916 Terms for User Contributions. These terms can be found here</p>\n              <label style={{fontWeight: \"normal\"}}>\n                <input ref={(input) => { this.termsInput = input; }} name=\"terms_of_use\" type=\"checkbox\" value=\"I accept the terms & conditions. If you do not want to accept these terms, then please do not contribute content or descriptive data to the Letters of 1916 Project\"  onChange={this.handleFormChange.bind(this, 0)} checked={this.state.terms_of_useChecked} /> <small>I accept the terms & conditions. If you do not want to accept these terms, then please do not contribute content or descriptive data to the Letters of 1916 Project</small>\n              </label>\n            </div>\n\n            <div className=\"form-group\">\n              <div className={\"error-container\"+licenseError}>\n                <p>Error Saving! You must confirm the <b>License and Consent</b> to continue.</p>\n              </div>\n              <label><sup>*</sup>LICENSE AND CONSENT</label>\n              <p>In submitting Material to the collection, Maynooth University asks you to confirm that:</p>\n              <label style={{fontWeight: \"normal\"}}>\n                <input ref={(input) => { this.licenseInput = input; }} name=\"copyright_statement\" type=\"radio\" value=\"the Material is out of copyright protection (i.e. that you are aware that the author of the Material died prior to 1 January 1943);\"\n                checked={this.state.copyright_statementChecked1}\n                onChange={this.handleFormChange.bind(this, 0)}/> <small>the Material is out of copyright protection (i.e. that you are aware that the author of the Material died prior to 1 January 1943);</small>\n              </label>\n              <label style={{fontWeight: \"normal\"}}>\n                <input name=\"copyright_statement\" type=\"radio\" value=\"you have the rights to upload the Material in question for use or you have the permission of the relevant rightholder(s) to do so as outlined in the Letters of 1916 Terms for User Contributions\"\n                checked={this.state.copyright_statementChecked2} onChange={this.handleFormChange.bind(this, 0)}/> <small>you have the rights to upload the Material in question for use or you have the permission of the relevant rightholder(s) to do so as outlined in the Letters of 1916 Terms for User Contributions</small>\n              </label>\n            </div>\n\n            <div className=\"text-center\">\n              <button type=\"submit\" className=\"btn btn-letters pull-left\"><i className=\"fa fa-save\"></i> {this.state.updateBtnText}</button>\n\n              {enableTranscriptionBtn}\n\n              {deleteBtn}\n            </div>\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                {progressBar}\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                <div className={genericErrorClass}>{this.state.generic_error}</div>\n              </div>\n            </div>\n            {redirectElement}\n          </form>\n\n          {isOpen && (\n            <Lightbox\n              mainSrc={imagePaths[photoIndex]}\n              nextSrc={imagePaths[(photoIndex + 1) % imagePaths.length]}\n              prevSrc={imagePaths[(photoIndex + imagePaths.length - 1) % imagePaths.length]}\n              onCloseRequest={() => this.setState({ isOpen: false })}\n              onMovePrevRequest={() =>\n                this.setState({\n                  photoIndex: (photoIndex + imagePaths.length - 1) % imagePaths.length,\n                })\n              }\n              onMoveNextRequest={() =>\n                this.setState({\n                  photoIndex: (photoIndex + 1) % imagePaths.length,\n                })\n              }\n            />\n          )}\n        </div>;\n\n        let breadCrumbsPath = {label:'User Letters', path:'/user-letters'};\n        if (this.state.prevlocation!==\"\") {\n          breadCrumbsPath = {label: this.state.prevlocation, path: this.state.prevlocationpath};\n        }\n        breadCrumbsArr.push(breadCrumbsPath);\n        breadCrumbsArr.push({label:contentTitle,path:''});\n        pageContent = <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n              <h1>{contentTitle}</h1>\n              <div className=\"item-container letter-form-container\">{contentHTML}</div>\n            </div>\n          </div>\n        </div>\n      }\n    }\n    return (\n      <div>\n        {pageContent}\n        <ConfirmModal\n          headerText=\"Delete page\"\n          bodyText=\"The page will be deleted. Continue?\"\n          buttonCancel={<button type=\"button\" className=\"pull-left btn btn-primary btn-sm\" onClick={this.hideDeleteConfirm}>Cancel</button>}\n          buttonSuccess={<button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={this.state.deleteConfirmSubmit}><i className=\"fa fa-trash-o\"></i> Delete</button>}\n          showModal={this.state.showDeleteConfirm}\n        />\n\n\n        <ConfirmModal\n          headerText=\"Delete letter\"\n          bodyText=\"This letter will be deleted. Continue?\"\n          buttonCancel={<button type=\"button\" className=\"pull-left btn btn-primary btn-sm\" onClick={this.hideDeleteLetterConfirm}>Cancel</button>}\n          buttonSuccess={<button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={this.state.deleteLetterConfirmSubmit}><i className=\"fa fa-trash-o\"></i> Delete</button>}\n          showModal={this.state.showDeleteLetterConfirm}\n        />\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport {Link} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath, domain} from '../common/constants.js';\nimport Pagination from '../helpers/pagination.js';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport {PreloaderCards,Emptyitemscard} from '../helpers/helpers.js';\nimport ConfirmModal from '../components/confirm-modal';\nimport ProtectedPage from '../components/protected-page';\n\nexport class UserLettersView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      items: [],\n      page: 1,\n      current_page: 1,\n      temp_page: 1,\n      total: 0,\n      sort: \"desc\",\n      paginate: 10,\n      paginationHTML: [],\n      length: 0,\n      firstLoad: 1,\n      letterName: '',\n      showDeleteLetterConfirm:false,\n      deleteLetterId: 0,\n      showBtnDisabledConfirm: false,\n      btnDisabledText: ''\n    };\n\n    this.updatePage = this.updatePage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updateSort = this.updateSort.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n    this.loadItems = this.loadItems.bind(this);\n    this.parseItems = this.parseItems.bind(this);\n    this.toggleTranscriptionStatus = this.toggleTranscriptionStatus.bind(this);\n    this.showDeleteLetterConfirm = this.showDeleteLetterConfirm.bind(this);\n    this.hideDeleteLetterConfirm = this.hideDeleteLetterConfirm.bind(this);\n    this.deleteLetter = this.deleteLetter.bind(this);\n    this.showBtnDisabledConfirm = this.showBtnDisabledConfirm.bind(this);\n    this.hideBtnDisabledConfirm = this.hideBtnDisabledConfirm.bind(this);\n  }\n\n  updatePage(e) {\n    if (e>0 && e!==this.state.current_page) {\n      this.setState({\n        loading:true,\n        current_page: e,\n        temp_page: e,\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updateSort(value) {\n    if (value!==this.state.sort) {\n      this.setState({\n        sort: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  loadItems() {\n    let context = this;\n    let path = APIPath+\"user-letters/\";\n    let params = {\n      sort: this.state.sort,\n      page: this.state.current_page,\n      paginate: this.state.paginate,\n    };\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios.get(path, {\n      params: params\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      let itemsData = responseData.data;\n      let items = [];\n      if (typeof itemsData!==\"undefined\" && itemsData.length>0) {\n        items = context.parseItems(itemsData);\n      }\n      else items = <Emptyitemscard />;\n      // update state\n      let currentPage = responseData.current_page;\n      if (responseData.last_page<responseData.current_page) {\n        currentPage = responseData.last_page;\n      }\n      context.setState({\n        loading:false,\n        items: items,\n        current_page: currentPage,\n        last_page: responseData.last_page,\n        total: responseData.total,\n        firstLoad: 0\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  parseItems(itemsData) {\n    // list of items to display\n    let items = [];\n    let cannotEditText = \"The letter transcription is enabled. You cannot edit this letter.\";\n    let cannotTranscribeText = \"This letter has not been approved for transcription yet. Please select another item from the transcription desk.\";\n    for (let i=0; i<itemsData.length; i++) {\n      let item = itemsData[i];\n      let element = JSON.parse(item.element);\n\n      let defaultThumbnail;\n      if (element.pages.length>0) {\n        defaultThumbnail = <img className=\"list-thumbnail small img-responsive\" src={domain+\"/diyhistory/archive/square_thumbnails/\"+element.pages[0].archive_filename} alt={element.title} />\n      }\n      let status = item.status;\n      let transcription_status = item.transcription_status;\n      //let enableTranscriptionBtn = [];\n\n      let gotoTranscriptionBtn = <li><button className=\"action-button\" title=\"Transcribe letter\" onClick={this.showBtnDisabledConfirm.bind(this, cannotTranscribeText)}>\n        <i className=\"fa fa-file-text-o color-grey\"></i>\n      </button></li>;\n\n      let editBtn = <li><button className=\"action-button\" title=\"Edit Letter\" onClick={this.showBtnDisabledConfirm.bind(this, cannotEditText)}>\n        <i className=\"fa fa-pencil color-grey\"></i>\n      </button></li>;\n\n      let deleteBtn = [];\n      let rowTitle = <div>\n        <Link to={ 'user-letter/'+item.id}>{defaultThumbnail}</Link>\n        <h4 className=\"user-letters-heading\">\n          <small className=\"pull-right\">{item.created_at}</small>\n          <Link to={ 'user-letter/'+item.id}>{element.title}</Link>\n        </h4>\n      </div>;\n\n      if (status===0 && transcription_status===-1) {\n        editBtn = <li><Link to={ 'user-letter/'+item.id} className=\"action-button\" title=\"Edit letter\">\n          <i className=\"fa fa-pencil color-blue\"></i>\n        </Link></li>;\n      }\n      else if (status===0 && transcription_status===0) {\n        gotoTranscriptionBtn = <li><Link to={ 'letter-transcribe/'+item.id} className=\"action-button\" title=\"Transcribe letter\">\n          <i className=\"fa fa-file-text-o\"></i>\n        </Link></li>;\n\n        rowTitle = <div>{defaultThumbnail}\n          <h4 className=\"user-letters-heading\">\n            <small className=\"pull-right\">{item.created_at}</small>\n            {element.title}\n          </h4>\n        </div>;\n      }\n      if (status!==1) {\n        deleteBtn = <li><button className=\"action-button\" title=\"Delete letter\" onClick={this.showDeleteLetterConfirm.bind(this,item.id, element.title)}>\n            <i className=\"fa fa-trash color-red\"></i>\n          </button></li>;\n      }\n      if (element.pages.length===0) {\n        editBtn = <li><Link to={ 'user-letter/'+item.id} className=\"action-button\" title=\"Edit letter\">\n          <i className=\"fa fa-pencil color-blue\"></i>\n        </Link></li>;\n\n        gotoTranscriptionBtn = <li><button className=\"action-button\" title=\"Transcribe letter\" onClick={this.showBtnDisabledConfirm.bind(this, cannotTranscribeText)}>\n          <i className=\"fa fa-file-text-o color-grey\"></i>\n        </button></li>\n      }\n\n      let viewItem = <li data-id={item.id} key={i} className=\"img-clearfix\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-8 col-md-9\">\n            {rowTitle}\n          </div>\n          <div className=\"col-sm-4 col-md-3\">\n            <ul className=\"action-buttons-list\">\n            {/*  {enableTranscriptionBtn} */}\n              {gotoTranscriptionBtn}\n              {editBtn}\n              {deleteBtn}\n            </ul>\n          </div>\n        </div>\n      </li>;\n      items.push(viewItem);\n    }\n    return items;\n  }\n\n  toggleTranscriptionStatus(id) {\n    let context = this;\n    let path = APIPath+\"update-letter-transcription-status/\"+id;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'POST',\n      url: path,\n      crossDomain: true,\n    })\n    .then(function (response) {\n      context.loadItems();\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  showDeleteLetterConfirm(id, title) {\n    this.setState({\n      showDeleteLetterConfirm: true,\n      deleteLetterId: id,\n      letterName: title\n    });\n  }\n\n  hideDeleteLetterConfirm() {\n    this.setState({\n      showDeleteLetterConfirm: false\n    });\n  }\n\n  deleteLetter() {\n    let letterId = this.state.deleteLetterId;\n    if (letterId>0) {\n      let context = this;\n      let path = APIPath+\"delete-letter\";\n      let accessToken = sessionStorage.getItem('accessToken');\n      let arrayData = {\n        \"id\":letterId,\n      }\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n      axios({\n        method: 'DELETE',\n        url: path,\n        data: arrayData,\n        crossDomain: true,\n      })\n      .then(function (response) {\n        context.setState({\n          showDeleteLetterConfirm: false,\n          deleteLetterId: 0,\n          letterName: '',\n        });\n        context.loadItems();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  showBtnDisabledConfirm(text) {\n    this.setState({\n      showBtnDisabledConfirm: true,\n      btnDisabledText: text,\n    });\n  }\n\n  hideBtnDisabledConfirm() {\n    this.setState({\n      showBtnDisabledConfirm: false,\n      btnDisabledText: \"\",\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n    loadProgressBar();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.current_page!==this.state.current_page\n    || prevState.paginate!==this.state.paginate\n    || prevState.sort!==this.state.sort\n    ) {\n      this.loadItems();\n    }\n  }\n\n  render() {\n    let breadCrumbsArr = [{label:'My Letters',path:''}];\n    let contentHTML = [];\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    if (sessionActive!=='true') {\n      contentHTML = <div className=\"item-container\">\n      <ProtectedPage\n        loginModalOpen={this.props.loginModalOpen}\n        />\n      </div>;\n    }\n    else {\n      let content;\n      if (this.state.loading && this.state.firstLoad===1) {\n        let items = PreloaderCards(11);\n        content = <ul className=\"browse-items\">{items}</ul>;\n      }\n      else if (this.state.loading && this.state.firstLoad===0){\n        content = <ul className=\"browse-items blur\">{this.state.items}</ul>;\n      }\n      else {\n        content = <ul className=\"browse-items\">{this.state.items}</ul>;\n      }\n\n      let activeDesc=\"\",activeAsc=\"\";\n      if (this.state.sort===\"desc\") {\n        activeDesc = \"active\";\n      }\n      if (this.state.sort===\"asc\") {\n        activeAsc = \"active\";\n      }\n      let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n      if (this.state.paginate===10) {\n        paginate10Active = \"active\";\n      }\n      if (this.state.paginate===25) {\n        paginate25Active = \"active\";\n      }\n      if (this.state.paginate===50) {\n        paginate50Active = \"active\";\n      }\n\n      let paginationHTML = <div className=\"browse-filters\">\n        <DropdownButton\n          title=\"Sort\"\n          id=\"sort-filter\"\n          >\n          <MenuItem key=\"1\" onClick={this.updateSort.bind(this,\"desc\")} className={activeDesc}><i className=\"fa fa-sort-amount-desc\"></i> Desc</MenuItem>\n          <MenuItem key=\"2\" onClick={this.updateSort.bind(this,\"asc\")} className={activeAsc}><i className=\"fa fa-sort-amount-asc\"></i> Asc</MenuItem>\n        </DropdownButton>\n\n        <DropdownButton\n          title=\"Limit\"\n          id=\"limit-filter\"\n          >\n          <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n          <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n          <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n        </DropdownButton>\n\n        <Pagination\n            paginate={this.state.paginate}\n            current_page={this.state.current_page}\n            total_pages={this.state.last_page}\n            pagination_function={this.updatePage} />\n\n        <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n          <div className=\"input-group input-group-sm go-to-page\">\n            <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n            <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n            <span className=\"input-group-btn\">\n              <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n            </span>\n          </div>\n        </form>\n\n      </div>;\n\n      contentHTML = <div>\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          {paginationHTML}\n          <div className=\"list-items-container\">\n            {content}\n          </div>\n          {paginationHTML}\n        </div>\n      </div>\n\n      <ConfirmModal\n        headerText=\"Delete letter\"\n        bodyText={\"The letter \\\"\"+this.state.letterName+\"\\\" will be deleted. Continue?\"}\n        buttonCancel={<button type=\"button\" className=\"pull-left btn btn-primary btn-sm\" onClick={this.hideDeleteLetterConfirm}>Cancel</button>}\n        buttonSuccess={<button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={this.deleteLetter}><i className=\"fa fa-trash-o\"></i> Delete</button>}\n        showModal={this.state.showDeleteLetterConfirm}\n      />\n\n      <ConfirmModal\n        headerText=\"Notice\"\n        bodyText={<div className=\"text-center\">{this.state.btnDisabledText}</div>}\n        buttonCancel={<div className=\"text-center\"><button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={this.hideBtnDisabledConfirm}>Dismiss</button></div>}\n        buttonSuccess=\"\"\n        showModal={this.state.showBtnDisabledConfirm}\n      />\n      </div>;\n    }\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}/>\n            <h1><span>My Letters</span></h1>\n            {contentHTML}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport {Link} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath, domain} from '../common/constants.js';\nimport Pagination from '../helpers/pagination.js';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport {PreloaderCards,Emptyitemscard} from '../helpers/helpers.js';\nimport ConfirmModal from '../components/confirm-modal';\nimport ProtectedPage from '../components/protected-page';\n\nexport class UserTranscriptionsView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      items: [],\n      page: 1,\n      current_page: 1,\n      temp_page: 1,\n      total: 0,\n      sort: \"desc\",\n      paginate: 10,\n      paginationHTML: [],\n      length: 0,\n      firstLoad: 1,\n      letterName: '',\n      showRemoveLetterConfirm:false,\n      removeLetterId: 0,\n      showBtnDisabledConfirm: false,\n      btnDisabledText: ''\n    };\n\n    this.updatePage = this.updatePage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updateSort = this.updateSort.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n    this.loadItems = this.loadItems.bind(this);\n    this.parseItems = this.parseItems.bind(this);\n    this.toggleTranscriptionStatus = this.toggleTranscriptionStatus.bind(this);\n    this.showRemoveLetterConfirm = this.showRemoveLetterConfirm.bind(this);\n    this.hideRemoveLetterConfirm = this.hideRemoveLetterConfirm.bind(this);\n    this.removeLetter = this.removeLetter.bind(this);\n    this.showBtnDisabledConfirm = this.showBtnDisabledConfirm.bind(this);\n    this.hideBtnDisabledConfirm = this.hideBtnDisabledConfirm.bind(this);\n  }\n\n  updatePage(e) {\n    if (e>0 && e!==this.state.current_page) {\n      this.setState({\n        loading:true,\n        current_page: e,\n        temp_page: e,\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updateSort(value) {\n    if (value!==this.state.sort) {\n      this.setState({\n        sort: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  loadItems() {\n    let context = this;\n    let path = APIPath+\"user-transcriptions/\";\n    let params = {\n      sort: this.state.sort,\n      page: this.state.current_page,\n      paginate: this.state.paginate,\n    };\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios.get(path, {\n      params: params\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      let itemsData = responseData.data;\n      let items = [];\n      if (typeof itemsData!==\"undefined\" && itemsData.length>0) {\n        items = context.parseItems(itemsData);\n      }\n      else items = <Emptyitemscard />;\n      // update state\n      let currentPage = responseData.current_page;\n      if (responseData.last_page<responseData.current_page) {\n        currentPage = responseData.last_page;\n      }\n      context.setState({\n        loading:false,\n        items: items,\n        current_page: currentPage,\n        last_page: responseData.last_page,\n        total: responseData.total,\n        firstLoad: 0\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  parseItems(itemsData) {\n    // list of items to display\n    let items = [];\n    for (let i=0; i<itemsData.length; i++) {\n      let item = itemsData[i];\n      let element = JSON.parse(item.element);\n      let defaultThumbnail;\n      if (element.pages.length>0) {\n        defaultThumbnail = <img className=\"list-thumbnail small img-responsive\" src={domain+\"/diyhistory/archive/square_thumbnails/\"+element.pages[0].archive_filename} alt={element.title} />\n      }\n      let status = item.status;\n      let transcription_status = item.transcription_status;\n      let cannotEditText = \"This letter is currently not available for transcription\";\n      let linkPath = 'letter-transcribe/'+item.id;\n      let removeBtn = <li><button className=\"action-button\" title=\"Delete letter\" onClick={this.showRemoveLetterConfirm.bind(this,item.id, element.title)}>\n          <i className=\"fa fa-times\"></i>\n        </button></li>;\n      let editBtn = <li><Link to={linkPath} className=\"action-button\" title=\"Edit letter\">\n        <i className=\"fa fa-pencil color-blue\"></i>\n      </Link></li>;\n      let rowTitle = <div>\n        <Link to={linkPath}>{defaultThumbnail}</Link>\n        <h4 className=\"user-letters-heading\">\n          <small className=\"pull-right\">{item.created_at}</small>\n          <Link to={linkPath}>{element.title}</Link>\n        </h4>\n      </div>;\n\n      if (status!==0 || transcription_status!==0) {\n        editBtn = <li><button className=\"action-button\" title=\"Edit letter\" onClick={this.showBtnDisabledConfirm.bind(this, cannotEditText)}>\n          <i className=\"fa fa-pencil color-grey\"></i>\n        </button></li>;\n        rowTitle = <div>{defaultThumbnail}\n          <h4 className=\"user-letters-heading\">\n            <small className=\"pull-right\">{item.created_at}</small>\n          </h4>\n        </div>;\n      }\n\n      let viewItem = <li data-id={item.id} key={i} className=\"img-clearfix\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-8 col-md-9\">\n            {rowTitle}\n          </div>\n          <div className=\"col-sm-4 col-md-3\">\n            <ul className=\"action-buttons-list\">\n              {editBtn}\n              {removeBtn}\n            </ul>\n          </div>\n        </div>\n      </li>;\n      items.push(viewItem);\n    }\n    return items;\n  }\n\n  toggleTranscriptionStatus(id) {\n    let context = this;\n    let path = APIPath+\"update-letter-transcription-status/\"+id;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'POST',\n      url: path,\n      crossDomain: true,\n    })\n    .then(function (response) {\n      context.loadItems();\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  showRemoveLetterConfirm(id, title) {\n    this.setState({\n      showRemoveLetterConfirm: true,\n      removeLetterId: id,\n      letterName: title\n    });\n  }\n\n  hideRemoveLetterConfirm() {\n    this.setState({\n      showRemoveLetterConfirm: false\n    });\n  }\n\n  removeLetter() {\n    let letterId = this.state.removeLetterId;\n    if (letterId>0) {\n      let context = this;\n      let path = APIPath+\"remove-transcription-association\";\n      let accessToken = sessionStorage.getItem('accessToken');\n      let arrayData = {\n        \"id\":letterId,\n      }\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n      axios({\n        method: 'DELETE',\n        url: path,\n        data: arrayData,\n        crossDomain: true,\n      })\n      .then(function (response) {\n        context.setState({\n          showRemoveLetterConfirm: false,\n          removeLetterId: 0,\n          letterName: '',\n        });\n        context.loadItems();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  showBtnDisabledConfirm(text) {\n    this.setState({\n      showBtnDisabledConfirm: true,\n      btnDisabledText: text,\n    });\n  }\n\n  hideBtnDisabledConfirm() {\n    this.setState({\n      showBtnDisabledConfirm: false,\n      btnDisabledText: \"\",\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n    loadProgressBar();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.current_page!==this.state.current_page\n    || prevState.paginate!==this.state.paginate\n    || prevState.sort!==this.state.sort\n    ) {\n      this.loadItems();\n    }\n  }\n\n  render() {\n\n    let breadCrumbsArr = [{label:'My Transcriptions',path:''}];\n    let content;\n    if (this.state.loading && this.state.firstLoad===1) {\n      let items = PreloaderCards(11);\n      content = <ul className=\"browse-items\">{items}</ul>;\n    }\n    else if (this.state.loading && this.state.firstLoad===0){\n      content = <ul className=\"browse-items blur\">{this.state.items}</ul>;\n    }\n    else {\n      content = <ul className=\"browse-items\">{this.state.items}</ul>;\n    }\n    let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n    if (this.state.paginate===10) {\n      paginate10Active = \"active\";\n    }\n    if (this.state.paginate===25) {\n      paginate25Active = \"active\";\n    }\n    if (this.state.paginate===50) {\n      paginate50Active = \"active\";\n    }\n\n    let paginationHTML = <div className=\"browse-filters\">\n\n      <DropdownButton\n        title=\"Limit\"\n        id=\"limit-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n        <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n      </DropdownButton>\n\n      <Pagination\n          paginate={this.state.paginate}\n          current_page={this.state.current_page}\n          total_pages={this.state.last_page}\n          pagination_function={this.updatePage} />\n\n      <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n        <div className=\"input-group input-group-sm go-to-page\">\n          <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n          <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n          <span className=\"input-group-btn\">\n            <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n          </span>\n        </div>\n      </form>\n\n    </div>;\n\n    let contentHTML = <div>\n      {paginationHTML}\n      <div className=\"list-items-container\">\n        {content}\n      </div>      \n      {paginationHTML}\n    </div>;\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    if (sessionActive!=='true') {\n      contentHTML = <div className=\"item-container\">\n        <ProtectedPage\n          loginModalOpen={this.props.loginModalOpen}\n          />\n        </div>;\n    }\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <h2>My Transcriptions</h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            {contentHTML}\n          </div>\n        </div>\n\n        <ConfirmModal\n          headerText=\"Delete letter\"\n          bodyText={\"The letter \\\"\"+this.state.letterName+\"\\\" will be removed from your list of transcriptions. Continue?\"}\n          buttonCancel={<button type=\"button\" className=\"pull-left btn btn-primary btn-sm\" onClick={this.hideRemoveLetterConfirm}>Cancel</button>}\n          buttonSuccess={<button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={this.removeLetter}><i className=\"fa fa-times\"></i> Remove</button>}\n          showModal={this.state.showRemoveLetterConfirm}\n        />\n\n        <ConfirmModal\n          headerText=\"Notice\"\n          bodyText={<div className=\"text-center\">{this.state.btnDisabledText}</div>}\n          buttonCancel={<div className=\"text-center\"><button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={this.hideBtnDisabledConfirm}>Dismiss</button></div>}\n          buttonSuccess=\"\"\n          showModal={this.state.showBtnDisabledConfirm}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\nimport {ToggleClass} from '../helpers/helpers.js';\n\nexport default class TopicsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      topics: [],\n      autocomplete_visible: false,\n      autocomplete_value: \"\"\n    }\n\n    this.toggleElementChildren = this.toggleElementChildren.bind(this);\n    this.toggleAutocomplete = this.toggleAutocomplete.bind(this);\n    this.autocomplete = this.autocomplete.bind(this);\n  }\n\n  toggleElementChildren(e) {\n    e.preventDefault();\n    let targetNode = e.currentTarget;\n    if (targetNode.nextSibling===null) {\n      return false;\n    }\n    let toggle = targetNode.attributes['data-toggle'].value;\n    let newValue = \"closed\";\n    if (toggle===\"closed\") {\n      newValue = \"open\";\n    }\n    targetNode.setAttribute('data-toggle',newValue);\n    // update dropdown arrow\n    ToggleClass(targetNode.nextSibling, toggle, newValue);\n    ToggleClass(targetNode, toggle, newValue);\n  }\n\n  loadTopics() {\n    if (sessionStorage.getItem(\"transcriptions_topics_list\")!==null && sessionStorage.getItem(\"transcriptions_topics_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_topics_list\"));\n      let topics = [];\n      for (let i=0; i<data.length; i++) {\n        let item = data[i];\n        let topic = this.topicItem(item, i);\n        topics.push(topic);\n      }\n      this.setState({\n        loading: false,\n        topics: topics\n      });\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"topics\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_topics_list', JSON.stringify(data));\n\n          let topics = [];\n          for (let i=0; i<data.length; i++) {\n            let item = data[i];\n            let topic = context.topicItem(item, i);\n            topics.push(topic);\n          }\n          context.setState({\n            loading: false,\n            topics: topics\n          });\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  topicItem(item, i) {\n    let children = item.children;\n    let childrenHTML = [];\n    let toggleChildren = [];\n    let hasChildrenClass = \"\";\n    if (children.length>0) {\n      childrenHTML = this.topicChildren(children, i);\n      toggleChildren = <span className=\"toggle-children\"\n      onClick={this.toggleElementChildren}\n      data-toggle=\"closed\"\n      >\n        <i className=\"fa fa-angle-left\"></i>\n      </span>;\n      hasChildrenClass = \" has-children\";\n    }\n    let topic = <li key={i} data-key={i}>\n      <span className=\"href-btn\" onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{item.name}</span>\n        <span className=\"select-topic\">\n          <i className=\"fa fa-circle-o\" data-id={item.id}></i>\n        </span>\n      <span\n        className={\"topic-label\"+hasChildrenClass}\n        data-toggle=\"closed\"\n          >{item.name} (<span className=\"count\" data-default={item.count}>{item.count}</span>)</span>\n      </span>\n      {toggleChildren}\n      {childrenHTML}\n    </li>;\n    return topic;\n  }\n\n  topicChildren(children, i) {\n    let childrenItems = [];\n    let childrenObject = [];\n    if (children.length>0) {\n      for (let j=0; j<children.length; j++) {\n        let child = children[j];\n        let childItem = this.topicItem(child, i+\".\"+j);\n        childrenItems.push(childItem);\n      }\n      childrenObject = <ul className=\"topics-list-children\" data-parent={i}>{childrenItems}</ul>;\n    }\n\n    return childrenObject;\n  }\n\n  toggleAutocomplete() {\n    return false;\n    /*let newStatus = true;\n    if (this.state.autocomplete_visible) {\n      newStatus = false;\n    }\n    this.setState({\n      autocomplete_visible: newStatus\n    })*/\n  }\n\n  autocomplete(e) {\n    this.setState({\n      autocomplete_value: e.target.value\n    })\n  }\n\n  componentDidMount() {\n    this.loadTopics();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      /*let autocompleteClass=\" closed\";\n      if (this.state.autocomplete_visible) {\n        autocompleteClass = \"\";\n      }*/\n\n      content = <div>\n        <h5 onClick={this.toggleAutocomplete}>Keywords\n        {/*  <span style={{paddingLeft: \"5px\", fontSize: \"14px\"}} >\n            <i className=\"fa fa-caret-down\"></i>\n          </span> */}\n        </h5>\n        {/*<div className={\"form-group filter-autocomplete\"+autocompleteClass}>\n          <input className=\"form-control\" type=\"text\" placeholder=\"filter keywords\" onChange={this.autocomplete.bind(this)} value={this.state.autocomplete_value}/>\n          <i className=\"fa fa-times-circle-o\"></i>\n        </div>*/}\n        <ul className=\"topics-list\">{this.state.topics}</ul>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class SourcesBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"transcriptions_sources_list\")!==null && sessionStorage.getItem(\"transcriptions_sources_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_sources_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"sources\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_sources_list', JSON.stringify(data));\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let sourceLabel = dataItem.source;\n      if (dataItem.source===\"\") {\n        sourceLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.source}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.source}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{sourceLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"sources-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Sources</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class AuthorsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"transcriptions_authors_list\")!==null && sessionStorage.getItem(\"transcriptions_authors_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_authors_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"authors\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_authors_list', JSON.stringify(data));\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let authorLabel = dataItem.creator;\n      if (dataItem.creator===\"\") {\n        authorLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.creator}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.creator}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{authorLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"authors-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Authors</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class GendersBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"transcriptions_genders_list\")!==null && sessionStorage.getItem(\"transcriptions_genders_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_genders_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"genders\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_genders_list', JSON.stringify(data));\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let genderLabel = dataItem.gender;\n      if (dataItem.gender===\"\") {\n        genderLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.gender}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.gender}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{genderLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <div>\n        <h5>Gender</h5>\n        <ul className=\"genders-list\">{this.state.items}</ul>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class LanguageBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"transcriptions_languages_list\")!==null && sessionStorage.getItem(\"transcriptions_languages_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_languages_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"languages\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_languages_list', JSON.stringify(data));\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let languageLabel = dataItem.language;\n      if (dataItem.language===\"\") {\n        languageLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.language}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.language}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{languageLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"languages-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Language</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\nimport DatePicker from './datepicker';\nimport moment from 'moment';\n\nexport default class DatecreatedBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      startValue: null,\n      endValue: null,\n      startOpen: false,\n      endOpen: false,\n      calendarDates: [],\n      excludedDates: []\n    }\n    this.loadItems = this.loadItems.bind(this);\n    this.setItems = this.setItems.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.startDateClear = this.startDateClear.bind(this);\n    this.endDateClear = this.endDateClear.bind(this);\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"transcriptions_date_created_list\")!==null && sessionStorage.getItem(\"transcriptions_date_created_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_date_created_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"date_created\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_date_created_list', JSON.stringify(data));\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let calendarDates = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let dateCreated = dataItem.date_created;\n      let dateArr = dateCreated.split(\"-\");\n      if (dateArr.length>=2) {\n        dateCreated = dateCreated.replace(\"T00:00:00\",\"\");\n        if (dateCreated.length===10) {\n          let newDate = moment(dateCreated);\n          if (!calendarDates.includes(newDate)) {\n            calendarDates.push(newDate);\n          }\n        }\n\n      }\n    }\n    this.setState({\n      loading: false,\n      calendarDates: calendarDates\n    });\n  }\n\n  updateItems(data) {\n    let dataToArr = Object.keys(data).map(function(key) {\n      return key;\n    });\n    let calendarDates = [];\n    for (let i=0;i<dataToArr.length; i++) {\n      let dateCreated = dataToArr[i];\n      let dateArr = dateCreated.split(\"-\");\n      if (dateArr.length>=2) {\n        dateCreated = dateCreated.replace(\"T00:00:00\",\"\");\n        if (dateCreated.length===10) {\n          let newDate = moment(dateCreated);\n          if (!calendarDates.includes(newDate)) {\n            calendarDates.push(newDate);\n          }\n        }\n      }\n    }\n    this.setState({\n      loading: false,\n      calendarDates: calendarDates\n    });\n  }\n\n  onChange (field, value){\n    if (field===\"endValue\" && this.state.startValue!==null) {\n      let startValue = moment(this.state.startValue);\n      let endValue = moment(value);\n      if (endValue<startValue) {\n        value = this.state.startValue;\n      }\n    }\n    this.setState({\n      [field]: value,\n    });\n  }\n\n  startDateClear() {\n    this.setState({\n      startValue: null\n    });\n  }\n\n  endDateClear() {\n    this.setState({\n      endValue: null\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.startValue!==this.state.startValue || prevState.endValue!==this.state.endValue) {\n      let newStartValue = null;\n      let newEndValue = null;\n      if (this.state.startValue!==null) {\n        newStartValue = moment(this.state.startValue).format(\"YYYY-MM-DD\");\n      }\n      if (this.state.endValue!==null) {\n        newEndValue = moment(this.state.endValue).format(\"YYYY-MM-DD\");\n      }\n      let returnValues = {\n        startValue: newStartValue,\n        endValue: newEndValue\n      }\n      this.props.returnfunction(returnValues);\n    }\n    if (prevProps.availableDates!== this.props.availableDates) {\n      this.updateItems(this.props.availableDates);\n    }\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n\n      content = <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <DatePicker\n            placeholder=\"From\"\n            value={this.state.startValue}\n            onChange={this.onChange.bind(this, 'startValue')}\n            clearFunction={this.startDateClear}\n            dates={this.state.calendarDates}\n          />\n        </div>\n        <div className=\"col-xs-12\">\n          <DatePicker\n            placeholder=\"To\"\n            value={this.state.endValue}\n            onChange={this.onChange.bind(this, 'endValue')}\n            clearFunction={this.endDateClear}\n            dates={this.state.calendarDates}\n          />\n        </div>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Date sent</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\n//import ReactLoading from 'react-loading';\nimport {Link} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath, domain} from '../common/constants.js';\nimport TopicsBlock from '../components/transcriptions-topics-block.js';\nimport SourcesBlock from '../components/transcriptions-sources-block.js';\nimport AuthorsBlock from '../components/transcriptions-authors-block.js';\nimport GendersBlock from '../components/transcriptions-genders-block.js';\nimport LanguagesBlock from '../components/transcriptions-languages-block.js';\nimport DatecreatedBlock from '../components/transcriptions-date_created-block.js';\nimport Pagination from '../helpers/pagination.js';\nimport {PreloaderCards,ToggleClass,ReplaceClass,Emptyitemscard,CompareFilterTopics,CompareFilterGeneral,SelectedTopicsChecked,SelectedFiltersChecked,fixImagePath} from '../helpers/helpers.js';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport ProtectedPage from '../components/protected-page';\n\nexport class TranscriptionsDeskView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      browseItems: [],\n      page: 1,\n      current_page: 1,\n      temp_page: 1,\n      total: 0,\n      paginate: 10,\n      paginationHTML: [],\n      length: 0,\n      firstLoad:1,\n      selectedTopics: [],\n      keywords_ids: [],\n      sources: [],\n      authors: [],\n      genders: [],\n      languages: [],\n      date_sent: [],\n      date_start: [],\n      date_end: [],\n      queryStatus: 0,\n      queryTranscriptionStatus: 0,\n      sort: \"asc\",\n    };\n\n    this.updatePage = this.updatePage.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updateSort = this.updateSort.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n    this.topicFilter = this.topicFilter.bind(this);\n    this.filterContent = this.filterContent.bind(this);\n    this.browserItems = this.browserItems.bind(this);\n    this.sourcesFilter = this.sourcesFilter.bind(this);\n    this.authorsFilter = this.authorsFilter.bind(this);\n    this.gendersFilter = this.gendersFilter.bind(this);\n    this.languagesFilter = this.languagesFilter.bind(this);\n    this.datecreatedFilter = this.datecreatedFilter.bind(this);\n    this.transcriptionStatus = this.transcriptionStatus.bind(this);\n    this.setSessionStorage = this.setSessionStorage.bind(this);\n    this.checkSessionStorage = this.checkSessionStorage.bind(this);\n    this.clearFilters = this.clearFilters.bind(this);\n\n  }\n\n  updatePage(e) {\n    if (e>0 && e!==this.state.current_page) {\n      this.setState({\n        loading:true,\n        current_page: e,\n        temp_page: e,\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updateSort(value) {\n    if (value!==this.state.sort) {\n      this.setState({\n        sort: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  topicFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-topic\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".topic-label\")[0];\n\n    let className = element.className;\n    let prevTopics = this.state.selectedTopics;\n    let selectedTopics = [];\n    for (let i=0;i<prevTopics.length;i++) {\n      selectedTopics.push(prevTopics[i]);\n    }\n    let currentId = element.getAttribute(\"data-id\");\n    if (className===\"fa fa-circle-o\") {\n      if (selectedTopics.indexOf(currentId)===-1) {\n        selectedTopics.push(currentId);\n      }\n    }\n    else {\n      if (selectedTopics.indexOf(currentId)>-1) {\n        let index = selectedTopics.indexOf(currentId);\n         selectedTopics.splice(index, 1);\n      }\n    }\n    this.setState({\n      loading:true,\n      selectedTopics: selectedTopics,\n      keywords_ids:selectedTopics\n    });\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n  }\n\n  sourcesFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevSources = this.state.sources;\n    let selectedSources = [];\n    for (let i=0;i<prevSources.length;i++) {\n      selectedSources.push(prevSources[i]);\n    }\n    let currentSource = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedSources.indexOf(currentSource)===-1) {\n        selectedSources.push(currentSource);\n      }\n    }\n    else {\n      if (selectedSources.indexOf(currentSource)>-1) {\n        let index = selectedSources.indexOf(currentSource);\n         selectedSources.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      sources: selectedSources\n    });\n  }\n\n  authorsFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevAuthors = this.state.authors;\n    let selectedAuthors = [];\n    for (let i=0;i<prevAuthors.length;i++) {\n      selectedAuthors.push(prevAuthors[i]);\n    }\n    let currentAuthor = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedAuthors.indexOf(currentAuthor)===-1) {\n        selectedAuthors.push(currentAuthor);\n      }\n    }\n    else {\n      if (selectedAuthors.indexOf(currentAuthor)>-1) {\n        let index = selectedAuthors.indexOf(currentAuthor);\n         selectedAuthors.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      authors: selectedAuthors\n    });\n\n  }\n\n  gendersFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevGenders = this.state.genders;\n    let selectedGenders = [];\n    for (let i=0;i<prevGenders.length;i++) {\n      selectedGenders.push(prevGenders[i]);\n    }\n    let currentGender = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedGenders.indexOf(currentGender)===-1) {\n        selectedGenders.push(currentGender);\n      }\n    }\n    else {\n      if (selectedGenders.indexOf(currentGender)>-1) {\n        let index = selectedGenders.indexOf(currentGender);\n         selectedGenders.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      genders: selectedGenders\n    });\n  }\n\n  languagesFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevLanguages = this.state.languages;\n    let selectedLanguages = [];\n    for (let i=0;i<prevLanguages.length;i++) {\n      selectedLanguages.push(prevLanguages[i]);\n    }\n    let currentLanguage = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedLanguages.indexOf(currentLanguage)===-1) {\n        selectedLanguages.push(currentLanguage);\n      }\n    }\n    else {\n      if (selectedLanguages.indexOf(currentLanguage)>-1) {\n        let index = selectedLanguages.indexOf(currentLanguage);\n         selectedLanguages.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      languages: selectedLanguages\n    });\n  }\n\n  datecreatedFilter(value) {\n    let dateStart = value.startValue;\n    let dateEnd = value.endValue;\n    this.setState({\n      loading:true,\n      date_start: dateStart,\n      date_end: dateEnd,\n    });\n  }\n\n  selectedTopicsToggleChildren(parent, className) {\n    let selectedTopics = this.state.selectedTopics;\n    let children = ReactDOM.findDOMNode(parent).children;\n\n    if (typeof children[3]===\"object\") {\n      let childrenTopics = children[3];\n      let childrenLi = ReactDOM.findDOMNode(childrenTopics).children;\n\n      for (let i=0;i<childrenLi.length;i++) {\n        let liChildren = ReactDOM.findDOMNode(childrenLi[i]).children;\n        let selectTopicI = ReactDOM.findDOMNode(liChildren[0]).children;\n\n        let currentId = selectTopicI[0].getAttribute(\"data-id\");\n        if (className===\"fa fa-circle-o\") {\n          if (selectedTopics.indexOf(currentId)===-1) {\n            selectedTopics.push(currentId);\n          }\n        }\n        else {\n          if (selectedTopics.indexOf(currentId)>-1) {\n            let index = selectedTopics.indexOf(currentId);\n             selectedTopics.splice(index, 1);\n          }\n        }\n        if (typeof liChildren[3]===\"object\") {\n          let secondChild = ReactDOM.findDOMNode(liChildren[3]).parentNode;\n          this.selectedTopicsToggleChildren(secondChild, className);\n        }\n        let className1 = \"fa-check-circle-o\";\n        let className2 = \"fa-circle-o\";\n        if (className===\"fa fa-circle-o\") {\n          className1 = \"fa-circle-o\";\n          className2 = \"fa-check-circle-o\";\n        }\n        ReplaceClass(selectTopicI[0], className1, className2);\n      }\n    }\n    this.setState({selectedTopics: selectedTopics});\n  }\n\n  filterContent() {\n    let browseContext = this;\n    let path = APIPath+\"transcriptionsdeskfiltered\";\n    axios.get(path, {\n      params: {\n        sort: this.state.sort,\n        page: this.state.current_page,\n        paginate: this.state.paginate,\n        keywords: this.state.keywords_ids,\n        sources: this.state.sources,\n        authors: this.state.authors,\n        genders: this.state.genders,\n        languages: this.state.languages,\n        date_start: this.state.date_start,\n        date_end: this.state.date_end,\n        status: this.state.queryStatus,\n        transcription_status: this.state.queryTranscriptionStatus\n      }\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      let itemsData = responseData.data;\n      let browseItems = [];\n      if (typeof itemsData!==\"undefined\" && itemsData.length>0) {\n        browseItems = browseContext.browserItems(itemsData);\n      }\n      else browseItems = <Emptyitemscard />;\n      // update state\n      let currentPage = responseData.current_page;\n      if (responseData.last_page<responseData.current_page) {\n        currentPage = responseData.last_page;\n        browseContext.setState({\n          loading:false,\n          current_page: currentPage,\n          browseItems: browseItems,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      }\n      else {\n        browseContext.setState({\n          loading:false,\n          browseItems: browseItems,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      }\n\n\n      SelectedTopicsChecked(browseContext.state.keywords_ids);\n      SelectedFiltersChecked(\"sources-list\", browseContext.state.sources);\n      SelectedFiltersChecked(\"authors-list\", browseContext.state.authors);\n      SelectedFiltersChecked(\"genders-list\", browseContext.state.genders);\n      SelectedFiltersChecked(\"languages-list\", browseContext.state.languages);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  updateFilters() {\n    let context = this;\n    let path = APIPath+\"indexfilteredfilters\";\n    axios.get(path, {\n      params: {\n        sort: this.state.sort,\n        page: 1,\n        paginate: this.state.paginate,\n        keywords: this.state.keywords_ids,\n        sources: this.state.sources,\n        authors: this.state.authors,\n        genders: this.state.genders,\n        languages: this.state.languages,\n        date_start: this.state.date_start,\n        date_end: this.state.date_end,\n        status: this.state.queryStatus,\n        transcription_status: this.state.queryTranscriptionStatus\n      }\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      // topics\n      let topics = responseData.keywords;\n      CompareFilterTopics(topics);\n\n      // sources\n      let sources = responseData.sources;\n      CompareFilterGeneral(\"sources-list\",sources);\n\n      // sources\n      let authors = responseData.authors;\n      CompareFilterGeneral(\"authors-list\",authors);\n\n      // genders\n      let genders = responseData.genders;\n      CompareFilterGeneral(\"genders-list\",genders);\n\n      // languages\n      let languages = responseData.languages;\n      CompareFilterGeneral(\"languages-list\",languages);\n\n      // dates\n      context.setState({\n        dates_sent: responseData.dates_sent\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  clearFilters() {\n    if (\n      this.state.selectedTopics!==[] ||\n      this.state.keywords_ids!==[] ||\n      this.state.sources!==[] ||\n      this.state.authors!==[] ||\n      this.state.genders!==[] ||\n      this.state.languages!==[] ||\n      this.state.date_start!==[] ||\n      this.state.date_end!==[]\n    ) {\n      this.setState({\n        loading: true,\n        selectedTopics: [],\n        keywords_ids: [],\n        sources: [],\n        authors: [],\n        genders: [],\n        languages: [],\n        date_start: [],\n        date_end: [],\n      });\n    }\n  }\n\n  showPage() {\n    let browseContext = this;\n    let path = this.state.path;\n    axios.get(path, {\n        params: {\n          page: this.state.current_page,\n          sort: this.state.sort,\n          paginate: this.state.paginate\n        }\n      })\n  \t  .then(function (response) {\n        let responseData = response.data.data;\n        let itemsData = responseData.data;\n        let browseItems = [];\n        if (typeof itemsData!==\"undefined\") {\n          browseItems = browseContext.browserItems(itemsData);\n        }\n        // update state\n        browseContext.setState({\n          loading:false,\n          browseItems: browseItems,\n          current_page: responseData.current_page,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  browserItems(itemsData) {\n    // list of items to display\n    let browseItems = [];\n    for (let i=0; i<itemsData.length; i++) {\n      let item = itemsData[i];\n      let element = JSON.parse(item.element);\n      let defaultThumbnail;\n      if (element.pages.length>0) {\n        let thumbPath = fixImagePath(domain+\"/diyhistory/archive/square_thumbnails/\"+element.pages[0].archive_filename);\n        defaultThumbnail = <img className=\"img-responsive\" src={thumbPath} alt={element.title} />\n      }\n\n      var keywords = [];\n      for (var j=0;j<element.topics.length; j++) {\n        var topic = element.topics[j];\n        var comma = '';\n        if (j>0) comma = ', ';\n        var keyword = <span data-id={topic.topic_id} key={j}>{comma}{topic.topic_name}</span>;\n        keywords.push(keyword);\n      }\n      let transcription = \"\";\n      if (element.pages.length>0) {\n        let trascriptionStatusCompletion = item.completed+\"%\";\n\n        if (typeof element.pages[0].transcription !==\"undefined\" && element.pages[0].transcription!==\"\" &&\n        element.pages[0].transcription!==null\n      ) {\n          let transcriptionText = element.pages[0].transcription.replace(/<[^>]+>/ig,\" \");\n          transcriptionText = transcriptionText.replace(\"&amp;\", \"&\");\n          transcriptionText = transcriptionText.replace(\"&#39;\", \"'\");\n          if (transcriptionText.length>300) {\n            transcriptionText = transcriptionText.substring(0,300);\n          }\n\n          transcription = transcriptionText+\"...\";\n        }\n\n        let itemPath = { pathname: '/letter-transcribe/'+item.id, prevlocation: \"Transcription Desk\", prevlocationpath: \"/transcriptions-desk\" };\n        let browseItem = <li data-id={item.id} key={i} className=\"img-clearfix\">\n            <div className=\"list-thumbnail\">\n              <Link to={itemPath}>{defaultThumbnail}</Link>\n              <div className=\"clearfix\">\n                <small className=\"pull-left\">Completed</small>\n                <small className=\"pull-right\">{trascriptionStatusCompletion}</small>\n              </div>\n              <div className=\"progress xs\">\n                <div className=\"progress-bar progress-bar-green\" style={{width: trascriptionStatusCompletion}}></div>\n              </div>\n            </div>\n            <h4><Link to={itemPath}>{element.title}</Link></h4>\n            <span className='browse-item-keywords'>Keywords: {keywords}</span>\n            <p>{transcription}</p>\n          </li>;\n        browseItems.push(browseItem);\n      }\n    }\n    return browseItems;\n  }\n\n  transcriptionStatus(pages) {\n    let countPages = pages.length;\n    let completed = 0;\n    for(let j=0; j<countPages; j++) {\n      let pageTranscriptionStatus = pages[j].transcription_status;\n      if (parseInt(pageTranscriptionStatus,10)>0) {\n        completed++;\n      }\n    }\n    let trascriptionStatusCompletion = \"0%\";\n    if (completed>0) {\n      let percentage = (completed/countPages)*100;\n      trascriptionStatusCompletion = Math.round(parseFloat(percentage,10)).toFixed(0)+\"%\";\n    }\n    return trascriptionStatusCompletion;\n  }\n\n  checkSessionStorage() {\n    if (sessionStorage.getItem('transcriptions_desk')!==null) {\n      let storedState = JSON.parse(sessionStorage.getItem('transcriptions_desk'));\n      this.setState({\n        sort:storedState.sort,\n        current_page:storedState.current_page,\n        paginate:storedState.paginate,\n        keywords_ids:storedState.keywords_ids,\n        sources:storedState.sources,\n        authors:storedState.authors,\n        genders:storedState.genders,\n        languages:storedState.languages,\n        date_start:storedState.date_start,\n        date_end:storedState.date_end,\n        queryStatus:storedState.queryStatus,\n        queryTranscriptionStatus:storedState.queryTranscriptionStatus,\n      });\n    }\n  }\n\n  setSessionStorage() {\n    let newState = {\n      sort: this.state.sort,\n      current_page: this.state.current_page,\n      paginate: this.state.paginate,\n      keywords_ids: this.state.keywords_ids,\n      sources: this.state.sources,\n      authors: this.state.authors,\n      genders: this.state.genders,\n      languages: this.state.languages,\n      date_start: this.state.date_start,\n      date_end: this.state.date_end,\n      queryStatus: this.state.queryStatus,\n      queryTranscriptionStatus: this.state.queryTranscriptionStatus,\n    }\n    sessionStorage.setItem('transcriptions_desk', JSON.stringify(newState));\n  }\n\n  componentDidMount() {\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive==='true') {\n      loadProgressBar();\n      this.checkSessionStorage();\n      let context = this;\n      setTimeout(function() {\n        context.filterContent();\n        context.updateFilters();\n      },500);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive) {\n      if (\n        prevState.loading!==this.state.loading &&\n        (\n          prevState.current_page!==this.state.current_page ||\n          prevState.paginate!==this.state.paginate ||\n          prevState.sort!==this.state.sort ||\n          prevState.keywords_ids!==this.state.keywords_ids ||\n          prevState.sources!==this.state.sources ||\n          prevState.authors!==this.state.authors ||\n          prevState.genders!==this.state.genders ||\n          prevState.languages!==this.state.languages ||\n          prevState.date_sent!==this.state.date_sent\n        )\n      )\n      {\n        this.setSessionStorage();\n        let context = this;\n        setTimeout(function() {\n          context.filterContent();\n          context.updateFilters();\n        },500);\n      }\n    }\n  }\n\n  render() {\n    let contentHTML,pageContent;\n    let contentTitle = \"Transcription Desk\";\n    let breadCrumbsArr = [];\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive!=='true') {\n      contentHTML = <ProtectedPage\n        loginModalOpen={this.props.loginModalOpen}\n        />\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">\n              {contentHTML}\n              </div>\n          </div>\n        </div>\n      </div>\n    }\n    else {\n      let content;\n      breadCrumbsArr = [{label:contentTitle, path: ''}];\n      if (this.state.loading && this.state.firstLoad===1) {\n        let browseItems = PreloaderCards(11);\n        content = <ul className=\"browse-items\">{browseItems}</ul>;\n      }\n      else if (this.state.loading && this.state.firstLoad===0){\n        content = <ul className=\"browse-items blur\">{this.state.browseItems}</ul>;\n      }\n      else {\n        content = <ul className=\"browse-items\">{this.state.browseItems}</ul>;\n      }\n\n      let activeDesc=\"\",activeAsc=\"\";\n      if (this.state.sort===\"desc\") {\n        activeDesc = \"active\";\n      }\n      if (this.state.sort===\"asc\") {\n        activeAsc = \"active\";\n      }\n      let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n      if (this.state.paginate===10) {\n        paginate10Active = \"active\";\n      }\n      if (this.state.paginate===25) {\n        paginate25Active = \"active\";\n      }\n      if (this.state.paginate===50) {\n        paginate50Active = \"active\";\n      }\n\n      let paginationHTML = <div className=\"browse-filters\">\n        <DropdownButton\n          title=\"Sort\"\n          id=\"sort-filter\"\n          >\n          <MenuItem key=\"1\" onClick={this.updateSort.bind(this,\"asc\")} className={activeAsc}><i className=\"fa fa-sort-amount-asc\"></i> Completed Asc</MenuItem>\n          <MenuItem key=\"2\" onClick={this.updateSort.bind(this,\"desc\")} className={activeDesc}><i className=\"fa fa-sort-amount-desc\"></i> Completed Desc</MenuItem>\n        </DropdownButton>\n\n        <DropdownButton\n          title=\"Limit\"\n          id=\"limit-filter\"\n          >\n          <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n          <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n          <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n        </DropdownButton>\n\n        <Pagination\n            paginate={this.state.paginate}\n            current_page={this.state.current_page}\n            total_pages={this.state.last_page}\n            pagination_function={this.updatePage} />\n\n          <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n            <div className=\"input-group input-group-sm go-to-page\">\n              <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n              <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n              <span className=\"input-group-btn\">\n                <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n              </span>\n            </div>\n          </form>\n        </div>;\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-3\">\n            <h3 className=\"column-title\">Filters\n              <small className=\"pull-right\" style={{cursor:\"pointer\"}} onClick={this.clearFilters} title=\"Clear all filters\">\n                clear all <i className=\"fa fa-times-circle-o\"></i>\n              </small>\n            </h3>\n          </div>\n          <div className=\"col-xs-12 col-sm-9\">\n            <h2>{contentTitle}</h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-3\">\n            <TopicsBlock returnfunction={this.topicFilter} />\n            <SourcesBlock returnfunction={this.sourcesFilter} />\n            <AuthorsBlock returnfunction={this.authorsFilter} />\n            <GendersBlock returnfunction={this.gendersFilter} />\n            <LanguagesBlock returnfunction={this.languagesFilter} />\n            <DatecreatedBlock returnfunction={this.datecreatedFilter} availableDates={this.state.dates_sent}/>\n          </div>\n          <div className=\"col-xs-12 col-sm-9\">\n\n          {paginationHTML}\n          <div className=\"list-items-container\">\n            {content}\n          </div>\n          {paginationHTML}\n          </div>\n        </div>\n      </div>;\n    }\n    return (\n      <div>{pageContent}</div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\n\nexport class NotFound extends Component {\n\n  render() {\n    let breadCrumbsArr =[{label:'Page Not Found',path:''}];\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>Page Not Found</h1>\n          </div>\n        </div>\n        <div className=\"item-container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <div style={{padding: \"30px 0 50px 0\"}}>\n                <h3>The requested page does not exist.</h3>\n                <p>If you entered a web address please check it was correct.</p>\n                <p>You can search through <Link href=\"/fullsearch\" to=\"/fullsearch\">Letters 1916-1923</Link> or go back to our <Link to=\"/\" href=\"/\">homepage</Link>.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport {BrowserRouter as Router, Route, Switch, Redirect} from 'react-router-dom';\nimport 'axios-progress-bar/dist/nprogress.css';\nimport './assets/bootstrap/css/bootstrap.min.css';\nimport './assets/font-awesome/css/font-awesome.min.css';\nimport './assets/open-sans/css/open-sans.css';\nimport 'owl.carousel/dist/assets/owl.carousel.css';\nimport 'owl.carousel/dist/assets/owl.theme.default.css';\nimport './App.css';\nimport {APIPath,basename} from './common/constants.js';\nimport {Helmet} from \"react-helmet\";\nimport {preloadContent} from './helpers/preload-content.js';\n\n// components\nimport PageHeader from './common/header';\nimport PageFooter from './common/footer';\nimport Navbar from './components/navbar';\nimport ScrollToTop from './components/scrolltotop';\nimport CookiesConsent from './components/cookies-consent';\n\n\n// views\nimport {HomeView} from './views/home.js';\nimport {SearchView} from './views/search.js';\nimport {BrowseView} from './views/browse.js';\nimport {PasswordRestoreView} from './views/password.restore.js';\nimport {PasswordResetView} from './views/password.reset.js';\nimport {RegisterView} from './views/register.js';\nimport {VerifyAccountView} from './views/verify-account.js';\nimport {ItemView} from './views/item.js';\nimport {UploadXML} from './views/upload-xml.js';\nimport {ContentView} from './views/content.js';\nimport {WPContentView} from './views/wp-content.js';\nimport {WPCategoryView} from './views/wp-category.js';\nimport {WPPagesView} from './views/wp-pages.js';\nimport {BlankView} from './views/blank.js';\nimport {VizualizationsView} from './views/vizualizations.js';\nimport {ContactFormView} from './views/wp-contact-form.js';\nimport {TranscriptionLetterView} from './views/transcription-letter.js';\nimport {UserProfileView} from './views/user-profile.js';\nimport {UserLetterView} from './views/user-letter.js';\nimport {UserLettersView} from './views/user-letters.js';\nimport {UserTranscriptionsView} from './views/user-transcriptions.js';\nimport {TranscriptionsDeskView} from './views/transcriptions-desk.js';\nimport {NotFound} from './views/404.js';\n\nimport {checkSessionCookies,sessionCookie,getCookie} from './helpers/helpers.js';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state={\n      isAdmin: false,\n      loginModalVisile: false\n    }\n    this.checkAdminState = this.checkAdminState.bind(this);\n\n    // login modal\n    this.loginModalOpen = this.loginModalOpen.bind(this);\n    this.loginModalHide = this.loginModalHide.bind(this);\n  }\n\n  checkAdminState() {\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    if (sessionActive) {\n      let context = this;\n      let accessToken = sessionStorage.getItem('accessToken');\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n      axios.get(APIPath+'user-profile')\n      .then(function (response) {\n        let status = response.data.status;\n        if (typeof status!== undefined && status===true) {\n          let roles = response.data.data.roles;\n          let isAdmin = false;\n          for (let i=0;i<roles.length; i++) {\n            let role = roles[i];\n            if (role.is_admin===1) {\n              isAdmin = true;\n            }\n          }\n          context.setState({\n            isAdmin: isAdmin\n          });\n        }\n      })\n      .catch(function (error) {\n        if (error.response) {\n          if (error.response.status===401) {\n            if (getCookie('letterssessionactive')===\"true\") {\n          \t\tsessionStorage.setItem('sessionActive', false);\n          \t\tsessionStorage.setItem('accessToken', '');\n          \t\tsessionStorage.setItem('userName', '');\n          \t\tsessionCookie('', false, '', true);\n        \t\t\tsetTimeout(function() {\n        \t\t\t\twindow.location.reload();\n        \t\t\t},2000);\n            }\n          }\n        }\n      });\n    }\n  }\n\n  componentWillMount() {\n    checkSessionCookies();\n    this.checkAdminState();\n  }\n\n  componentDidMount() {\n    preloadContent();\n  }\n\n  loginModalHide() {\n\t\tthis.setState({ loginModalVisile: false });\n\t}\n\n\tloginModalOpen() {\n\t\tthis.setState({ loginModalVisile: true });\n\t}\n\n  render() {\n    return (\n      <Router basename={basename}>\n        <div className=\"App\">\n          <Helmet htmlAttributes={{ lang : \"en\" }}/>\n          <PageHeader\n            loginModalVisile={this.state.loginModalVisile}\n            loginModalHide={this.loginModalHide}\n            loginModalOpen={this.loginModalOpen}\n            />\n          <Navbar></Navbar>\n          <div className=\"wrapper main-body\">\n            <Switch>\n              <Route exact path=\"/\" component={HomeView}/>\n              <Route path=\"/blank\" component={BlankView}/>\n              <Route path=\"/browse\" component={BrowseView}/>\n              <Route path=\"/contact-form\" component={ContactFormView}/>\n              <Route path=\"/content/:contentName\" component={ContentView}/>\n              <Route path=\"/fullsearch/:term\" component={SearchView}/>\n              <Route path=\"/fullsearch\" component={SearchView}/>\n              <Route path=\"/item/:itemId\" component={props=><ItemView\n                isAdmin={this.state.isAdmin}\n                {...props} />} />\n              <Route path=\"/letter/:letterId\" component={props=><ItemView\n                isAdmin={this.state.isAdmin}\n                {...props} />} />\n              <Route path=\"/letter-transcribe/:itemId\" component={props=><TranscriptionLetterView\n                isAdmin={this.state.isAdmin}\n                loginModalVisile={this.state.loginModalVisile}\n                loginModalHide={this.loginModalHide}\n                loginModalOpen={this.loginModalOpen}\n                {...props} />} />\n              <Route path=\"/password-restore\" component={PasswordRestoreView}/>\n              <Route path=\"/password-reset/:token\" component={PasswordResetView}/>\n              <Route path=\"/register\" component={RegisterView}/>\n              <Route path=\"/verify-account/:activation_code\" component={VerifyAccountView}/>\n              <Route path=\"/transcriptions-desk\" component={props=><TranscriptionsDeskView\n                 loginModalVisile={this.state.loginModalVisile}\n                 loginModalHide={this.loginModalHide}\n                 loginModalOpen={this.loginModalOpen}\n                 {...props} />} />\n              <Route path=\"/upload-xml\" component={props=><UploadXML\n                  isAdmin={this.state.isAdmin}\n                  loginModalVisile={this.state.loginModalVisile}\n                  loginModalHide={this.loginModalHide}\n                  loginModalOpen={this.loginModalOpen}\n                  {...props} />}/>\n              <Route path=\"/user-letter/:letterId\" component={props=><UserLetterView\n                  isAdmin={this.state.isAdmin}\n                  loginModalVisile={this.state.loginModalVisile}\n                  loginModalHide={this.loginModalHide}\n                  loginModalOpen={this.loginModalOpen}\n                  {...props} />} />\n              <Route path=\"/user-letters\" component={props=><UserLettersView\n                  loginModalVisile={this.state.loginModalVisile}\n                  loginModalHide={this.loginModalHide}\n                  loginModalOpen={this.loginModalOpen}\n                  {...props} />} />\n              <Route path=\"/user-profile\" component={props=><UserProfileView\n                  loginModalVisile={this.state.loginModalVisile}\n                  loginModalHide={this.loginModalHide}\n                  loginModalOpen={this.loginModalOpen}\n                  {...props} />} />\n              <Route path=\"/user-transcriptions\" component={props=><UserTranscriptionsView\n                  loginModalVisile={this.state.loginModalVisile}\n                  loginModalHide={this.loginModalHide}\n                  loginModalOpen={this.loginModalOpen}\n                  {...props} />} />\n              <Route path=\"/vizualizations/:type\" component={VizualizationsView}/>\n              <Route path=\"/wp-post/:slug\" component={WPContentView}/>\n              <Route path=\"/wp-category/:slug\" component={WPCategoryView}/>\n              <Route path=\"/wp-page/:slug\" component={WPPagesView}/>\n              <Route path=\"/404\" component={NotFound}/>\n              <Redirect to='/404' />\n            </Switch>\n          </div>\n          <PageFooter/>\n          <CookiesConsent/>\n          <ScrollToTop/>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/jquery/include';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}