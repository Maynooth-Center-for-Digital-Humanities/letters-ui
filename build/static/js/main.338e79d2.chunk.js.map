{"version":3,"sources":["assets/images/logo-update.png","assets/images/mu-logo-white-footer.png","assets/images/IRC_LOGO_White.png","assets/images/SFI_logo_2017_greyscaled.png","assets/images/logo-stamp-small.png","assets/images/carousel/default.png","assets/images/letters-map-thumbnail.png","assets/images/letters-graph-thumbnail.png","assets/jquery/include.js","common/constants.js","helpers/preload-content.js","helpers/helpers.js","components/login.modal.js","components/header-search.js","common/header.js","helpers/subscribe-to-newsletter.js","components/footer-menu.js","common/footer.js","components/navbar.js","components/scrolltotop.js","components/cookies-consent.js","components/carousel.js","components/home-about.js","components/home-letters-block.js","components/highlights-block.js","components/twitter-feed.js","components/home-vizualizations-block.js","components/home-news.js","views/home.js","components/breadcrumbs.js","helpers/pagination.js","components/search-letters.js","components/search-wp.js","views/search.js","components/topics-block.js","components/sources-block.js","components/authors-block.js","components/genders-block.js","components/languages-block.js","components/datepicker.js","components/date_created-block.js","views/browse.js","views/password.restore.js","views/password.reset.js","views/register.js","views/verify-account.js","helpers/letter-upload-xml.js","views/item.js","components/protected-page.js","views/upload-xml.js","views/content.js","components/wp-tiles-gallery.js","views/wp-content.js","views/wp-category.js","views/wp-pages.js","views/blank.js","components/vizualizations-map.js","components/vizualizations-graph.js","views/vizualizations.js","components/transcribe/image-viewer.js","components/transcribe/pages-list.js","components/transcribe/editor-ck.js","helpers/xml-editor/xml-editor.js","views/transcription-letter.js","components/confirm-modal.js","views/user-profile.js","components/transcribe/keywords-select.js","components/transcribe/authors-select.js","components/transcribe/sources-select.js","views/user-letter.js","views/user-letters.js","views/user-transcriptions.js","components/transcriptions-topics-block.js","components/transcriptions-sources-block.js","components/transcriptions-authors-block.js","components/transcriptions-genders-block.js","components/transcriptions-languages-block.js","components/transcriptions-date_created-block.js","views/transcriptions-desk.js","views/404.js","App.js","registerServiceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","window","jQuery","$","domain","APIPath","WPRestPath","WPCustomRestPath","archivePath","escapeURLs","preloadContent","sessionStorage","setItem","axios","get","then","response","JSON","stringify","catch","error","console","log","params","slug","newData","data","newTitle","post_title","newContent","post_excerpt","about","title","content","discoverPost","thumbnail","permalink","transcribePost","contributePost","ToggleClass","node","class1","class2","classes","className","split","newClasses","indexOf","i","length","newClass","push","replaceClass","join","ReplaceClass","PreloaderCards","num","cards","card","react_default","a","createElement","key","Emptyitemscard","CompareFilterTopics","topicsArray","compareArray","groupChildren","document","getElementsByClassName","childNodes","groupChild","groupChildValue","innerText","classList","add","replace","remove","children","textContent","CompareFilterGeneral","selector","filterArray","SelectedTopicsChecked","groupChildTopicNode","getAttribute","currentClassName","element","querySelectorAll","label","SelectedFiltersChecked","groupChildValueArr","countText","trim","NormalizeWPURL","href","normalizedURL","newHref","includes","slice","hrefEnding","substr","lastIndexOf","hrefParent","NormalizeMenuWPURL","stripHTML","html","tmp","innerHTML","sessionCookie","userName","sessionActive","accessToken","expired","rememberMe","arguments","undefined","currentDate","Date","tomorrow","setDate","getDate","expires","expiredDate","nextYear","getFullYear","oneYearFromNow","setFullYear","setCookie","getCookie","cname","name","ca","decodeURIComponent","cookie","c","charAt","substring","value","toUTCString","location","hostname","fixImagePath","path","replaceAll","str","find","RegExp","escapeRegExp","LoginModal","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleFormChange","bind","assertThisInitialized","handleFormSubmit","state","email","password","remember_me","login_error","login_error_class","redirect","event","target","type","checked","setState","defineProperty","preventDefault","loginModalContext","post","status","pathname","reload","errors","errorText","e","getItem","setTimeout","defaults","headers","common","link","onClick","loginModalOpen","dropdownTitle","DropdownButton","bsSize","id","MenuItem","eventKey","componentClass","Link","to","handleLogout","loginErrorHTML","redirectElement","modal","Modal","show","loginModalVisile","onHide","loginModalHide","Header","closeButton","Title","Body","onSubmit","placeholder","onChange","Redirect","React","Component","SearchInput","term","handleChange","handleSubmit","prevProps","prevState","from","pageHeader","rel","login_modal","src","logo","alt","header_search","NewsletterSubscribe","loader","subscribeResponse","subscribeResponseHidden","handleEmailChange","context","message","formHiddenClass","subscribeResponseHiddenClass","FooterMenu","navItems","parse","parseJSON","menuItem","relAttr","itemURL","url","navItem","getItems","year","pageFooter","MULogo","IRCLogo","SFILogo","footer_menu_FooterMenu","subscribe_to_newsletter_NewsletterSubscribe","bootstrapUtils","addStyle","Navbar","MainNavbar","fixed","redirectTarget","handleScroll","newArray","menu_item_parent","parent","parentId","parseInt","ID","getchildren","createMenu","j","childItem","childItemID","item","createNavItem","NavItem","dangerouslySetInnerHTML","__html","menuItemChildren","createNavItemChildren","NavDropdown","navTo","noCaret","childrenItems","child","childURL","childrenItem","addEventListener","removeEventListener","scrollY","fixedClass","es_Redirect","collapseOnSelect","bsStyle","Brand","logoSmall","Toggle","Collapse","Nav","ScrollToTopStyle","position","bottom","right","cursor","transition","opacity","visibility","zIndex","ScrollToTop","react_scroll_up_default","showUnder","style","CookiesConsent","visible","isVisible","acceptConsent","nextMonth","hiddenClass","ControlledCarousel","handleSelect","parseCarouselJSON","loading","index","direction","nextIcon","prevIcon","images","selectedIndex","rendered","carouselJSON","cheerio","load","each","imagePath","attr","imageTitle","imageDescription","carouselItemStyle","backgroundImage","backgroundSize","carouselTitle","carouseDescription","carouselItem","Carousel","Item","width","height","defaultImg","Caption","getImages","_this$state","minHeight","paddingTop","react_loading_default","color","delay","activeIndex","onSelect","HomeAbout","loadAbout","HomeLettersBlock","block1","block2","block3","createBlock","block","browse","loadBlock1","loadBlock2","loadBlock3","HighlightsBlock","items","setItems","highlight","descriptionText","post_name","loadItems","OwlCarousel_default","autoplay","autoplayhoverpause","margin","nav","navText","navContainerClass","dots","responsive","0","600","767","992","TwitterFeed","addScript","scriptContent","createTextNode","appendChild","body","data-height","data-widget-id","data-background","VizualizationsBlock","mapThumb","graphThumb","twitter_feed_TwitterFeed","HomeNews","loop","HomeView","_Component","apply","inherits","createClass","carousel","home_about_HomeAbout","home_news_HomeNews","home_letters_block_HomeLettersBlock","highlights_block_HighlightsBlock","home_vizualizations_block_VizualizationsBlock","BreadCrumbs","itemsHTML","listItem","Pagination","paginationItems","currentPage","current_page","lastPage","total_pages","prevPage","nextPage","paginationFirstItem","pagination_function","paginationPrevItem","pageNum","pageActive","paginationItem","paginationNextItem","paginationLastItem","createPagination","paginate","SearchLetters","browseItems","last_page","total","gotopage_value","temp_page","submitted_search","submit_search","gotoPage","showPage","updatePaginate","updatePageNumber","pageNumberSubmit","newPage","browseContext","page","responseData","itemsData","defaultThumbnail","pages","archive_filename","transcription","transcriptionText","browseItem","data-id","empty","resultsFound","resultsText","paginate10Active","paginate25Active","paginate50Active","paginationHTML","pagination_Pagination","searchContent","SearchWP","per_page","s","posts_per_page","description","newPermalink","SearchView","search_letters","search_content","getTerm","match","searchLetters","search_letters_SearchLetters","search_wp_SearchWP","breadcrumbs","toggleCheckbox","TopicsBlock","topics","autocomplete_visible","autocomplete_value","toggleElementChildren","toggleAutocomplete","autocomplete","targetNode","currentTarget","nextSibling","toggle","attributes","newValue","setAttribute","topic","topicItem","childrenHTML","toggleChildren","hasChildrenClass","topicChildren","data-toggle","data-key","returnfunction","data-default","count","childrenObject","data-parent","loadTopics","SourcesBlock","dataItem","sourceLabel","source","AuthorsBlock","authorLabel","creator","GendersBlock","genderLabel","gender","LanguageBlock","languageLabel","language","Picker","disabled","defaultDate","moment","es","dateFormat","selected","highlightDates","dates","openToDate","placeholderText","clearFunction","DatecreatedBlock","startValue","endValue","startOpen","endOpen","calendarDates","excludedDates","startDateClear","endDateClear","dateCreated","date_created","newDate","dataToArr","keys","map","field","newStartValue","newEndValue","format","returnValues","availableDates","updateItems","datepicker_Picker","BrowseView","topics_path","sort","firstLoad","selectedTopics","keywords_ids","sources","authors","genders","languages","dates_sent","date_start","date_end","queryStatus","queryTranscriptionStatus","updatePage","updateSort","topicFilter","filterContent","browserItems","sourcesFilter","authorsFilter","gendersFilter","languagesFilter","datecreatedFilter","setSessionStorage","checkSessionStorage","clearFilters","prevTopics","currentId","splice","prevSources","selectedSources","currentSource","prevAuthors","selectedAuthors","currentAuthor","prevGenders","selectedGenders","currentGender","prevLanguages","selectedLanguages","currentLanguage","dateStart","dateEnd","ReactDOM","findDOMNode","childrenTopics","childrenLi","liChildren","selectTopicI","secondChild","parentNode","selectedTopicsToggleChildren","className1","className2","keywords","transcription_status","comma","keyword","topic_ID","topic_name","storedState","newState","loadProgressBar","updateFilters","activeDesc","activeAsc","topics_block_TopicsBlock","sources_block_SourcesBlock","authors_block_AuthorsBlock","genders_block_GendersBlock","languages_block_LanguageBlock","date_created_block_DatecreatedBlock","PasswordRestoreView","submitStatus","success","successText","breadCrumbsArr","errorClass","submitPreloader","infoText","form","padding","contentHTML","PasswordResetView","password_confirm","passwordStrength","strengthClass","strengthLabel","errorValidation","passwordStrengthCalculate","arrayPost","password_confirmation","token","method","crossDomain","search","emailInput","focus","passwordInput","passwordConfirmInput","strongRegex","mediumRegex","test","_this2","autoComplete","ref","input","paddingRight","RegisterView","license_agreement","subscribe_to_newsletter","errorStatus","errorMessage","showResponse","responseText","licenseAgreementText","subscribeToNewsletterText","loadRights","pageData","statusText","newLicenseAgreementText","newSubscribeToNewsletterText","assign","k","nameInput","licenceAgreementInput","contentTitle","pageContent","VerifyAccountView","errorMsg","verifyAccount","activation_code","LetterUploadXML","files","dissaproved_files","post_status","upload_loader","progress_bar_text","progress_bar_width","view_updated_page_btn","onDrop","uploadFiles","viewUpdated","approvedFiles","disapprovedFiles","file","postData","FormData","forEach","append","config","Content-Type","onUploadProgress","progressEvent","percentCompleted","Math","round","loaded","progressBarText","parseFloat","toFixed","progressBarWidth","documentId","document_id","refreshPageBtn","filesList","dissaprovedFilesList","uploadBtn","f","size","statusBarInnerStyle","progressBar","stateWidth","stateText","dist_es","multiple","ItemView","sent_location","recipient","time_zone","collection","number_pages","request_time","terms_of_use","collection_id","creator_gender","doc_collection","creator_location","modified_timestamp","recipient_location","copyright_statement","year_of_death_of_author","thumbnails","imagesPaths","transcriptions","transcriptionActive","imageActive","imageActiveLoading","imageActiveLoaderHeight","photoIndex","isOpen","downloadLink","notFound","toggleLetterInfo","showBigImage","stopPropagation","infoTrigger","infoContainer","containerHeight","imageContainer","clientHeight","itemContext","getPath","itemId","letterId","dateSent","daySent","getMonth","imagePaths","pageCount","thumbPath","page_id","image","onLoad","handleImageLoaded","fileLink","download","original_filename","collection_ID","loadItem","activeImg","owlThumbnails","activeImgStyle","creatorRow","dateCreatedRow","sentLocationRow","sourceCollectionRow","languageRow","numpagesRow","recipientRow","recipientLocationRow","sourceRow","downloadRow","documentIdRow","letterUploadBox","isAdmin","letter_upload_xml_LetterUploadXML","letterDetailsInfo","500","main_default","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","ProtectedPage","UploadXML","protected_page_ProtectedPage","ContentView","aboutHTML","contentName","TilesGallery","display","overflow","Gallery_default","enableImageSelection","WPContentView","getPage","Parser","domNode","attribs","text","domToReact","class","galleryItems","img","imgWidth","imgHeight","newImage","thumbnailWidth","thumbnailHeight","caption","thumbnailCaption","isSelected","wp_tiles_gallery_TilesGallery","postDate","cleanContent","cleanContentURLs","categories","post_modified","WPCategoryView","category_name","orderby","categoryName","category","cat_name","WPPagesView","BlankView","VizualizationsMap","fullScreenBtnClass","fullScreenStatus","iframeWidth","iframeHeight","containerStyle","toggleFullScreen","cancelFullScreen","requestFullScreen","left","top","el","requestMethod","webkitCancelFullScreen","mozCancelFullScreen","exitFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen","innerHeight","wpText","iframe","VizualizationsGraph","VizualizationsView","viewType","embedMap","embedGraph","vizualizations_map_VizualizationsMap","vizualizations_graph_VizualizationsGraph","TranscriptionImageViewer","positionX","positionY","dragging","imgRef","createRef","handleStop","handleStart","rect","current","getBoundingClientRect","imgTop","imgRight","imgBottom","newWidth","newHeight","newImgTop","newImgLeft","getElementById","imgTransform","transform","imgTransformArr","newX","newY","pageSource","imgStyle","draggingClass","react_draggable_default","defaultPosition","x","y","onStart","onStop","draggable","imgViewerHTML","lib","defaultSize","maxWidth","minWidth","updateViewer","TranscriptionPagesList","renderThumbnails","newThumbnails","transcriptionStatus","pageStatus","selectedClass","function","400","1200","TranscriptionEditor","saving","docked","handle","isResizing","undockedWidth","resize","dragover","textarea_disabled","allowSave","elementName","onInput","updateTranscription","resetAllowSave","resizing","unsetResize","updateEditorView","setHandle","startDrag","endDrag","dragStop","dragOver","dragEnter","dragLeave","editorRef","newProps","newTranscription","CKEDITOR","instances","destroy","updatePages","on","instanceReady","inputTimeout","stop","cancel","getData","clearTimeout","disableNav","transcription_content","archiveFilename","newError","msg","enableNav","contentMarkup","setData","dataTransfer","dropEffect","clientX","clientY","offsetLeft","offsetTop","undockedStyle","dropzoneClass","dragOverClass","dragHandle","onMouseDown","onMouseUp","unsetHandle","editorVisibleClass","onDragEnter","onDragOver","onDragLeave","onDragStart","TranscriptionLetterView","containerClass","prevlocation","prevlocationpath","navDisabled","selectedPage","adminModal","updateErrorState","showAdminModal","handleClose","postPath","updatedPage","history","newPageStatus","pages_list_TranscriptionPagesList","image_viewer_TranscriptionImageViewer","editor_ck_TranscriptionEditor","breadCrumbsPath","ConfirmModal","headerText","bodyText","buttonCancel","buttonSuccess","buttonCancelText","buttonSuccessText","showModal","handleShow","returnFunction","newModal","Footer","UserProfileView","userEmail","createdAt","numLetters","numTranscriptions","showUpdateModal","updateSubmitStatus","updateName","updateEmail","updateErrorShow","updateErrorMessage","showPasswordModal","passwordSubmitStatus","updatePassword","updatePasswordConfirm","passwordErrorShow","passwordErrorMessage","forgetMeErrorShow","forgetMeErrorMessage","showForgetMeConfirm","handleUpdateModalShow","handleUpdateModalClose","handleUpdateFormChange","handleUpdateFormSubmit","updateErrorValidation","handlePasswordModalShow","handlePasswordModalClose","handlePasswordFormChange","handlePasswordFormSubmit","passwordErrorValidation","hideForgetMeConfirm","forgetMeSubmit","created_at","num_letters","num_transcriptions","userUpdateModal","passwordModal","forgetMeModal","forgetMeErrorClass","updateErrorClass","passwordErrorClass","dateLabel","getUTCMonth","getUTCDate","getUTCFullYear","confirm_modal_ConfirmModal","KeywordsSelect","keywordsOptions","selectedOption","loadKeywords","keywordItem","isChild","keywordChildren","topic_id","flattenedOptions","flattenDeep","arr","reduce","acc","Array","isArray","concat","react_select_es","onChangeFunction","options","multi","removeSelected","optionComponent","ListItemOption","propTypes","PropTypes","string","isDisabled","bool","isFocused","onFocus","func","option","object","isRequired","handleMouseDown","handleMouseEnter","handleMouseMove","render","childClass","onMouseEnter","onMouseMove","AuthorsSelect","selectOptions","row","SourcesSelect","UserLetterView","additional_information","month","day","letter_from","letter_to","notes","additional_img_info","terms","license","filesErrorText","filesError","imageBlocks","daysOptions","imagesPreview","updateBtnText","terms_of_useChecked","copyright_statementChecked1","copyright_statementChecked2","showDeleteConfirm","deleteConfirmSubmit","showDeleteLetterConfirm","deleteLetterConfirmSubmit","enableTranscription","calculateDays","yearOfDeathList","propChecked","handleSelectFormChange","removeImageBlock","addImageBlock","onDragEnd","reorderPages","removeFormImage","hideDeleteConfirm","assignItemStateValues","loadItemImages","deleteLetter","hideDeleteLetterConfirm","resetState","newImages","newAII","selectValue","arrayData","stateForm","formData","hasImages","set","errorFiles","fileLabels","filename","btnText","errorsOutput","generic_error","titleInput","languageInput","sourceInput","termsInput","licenseInput","days","monthStart","calculateDaysInMonth","thisYear","optionsList","result","destination","list","startIndex","endIndex","_result$splice","removed","slicedToArray","pagesData","itemData","dateArr","keywordsData","_ret","imagesPreviewItems","_loop","imgFileName","react_beautiful_dnd_esm","draggableId","provided","snapshot","innerRef","draggableProps","dragHandleProps","isDragging","draggableStyle","objectSpread","userSelect","grid","background","droppableId","isDraggingOver","droppableProps","v","newImageBlocks","imageBlock","accept","_this3","deleteBtn","titleError","languageError","sourceError","termsError","licenseError","yearOfDeathListOptions","enableTranscriptionBtn","genericErrorClass","encType","keywords_select_KeywordsSelect","authors_select_AuthorsSelect","sources_select_SourcesSelect","fontWeight","UserLettersView","letterName","deleteLetterId","showBtnDisabledConfirm","btnDisabledText","parseItems","toggleTranscriptionStatus","hideBtnDisabledConfirm","cannotTranscribeText","gotoTranscriptionBtn","editBtn","rowTitle","viewItem","UserTranscriptionsView","showRemoveLetterConfirm","removeLetterId","hideRemoveLetterConfirm","removeLetter","linkPath","removeBtn","TranscriptionsDeskView","date_sent","trascriptionStatusCompletion","completed","itemPath","countPages","pageTranscriptionStatus","percentage","transcriptions_topics_block_TopicsBlock","transcriptions_sources_block_SourcesBlock","transcriptions_authors_block_AuthorsBlock","transcriptions_genders_block_GendersBlock","transcriptions_languages_block_LanguageBlock","transcriptions_date_created_block_DatecreatedBlock","NotFound","App","checkAdminState","roles","is_admin","checkSessionCookies","BrowserRouter","basename","Helmet","htmlAttributes","lang","header_pageHeader","navbar","Switch","Route","exact","component","item_ItemView","transcription_letter_TranscriptionLetterView","transcriptions_desk_TranscriptionsDeskView","upload_xml_UploadXML","user_letter_UserLetterView","user_letters_UserLettersView","user_profile_UserProfileView","user_transcriptions_UserTranscriptionsView","footer","cookies_consent_CookiesConsent","scrolltotop","isLocalhost","Boolean","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","src_App_0","URL","process","origin","fetch","ready","unregister","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.338e79d2.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo-update.8166fb93.png\";","module.exports = __webpack_public_path__ + \"static/media/mu-logo-white-footer.56fd092c.png\";","module.exports = __webpack_public_path__ + \"static/media/IRC_LOGO_White.11ce1d35.png\";","module.exports = __webpack_public_path__ + \"static/media/SFI_logo_2017_greyscaled.799490f8.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADgAAAAoCAYAAACrUDmFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MTBBNUVDNzlGRUIzMTFFNzg5MEY5NzkwNTY0OUMyQkYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MTBBNUVDN0FGRUIzMTFFNzg5MEY5NzkwNTY0OUMyQkYiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMEE1RUM3N0ZFQjMxMUU3ODkwRjk3OTA1NjQ5QzJCRiIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxMEE1RUM3OEZFQjMxMUU3ODkwRjk3OTA1NjQ5QzJCRiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Ps+YsGAAABVqSURBVHja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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABJIAAAHMCAYAAACOUYI/AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NTc3MiwgMjAxNC8wMS8xMy0xOTo0NDowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTQgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MDg0NUI1NzlGRUEzMTFFNzg1N0E5QzJBNDkwMjY0ODciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MDg0NUI1N0FGRUEzMTFFNzg1N0E5QzJBNDkwMjY0ODciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowODQ1QjU3N0ZFQTMxMUU3ODU3QTlDMkE0OTAyNjQ4NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDowODQ1QjU3OEZFQTMxMUU3ODU3QTlDMkE0OTAyNjQ4NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PpeUCA8AAAw/SURBVHja7NgxAQAgDMAwwL/nTQIVkEjo2TszBwAAAAB+ngQAAAAAFEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAEBiJAEAAACQGEkAAAAAJEYSAAAAAImRBAAAAECyAgwA03wGlYAolygAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/letters-map-thumbnail.745b7a81.png\";","module.exports = __webpack_public_path__ + \"static/media/letters-graph-thumbnail.1b69dd8a.png\";","import * as $ from 'jquery'\n\nwindow.jQuery = window.$ = $\n","export const domain = \"http://letters1916.maynoothuniversity.ie\";\nexport const APIPath = domain+\"/api/\";\nexport const WPRestPath = domain+\"/learn/wp-json/wp/v2/\";\nexport const WPCustomRestPath = domain+\"/learn/wp-json/letters1623/\";\nexport const basename = \"/\";\nexport const archivePath =  domain+\"/diyhistory/archive/\";\nexport const escapeURLs = [\n  \"/browse\",\n  \"/contact-form\",\n  \"/content\",\n  \"/fullsearch\",\n  \"/item\",\n  \"/letter\",\n  \"/letter-transcribe\",\n  \"/password-restore\",\n  \"/register\",\n  \"/transcriptions-desk\",\n  \"/upload-xml\",\n  \"/user-letter\",\n  \"/user-letters\",\n  \"/user-profile\",\n  \"/user-transcriptions\",\n  \"/vizualizations\",\n  \"/vizualizations/map\",\n  \"/admin/list-transcriptions\",\n];\n","//import React from 'react';\nimport axios from 'axios';\nimport {APIPath} from '../common/constants.js';\nimport {WPRestPath,WPCustomRestPath} from '../common/constants.js';\n\nexport function preloadContent() {\n  sessionStorage.setItem('carousel_images',[]);\n  sessionStorage.setItem('home_about',[]);\n  sessionStorage.setItem('topics_list',[]);\n  sessionStorage.setItem('sources_list',[]);\n  sessionStorage.setItem('authors_list',[]);\n  sessionStorage.setItem('genders_list',[]);\n  sessionStorage.setItem('languages_list',[]);\n  sessionStorage.setItem('date_created_list',[]);\n\n  loadHomeCarousel();\n  loadHomeAbout();\n  loadTopics();\n  loadSources();\n  loadAuthors();\n  loadPeople();\n  loadGenders();\n  loadLanguages();\n  loadDateCreated();\n\n  loadDiscoverPost();\n  loadTranscribePost();\n  loadContributePost();\n\n}\n\nfunction loadHomeCarousel() {\n  axios.get(WPRestPath+\"pages/?slug=carousel\")\n    .then(function (response) {\n      sessionStorage.setItem(\"carousel_images\", JSON.stringify(response));\n    })\n    .catch(function (error) {\n      console.log(error);\n  });\n}\n\nfunction loadHomeAbout() {\n  axios.get(WPCustomRestPath+\"post\", {\n      params: {\n        \"slug\": \"about-the-project\"\n      }\n    })\n    .then(function (response) {\n      let newData = response.data;\n      let newTitle = newData.post_title;\n      let newContent = newData.post_excerpt;\n      let about = {\n        title: newTitle,\n        content: newContent,\n        slug: newData.slug\n      }\n      sessionStorage.setItem(\"home_about\", JSON.stringify(about));\n    })\n    .catch(function (error) {\n      console.log(error);\n  });\n}\n\nfunction loadDiscoverPost() {\n  axios.get(WPCustomRestPath+\"post\", {\n      params: {\n        \"slug\": \"discover-the-collection\"\n      }\n    })\n    .then(function (response) {\n      let newData = response.data;\n      let discoverPost = {\n        title: newData.post_title,\n        content: newData.post_excerpt,\n        slug: newData.slug,\n        thumbnail: newData.thumbnail,\n        permalink: newData.permalink,\n      }\n      sessionStorage.setItem(\"home_discover_collection\", JSON.stringify(discoverPost));\n    })\n    .catch(function (error) {\n      console.log(error);\n  });\n}\n\nfunction loadTranscribePost() {\n  axios.get(WPCustomRestPath+\"post\", {\n      params: {\n        \"slug\": \"transcribe-letters\"\n      }\n    })\n    .then(function (response) {\n      let newData = response.data;\n      let transcribePost = {\n        title: newData.post_title,\n        content: newData.post_excerpt,\n        slug: newData.slug,\n        thumbnail: newData.thumbnail,\n        permalink: newData.permalink,\n      }\n      sessionStorage.setItem(\"home_transcribe_letters\", JSON.stringify(transcribePost));\n    })\n    .catch(function (error) {\n      console.log(error);\n  });\n}\n\nfunction loadContributePost() {\n  axios.get(WPCustomRestPath+\"post\", {\n      params: {\n        \"slug\": \"contribute-letters\"\n      }\n    })\n    .then(function (response) {\n      let newData = response.data;\n      let contributePost = {\n        title: newData.post_title,\n        content: newData.post_excerpt,\n        slug: newData.slug,\n        thumbnail: newData.thumbnail,\n        permalink: newData.permalink,\n      }\n      sessionStorage.setItem(\"home_contribute\", JSON.stringify(contributePost));\n    })\n    .catch(function (error) {\n      console.log(error);\n  });\n}\n\nfunction loadTopics() {\n  axios.get(APIPath+\"topics?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('topics_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\nfunction loadSources() {\n  axios.get(APIPath+\"sources?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('sources_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\nfunction loadAuthors() {\n  axios.get(APIPath+\"authors?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('authors_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\nfunction loadPeople() {\n  axios.get(APIPath+\"people?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('people_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\nfunction loadGenders() {\n  axios.get(APIPath+\"genders?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('genders_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\n\nfunction loadLanguages() {\n  axios.get(APIPath+\"languages?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('languages_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n\nfunction loadDateCreated() {\n  axios.get(APIPath+\"date_created?status=1&transcription_status=2\")\n\t  .then(function (response) {\n      let data = response.data.data;\n      sessionStorage.setItem('date_created_list', JSON.stringify(data));\n    })\n    .catch(function (error) {\n\t    console.log(error);\n\t});\n}\n","import React from 'react';\nimport {domain,escapeURLs} from '../common/constants.js';\n\nexport function ToggleClass(node, class1, class2) {\n  let currentClassName = node.className;\n  let classes = currentClassName.split(\" \");\n  let newClasses = [];\n  if (classes.indexOf(class1)>-1) {\n    for (let i=0; i<classes.length; i++) {\n      let newClass = classes[i];\n      if (newClass===class1) {\n        newClass = class2;\n      }\n      newClasses.push(newClass);\n    }\n  }\n  else {\n    for (let i=0; i<classes.length; i++) {\n      let newClass = classes[i];\n      if (newClass===class2) {\n        newClass = class1;\n      }\n      newClasses.push(newClass);\n    }\n    if (classes.indexOf(class2)===-1) {\n      newClasses.push(class2)\n    }\n  }\n  let replaceClass = newClasses.join(\" \");\n  node.className = replaceClass;\n}\n\nexport function ReplaceClass(node, class1, class2) {\n  let currentClassName = node.className;\n  let classes = currentClassName.split(\" \");\n  let newClasses = [];\n  for (let i=0; i<classes.length; i++) {\n    let newClass = classes[i];\n    if (newClass!==class1 && newClass!==class2) {\n      newClasses.push(newClass);\n    }\n  }\n  newClasses.push(class2);\n  let replaceClass = newClasses.join(\" \");\n  node.className = replaceClass;\n}\n\nexport function PreloaderCards(num) {\n  if (typeof num===\"undefined\") {\n    num=11;\n  }\n  let cards = [];\n  for (let i=0;i<num;i++) {\n    let card = <li key={i}>\n        <div className=\"mock-card\">\n          <h4><div className=\"mock-title\">Lorem ipsum dolor sit amet.</div></h4>\n          <div className=\"mock-keywords\">Lorem ipsum dolor sit amet.</div>\n          <div className=\"mock-desription\">Lorem ipsum dolor sit amet, consectetur adipiscing elit.\n          Aenean id odio neque.\n          Suspendisse libero lorem, consequat ac nulla nec, porttitor ultricies arcu.\n          Nam eget efficitur sem, eu tincidunt neque. Duis.</div>\n        </div>\n      </li>;\n    cards.push(card);\n  }\n  return cards;\n}\n\nexport function Emptyitemscard() {\n  return <li key={0}>\n        <p>&nbsp;</p>\n        <h4 className=\"text-center\">There are no letters matching these criteria</h4>\n        <p>&nbsp;</p>\n    </li>;\n}\n\nexport function CompareFilterTopics(topicsArray) {\n  let compareArray = [];\n  for (let key in topicsArray) {\n    compareArray.push(key);\n  }\n  let group = document.getElementsByClassName(\"topics-list\")[0];\n  let groupChildren = group.childNodes;\n  for (let i=0; i<groupChildren.length; i++) {\n    let groupChild = groupChildren[i];\n    let groupChildValue = groupChild.childNodes[0].childNodes[0].innerText;\n    if (compareArray.indexOf(groupChildValue)===-1) {\n      groupChild.classList.add(\"disabled\");\n    }\n    else {\n      groupChild.className = groupChild.className.replace(/\\bdisabled\\b/g, \"\");\n      groupChild.classList.remove(\"disabled\");\n      let topicLabel = groupChild.childNodes[0].children[2];\n      topicLabel.children[0].textContent = topicsArray[groupChildValue];\n    }\n  }\n}\n\nexport function CompareFilterGeneral(selector, filterArray) {\n  let compareArray = [];\n  for (let key in filterArray) {\n    compareArray.push(key);\n  }\n\n  let group = document.getElementsByClassName(selector)[0];\n  let groupChildren = group.childNodes;\n\n  for (let i=0; i<groupChildren.length; i++) {\n    let groupChild = groupChildren[i];\n    let groupChildValue = groupChild.childNodes[0].innerText;\n    if (compareArray.indexOf(groupChildValue)===-1) {\n      groupChild.classList.add(\"disabled\");\n    }\n    else {\n      groupChild.className = groupChild.className.replace(/\\bdisabled\\b/g, \"\");\n      groupChild.classList.remove(\"disabled\");\n      let topicLabel = groupChild.children[2];\n      topicLabel.children[0].textContent = filterArray[groupChildValue];\n    }\n  }\n}\n\nexport function SelectedTopicsChecked(topicsArray) {\n  let group = document.getElementsByClassName(\"topics-list\")[0];\n  let groupChildren = group.childNodes;\n  for (let i=0; i<groupChildren.length; i++) {\n    let groupChild = groupChildren[i];\n    let groupChildTopicNode = groupChild.childNodes[0].childNodes[1].childNodes[0];\n    let groupChildValue = groupChildTopicNode.getAttribute(\"data-id\");\n    let currentClassName = groupChildTopicNode.className;\n    let element = groupChild.querySelectorAll(\".select-topic\")[0].querySelectorAll(\"i\")[0];\n    let label = groupChild.querySelectorAll(\".topic-label\")[0];\n    let classes = currentClassName.split(\" \");\n    if (topicsArray.indexOf(groupChildValue)>-1) {\n      if (classes.indexOf(\"fa-check-circle-o\")===-1) {\n        ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n        ToggleClass(label, \"\", \"active\");\n      }\n    }\n    else {\n      if (classes.indexOf(\"fa-circle-o\")===-1) {\n        ToggleClass(element, \"fa-check-circle-o\", \"fa-circle-o\");\n        ToggleClass(label, \"active\", \"\");\n      }\n    }\n\n  }\n}\n\nexport function SelectedFiltersChecked(selector, filterArray) {\n  let group = document.getElementsByClassName(selector)[0];\n  let groupChildren = group.childNodes;\n  for (let i=0; i<groupChildren.length; i++) {\n    let groupChild = groupChildren[i];\n    let groupChildValue = groupChild.childNodes[2].innerText;\n    let currentClassName = groupChild.childNodes[1].childNodes[0].className;\n\n    // remove count parenthesis\n    let groupChildValueArr = groupChildValue.split(\" (\");\n    let countLength = groupChildValueArr.length-1;\n    let countText = \" (\"+groupChildValueArr[countLength];\n    groupChildValue = groupChildValue.replace(countText, \"\");\n    groupChildValue = groupChildValue.trim();\n\n    if (filterArray.indexOf(groupChildValue)>-1) {\n      let element = groupChild.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n      let label = groupChild.querySelectorAll(\".source-label\")[0];\n\n      let classes = currentClassName.split(\" \");\n      if (classes.indexOf(\"fa-check-circle-o\")===-1) {\n        ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n        ToggleClass(label, \"\", \"active\");\n      }\n    }\n  }\n}\n\nexport function AutocompleteFilters(selector, value) {\n  /*let group = document.getElementsByClassName(selector)[0];\n  let groupChildren = group.childNodes;\n  for (let i=0; i<groupChildren.length; i++) {\n    let groupChild = groupChildren[i];\n    let groupChildValue = groupChild.childNodes[2].innerText;\n    let currentClassName = groupChild.childNodes[1].childNodes[0].className;\n\n\n    if (filterArray.indexOf(groupChildValue)>-1) {\n      let element = groupChild.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n      let label = groupChild.querySelectorAll(\".source-label\")[0];\n\n      let classes = currentClassName.split(\" \");\n      if (classes.indexOf(\"fa-check-circle-o\")===-1) {\n        ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n        ToggleClass(label, \"\", \"active\");\n      }\n    }\n  }*/\n}\n// replace without /index.php/\n\nexport function NormalizeWPURL(href) {\n  let normalizedURL = href;\n  if (typeof href!==\"undefined\" && href!==\"\") {\n    let newHref = href.replace(\"http://letters1916.maynoothuniversity.ie/learn/index.php/\", domain+\"/wp-post/\");\n    newHref = href.replace(\"http://letters1916.maynoothuniversity.ie/learn/\", domain+\"/wp-post/\");\n    newHref = newHref.replace(domain+\"/learn/index.php/\", domain+\"/wp-post/\");\n    newHref = newHref.replace(domain+\"/learn/\", domain+\"/wp-post/\");\n\n    // update for devel and live server\n    newHref = newHref.replace(\"http://letters1623.mucampus.ie/\", domain);\n    newHref = newHref.replace(\"http://xl1916apps.mucampus.ie/\", domain);\n\n    if (newHref.includes(\"wp-content\")) {\n      newHref = newHref.replace(\"wp-post/\", \"\");\n    }\n    if (newHref.includes(domain+\"/wp-post/\")) {\n      let lastChar = newHref.slice(-1);\n      if (lastChar===\"/\") {\n        newHref = newHref.slice(0,-1);\n      }\n\n      let hrefEnding = newHref.substr(newHref.lastIndexOf('/') + 1);\n      let hrefParent = \"\";\n      hrefParent = newHref.replace(domain+\"/wp-post/\",\"\");\n      hrefParent = hrefParent.replace(hrefEnding,\"\");\n      if (hrefParent!==\"\") {\n        let hrefParentLastChar = hrefParent.slice(-1);\n        if (hrefParentLastChar===\"/\") {\n          hrefParent = hrefParent.slice(0,-1)+\"%2F\";\n        }\n      }\n      normalizedURL = \"/wp-post/\"+hrefParent+hrefEnding;\n    }\n  }\n  return normalizedURL;\n}\n\nexport function NormalizeMenuWPURL(href) {\n  let normalizedURL = href;\n  if (escapeURLs.indexOf(href)===-1) {\n    let newHref = href.replace(\"http://letters1916.maynoothuniversity.ie/learn/index.php/\", domain+\"/wp-post/\");\n    newHref = newHref.replace(domain+\"/learn/index.php/\", domain+\"/wp-post/\");\n    let lastChar = newHref.slice(-1);\n    if (lastChar===\"/\") {\n      newHref = newHref.slice(0,-1);\n    }\n\n    let hrefEnding = newHref.substr(newHref.lastIndexOf('/') + 1);\n    let hrefParent = \"\";\n    hrefParent = newHref.replace(domain+\"/wp-post/\",\"\");\n    hrefParent = newHref.replace(domain+\"/learn/\",\"\");\n    hrefParent = hrefParent.replace(hrefEnding,\"\");\n    if (hrefParent!==\"\") {\n      let hrefParentLastChar = hrefParent.slice(-1);\n      if (hrefParentLastChar===\"/\") {\n        hrefParent = hrefParent.slice(0,-1)+\"%2F\";\n      }\n    }\n    normalizedURL = \"/wp-post/\"+hrefParent+hrefEnding;\n  }\n  return normalizedURL;\n}\n\nexport function stripHTML(html) {\n  let tmp = document.createElement(\"DIV\");\n  tmp.innerHTML = html;\n  return tmp.textContent || tmp.innerText;\n}\n\nexport function calculateDaysInMonth(year, month) {\n  let monthStart = new Date(year, parseInt(month,10), 1);\n  let monthEnd = new Date(year, parseInt(month,10) + 1, 1);\n  let monthLength = (monthEnd - monthStart) / (1000 * 60 * 60 * 24);\n  return monthLength;\n}\n\nexport function flattenDeep(arr) {\n  return arr.reduce((acc, e) => Array.isArray(e) ? acc.concat(flattenDeep(e)) : acc.concat(e), []);\n}\n\nexport function sessionCookie(userName, sessionActive, accessToken, expired, rememberMe=false) {\n  let currentDate = new Date();\n  let tomorrow = new Date();\n  tomorrow.setDate(currentDate.getDate() + 1);\n  let expires = tomorrow;\n  let expiredDate = new Date();\n  expiredDate.setDate(currentDate.getDate() - 1);\n  if (expired) {\n    expires = expiredDate;\n  }\n  if (rememberMe) {\n    let nextYear = currentDate.getFullYear()+1;\n    let oneYearFromNow = new Date();\n    oneYearFromNow.setFullYear(nextYear);\n    expires = oneYearFromNow;\n  }\n  setCookie('lettersusername',userName,expires);\n  setCookie('letterssessionactive',sessionActive,expires);\n  setCookie('lettersaccesstoken',accessToken,expires);\n}\n\nexport function checkSessionCookies() {\n  if (getCookie('letterssessionactive')===\"true\") {\n    let userName = getCookie('lettersusername');\n    let accessToken = getCookie('lettersaccesstoken');\n    sessionStorage.setItem('userName', userName);\n    sessionStorage.setItem('sessionActive', true);\n    sessionStorage.setItem('accessToken', accessToken);\n  }\n  else {\n    sessionStorage.setItem('userName', '');\n    sessionStorage.setItem('sessionActive', false);\n    sessionStorage.setItem('accessToken', '');\n  }\n}\n\nexport function getCookie(cname) {\n  let name = cname + \"=\";\n  let decodedCookie = decodeURIComponent(document.cookie);\n  let ca = decodedCookie.split(';');\n  for(let i = 0; i <ca.length; i++) {\n      let c = ca[i];\n      while (c.charAt(0) === ' ') {\n          c = c.substring(1);\n      }\n      if (c.indexOf(name) === 0) {\n          return c.substring(name.length, c.length);\n      }\n  }\n  return \"\";\n}\n\nexport function setCookie(name,value,expires){\n   document.cookie = name + \"=\" + value + ((expires==null) ? \"\" : \";expires=\" + expires.toUTCString())+\";domain=\"+window.location.hostname+\";path=/\";\n}\n\nexport function fixImagePath(path) {\n  if (path===\"\") {\n    return path;\n  }\n  else {\n    let newArchiveFileName = path.replace(\".JPG\", \".jpg\").replace(\".PNG\",\".png\").replace(\".GIF\", \".gif\");\n    return newArchiveFileName;\n  }\n}\n\nexport function replaceAll(str, find, replace) {\n  return str.replace(new RegExp(escapeRegExp(find), 'g'), replace);\n}\n\nexport function escapeRegExp(str) {\n    return str.replace(/([.*+?^=!:${}()|[\\]/\\\\])/g, \"\\\\$1\");\n}\n","import React from 'react';\nimport axios from 'axios';\nimport {Link} from 'react-router-dom';\nimport {Modal, DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath} from '../common/constants.js';\nimport {sessionCookie} from '../helpers/helpers';\nimport {Redirect} from 'react-router-dom'\n\nclass LoginModal extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\t// login form binds\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t\tthis.handleFormSubmit = this.handleFormSubmit.bind(this);\n\n\t\tthis.state = {\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\tremember_me: false,\n\t\t\tlogin_error: '',\n\t\t\tlogin_error_class: 'error-container',\n\t\t\tredirect: false\n\t\t};\n\t}\n\n/*\nloginModalVisile={this.state.loginModalVisile}\nloginModalHide={this.loginModalHide}\nloginModalOpen={this.loginModalOpen}\n*/\n\t// login form\n\thandleFormChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n\n\thandleFormSubmit(event) {\n\t\tevent.preventDefault();\n\t\tlet rememberMe = this.state.remember_me;\n\t\tvar loginModalContext = this;\n\t\taxios.post(APIPath+'login', {\n\t\t\temail: this.state.email,\n\t\t\tpassword: this.state.password\n\t\t})\n\t  .then(function (response) {\n\t    let status = response.data.status;\n\t    if (typeof status!== undefined && status===true) {\n\t      sessionStorage.setItem('userName', response.data.data.userName);\n\t      sessionStorage.setItem('sessionActive', true);\n\t      sessionStorage.setItem('accessToken', response.data.data.accessToken);\n\t\t\t\tsessionCookie(response.data.data.userName, true, response.data.data.accessToken, false, rememberMe);\n\t\t\t\tlet windowLocationPathname = window.location.pathname;\n\t\t\t\tif (windowLocationPathname.includes(\"verify-account\")) {\n\t\t\t\t\tdocument.location.href=\"/\";\n\t\t\t\t}\n\t      else {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t}\n\t    }\n\t    else {\n\t      let error = response.data.errors;\n\t\t\t\tlet errorText = \"\";\n\t      for (var e in error) {\n\t\t\t\t\terrorText = error[e];\n\t      }\n\t      loginModalContext.setState({\n\t\t\t\t\tlogin_error:errorText,\n\t\t\t\t\tlogin_error_class:'error-container-visible'\n\t\t\t\t});\n\t    }\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n\thandleLogout() {\n    let accessToken = sessionStorage.getItem('accessToken');\n\t\tsessionStorage.setItem('sessionActive', false);\n\t\tsessionStorage.setItem('accessToken', '');\n\t\tsessionStorage.setItem('userName', '');\n\t\tsessionCookie('', false, '', true);\n\t\tif (accessToken===\"\") {\n\t\t\tsetTimeout(function() {\n\t\t\t\twindow.location.reload();\n\t\t\t},1000);\n\t\t}\n\t\telse {\n\t\t\taxios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n\t    axios.get(APIPath+'logout')\n\t    .then(function (response) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t},1000);\n\t    })\n\t    .catch(function (error) {\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\twindow.location.reload();\n\t\t\t\t},1000);\n\t      console.log(error);\n\t    });\n\t\t}\n\t}\n\n\tcomponentDidUpdate() {\n\t\tif (this.state.redirect) {\n\t\t\tthis.setState({\n\t\t\t\tredirect: false\n\t\t\t})\n\t\t}\n\t}\n\trender() {\n\t\tvar link = \"\";\n\t\tlet sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive!=='true') {\n\t    link = (\n\t      <span className=\"href-btn\" onClick={this.props.loginModalOpen}><i className=\"fa fa-user-circle\"></i> Login/Register</span>\n\t    );\n\t\t}\n\t\telse {\n\t\t\tlet userName = sessionStorage.getItem(\"userName\");\n\t\t\tlet dropdownTitle = <span><i className=\"fa fa-user-circle\"></i> {userName}</span>;\n\t\t\tlink = (\n\t\t\t\t<DropdownButton\n\t\t\t\t\tbsSize=\"small\"\n\t\t\t\t\ttitle={dropdownTitle}\n\t\t\t\t\tkey=\"user-dropdown\"\n\t\t\t\t\tid={\"session-dropdown\"}\n\t\t\t\t>\n\t\t\t\t\t<MenuItem eventKey=\"1\" componentClass={Link} href=\"/user-profile\" to=\"/user-profile\"><i className=\"fa fa-user\"></i> Profile</MenuItem>\n\t\t\t\t\t<MenuItem eventKey=\"2\" componentClass={Link} href=\"/user-letter/0\" to=\"/user-letter/0\"><i className=\"fa fa-file-o\"></i> Add new Letter</MenuItem>\n\t\t\t\t\t<MenuItem eventKey=\"3\" componentClass={Link} href=\"/user-letters\" to=\"/user-letters\"><i className=\"fa fa-files-o\"></i> My letters</MenuItem>\n\t\t\t\t\t<MenuItem eventKey=\"4\" componentClass={Link} href=\"/user-transcriptions\" to=\"/user-transcriptions\"><i className=\"fa fa-file-text-o\"></i> My transcriptions</MenuItem>\n\t\t\t\t\t<MenuItem eventKey=\"5\" onClick={this.handleLogout}><i className=\"fa fa-sign-out\"></i> Logout</MenuItem>\n\t\t\t\t</DropdownButton>\n\t    );\n\t\t}\n\t\tlet loginErrorHTML = \"\";\n\t\tif (this.state.login_error.length>0) {\n\t\t\tloginErrorHTML = this.state.login_error;\n\t\t}\n    const modal = (\n      <Modal\n        show={this.props.loginModalVisile}\n        onHide={this.props.loginModalHide}\n\t\t\t\tbsSize=\"small\">\n        <Modal.Header closeButton>\n          <Modal.Title><i className=\"fa fa-user-circle\"></i> Login</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n\t\t\t\t\t<form name=\"login-form\" onSubmit={this.handleFormSubmit}>\n\t\t\t\t\t\t<div className={this.state.login_error_class}>{loginErrorHTML}</div>\n\t\t\t\t\t\t<div className=\"form-group has-feedback\">\n\t\t\t\t\t\t\t<input name=\"email\" type=\"email\" className=\"form-control\" placeholder=\"Email\" value={this.state.email} onChange={this.handleFormChange} />\n\t\t\t\t\t\t\t<span className=\"glyphicon glyphicon-envelope form-control-feedback\"></span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<div className=\"form-group has-feedback\">\n\t\t\t        <input name=\"password\" type=\"password\" className=\"form-control\" placeholder=\"Password\" value={this.state.password} onChange={this.handleFormChange} />\n\t\t\t        <span className=\"glyphicon glyphicon-lock form-control-feedback\"></span>\n\t\t\t      </div>\n\t\t\t\t\t\t<div className=\"row\">\n\t\t\t        <div className=\"col-xs-8\">\n\t\t\t          <div className=\"checkbox\">\n\t\t\t            <label>\n\t\t\t\t\t\t\t\t\t\t<input name=\"remember_me\" type=\"checkbox\" value={this.state.remember_me} onChange={this.handleFormChange} /> Remember Me\n\t\t\t            </label>\n\t\t\t          </div>\n\t\t\t        </div>\n\t\t\t        <div className=\"col-xs-4\">\n\t\t\t         \t<button type=\"submit\" className=\"btn btn-primary btn-block btn-flat\">Sign In</button>\n\t\t\t        </div>\n\t\t\t\t\t\t\t<div className=\"col-xs-12\">\n\t\t\t\t\t\t\t\t<Link to=\"/password-restore\" onClick={this.props.loginModalHide}>I forgot my password</Link><br/>\n\t\t\t\t\t\t\t\t<Link to=\"/register\" onClick={this.props.loginModalHide}>Register for a new account</Link>\n\t\t\t\t\t\t\t</div>\n\t\t\t      </div>\n\t\t\t\t\t</form>\n        </Modal.Body>\n      </Modal>\n    );\n\n\t\tlet redirectElement;\n    if (this.state.redirect===true) {\n      redirectElement = <Redirect to='/'/>\n    }\n\n\t\treturn (\n        <li className=\"admin-menu\">\n\t\t\t\t\t{redirectElement}\n          {link}\n          {modal}\n        </li>\n\t\t);\n\t}\n}\n\nexport default LoginModal;\n","import React from 'react';\nimport {Redirect} from 'react-router-dom';\n\nclass SearchInput extends React.Component {\n  constructor(props) {\n    super();\n    this.state ={\n      term: \"\",\n      redirect: false\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      term: event.target.value,\n      redirect: false\n    });\n  }\n\n  handleSubmit(event) {\n    event.preventDefault();\n    this.setState({\n      redirect: true\n    });\n  }\n\n  componentDidMount() {\n    this.setState({\n      redirect: false\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.redirect===false && this.state.redirect===true) {\n      this.setState({\n        redirect: false\n      });\n    }\n  }\n\n  render() {\n    let redirectElement;\n    if (this.state.redirect===true) {\n      redirectElement = <Redirect to={{\n        pathname: '/fullsearch/'+this.state['term'],\n        state: {from: 'header_search'},\n        key: 'header_search'\n      }}\n      />\n    }\n    return (\n      <div>\n        <form name=\"search-letters-input\" onSubmit={this.handleSubmit}>\n          <div className=\"input-group\">\n            <input onChange={this.handleChange} value={this.state.term} name=\"search-bar\" type=\"text\" className=\"form-control\" placeholder=\"Search Letters 1916-1923\" />\n            <span className=\"input-group-btn\">\n              <button className=\"btn btn-default\" onClick={this.handleSubmit} type=\"button\" id=\"search-letters-submit\">Search</button>\n            </span>\n          </div>\n        </form>\n        {redirectElement}\n      </div>\n    )\n  }\n}\n\nexport default SearchInput;\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport logo from '../assets/images/logo-update.png';\nimport LoginModal from '../components/login.modal';\nimport SearchInput from '../components/header-search';\n\nexport default class pageHeader extends Component {\n  render() {\n\n    return (\n      <div className=\"page-header\">\n        <div className=\"top-bar\">\n          <div className=\"wrapper\">\n            <div className=\"container\">\n              <ul className=\"pull-left social-icons\">\n                <li><a href='https://www.facebook.com/lettersof1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-facebook\"></i></a></li>\n                <li><a href='https://twitter.com/Letters1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-twitter\"></i></a></li>\n                <li><a href='http://letters1916.tumblr.com/' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-tumblr\"></i></a></li>\n                <li><a href='https://soundcloud.com/letters-1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-soundcloud\"></i></a></li>\n                <li><Link to='/wp-post/contact-us-2' href='/wp-post/contact-us-2'><i className=\"fa fa-envelope\"></i></Link></li>\n              </ul>\n              <ul className=\"pull-right\">\n                <LoginModal\n                  loginModalVisile={this.props.loginModalVisile}\n                  loginModalHide={this.props.loginModalHide}\n                  loginModalOpen={this.props.loginModalOpen}\n                 />\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className=\"wrapper page-header-wrapper\">\n          <div className=\"header-logo-row\">\n            <div className=\"col-xs-12 col-sm-8 col-md-8\"></div>\n            <div className=\"col-xs-12 col-sm-4 col-md-4 logo-r\"></div>\n          </div>\n          <div className=\"container header-logo-container\">\n            <div className=\"col-xs-12 col-sm-8 col-md-8 logo-l\">\n              <Link to=\"/\"><img src={logo} className=\"logo-img img-responsive\" alt=\"Letters 1916-1923\" /></Link>\n            </div>\n            <div className=\"col-xs-12 col-sm-4 col-md-4 logo-r\">\n              <SearchInput/>\n            </div>\n          </div>\n\n\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport {APIPath} from '../common/constants.js';\n\nexport default class NewsletterSubscribe extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      loader: false,\n      subscribeResponse: '',\n      subscribeResponseHidden: true,\n    }\n\n    this.handleEmailChange = this.handleEmailChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleEmailChange(event) {\n    const target = event.target;\n    const value = target.value;\n\n    this.setState({\n      email: value\n    });\n  }\n\n  handleFormSubmit(event) {\n\t\tevent.preventDefault();\n    this.setState({\n      loader: true\n    });\n\t\tlet context = this;\n\n    axios.post(APIPath+'subscribe-to-newsletter', {\n      email: this.state.email.trim(),\n    })\n\t  .then(function (response) {\n      let responseMessage = response.data.message;\n      let subscribeResponse = \"\";\n      if (responseMessage.status===\"subscribed\") {\n        subscribeResponse = \"Thank you for subscribing to our mailing list!\";\n      }\n      context.setState({\n        subscribeResponse: subscribeResponse,\n        subscribeResponseHidden: false,\n        formHiddenClass: true,\n        loader:false\n      });\n      setTimeout(function() {\n        context.setState({\n          subscribeResponse: '',\n          subscribeResponseHidden: true,\n          formHiddenClass: false\n        });\n      },2000);\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n  render() {\n    let subscribeResponseHiddenClass = \" hidden\";\n    let formHiddenClass = \"\";\n    if (!this.state.subscribeResponseHidden) {\n      subscribeResponseHiddenClass = \"\";\n      formHiddenClass = \" hidden\";\n    }\n    let loader = '';\n    if (this.state.loader) {\n      loader = <i className=\"fa fa-circle-o-notch fa-spin\"></i>;\n    }\n    return (\n      <div className=\"newsletter-subscribe-footer\">\n        <div className={\"newsletter-subscribe-response\"+subscribeResponseHiddenClass}>{this.state.subscribeResponse}</div>\n        <form onSubmit={this.handleFormSubmit} className={formHiddenClass}>\n          <div className=\"input-group input-group-sm\">\n            <input name=\"email\" type=\"email\" className=\"form-control\" placeholder=\"Email Address\" value={this.state.email} onChange={this.handleEmailChange} />\n            <span className=\"input-group-btn\">\n              <button type=\"submit\" className=\"btn btn-letters btn-flat\">Subscribe {loader}</button>\n            </span>\n          </div>\n        </form>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport {NormalizeMenuWPURL} from '../helpers/helpers.js';\n\nexport default class FooterMenu extends Component {\n  constructor() {\n    super();\n    this.state = {\n      navItems: [],\n    };\n  }\n\n  getItems() {\n    if (sessionStorage.getItem(\"footermenu_items\")!==null && sessionStorage.getItem(\"footermenu_items\").length>0) {\n      let itemsJSON = JSON.parse(sessionStorage.getItem(\"footermenu_items\"));\n      let newContent = itemsJSON.data;\n      this.parseJSON(newContent);\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"menu/?menu=footer-menu\")\n    \t  .then(function (response) {\n          sessionStorage.setItem(\"footermenu_items\", JSON.stringify(response));\n          let newContent = response.data;\n          context.parseJSON(newContent);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  parseJSON(data) {\n    let navItems = [];\n    for (let i=0; i<data.length; i++) {\n      let menuItem = data[i];\n      let relAttr = \"\";\n      let itemURL = NormalizeMenuWPURL(menuItem.url);\n      if (menuItem.target===\"_blank\") {\n        relAttr = \"noopener noreferrer\";\n      }\n\n      let navItem = <li key={i}>\n        <Link href={itemURL} to={itemURL} target={menuItem.target} rel={relAttr}>{menuItem.title}</Link>\n      </li>;\n      navItems.push(navItem);\n    }\n    this.setState({\n      navItems: navItems\n    });\n\n  }\n\n\n  componentDidMount() {\n    this.getItems();\n  }\n\n  render() {\n    return (\n      <ul className=\"footer-menu\">\n        {this.state.navItems}\n      </ul>\n    )\n  }\n}\n","import React from 'react';\nimport MULogo from '../assets/images/mu-logo-white-footer.png';\nimport IRCLogo from '../assets/images/IRC_LOGO_White.png';\nimport SFILogo from '../assets/images/SFI_logo_2017_greyscaled.png';\nimport NewsletterSubscribe from '../helpers/subscribe-to-newsletter';\nimport FooterMenu from '../components/footer-menu';\nimport {Link} from 'react-router-dom';\n\nlet date = new Date();\nlet year = date.getFullYear();\nconst pageFooter = () => (\n  <div className=\"page-footer\">\n    <div className=\"footer-content\">\n      <div className=\"container\">\n        <div className=\"row\">\n\n          <div className=\"col-xs-12 col-sm-4 col-md-3 col-lg-3 pull-left\">\n            <a href=\"https://www.maynoothuniversity.ie/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              <img src={MULogo} alt=\"Maynooth University\" className=\"img-responsive footer-logo\" />\n            </a><br/>\n            <a href=\"http://research.ie/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              <img src={IRCLogo} alt=\"Irish Research Counsil\" className=\"img-responsive footer-logo\" />\n            </a><br/>\n            <a href=\"https://www.sfi.ie/\" target=\"_blank\" rel=\"noopener noreferrer\">\n              <img src={SFILogo} alt=\"Science Foundation Ireland\" className=\"img-responsive footer-logo\" />\n            </a>\n          </div>\n\n          <div className=\"col-xs-12 col-sm-3 col-md-3 col-lg-3\">\n            <FooterMenu />\n          </div>\n\n          <div className=\"col-xs-12 col-sm-5 col-md-6 col-lg-6\">\n\n            <ul className=\"footer-social-links\">\n              <li><a href='https://www.facebook.com/lettersof1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-facebook\"></i></a></li>\n              <li><a href='https://twitter.com/Letters1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-twitter\"></i></a></li>\n              <li><a href='http://letters1916.tumblr.com/' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-tumblr\"></i></a></li>\n              <li><a href='https://soundcloud.com/letters-1916' target='_blank' rel=\"noopener noreferrer\"><i className=\"fa fa-soundcloud\"></i></a></li>\n              <li><Link to='/wp-post/contact-us-2' href='/wp-post/contact-us-2'><i className=\"fa fa-envelope\"></i></Link></li>\n            </ul>\n            <NewsletterSubscribe />\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div className=\"footer-rights\">\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-12 col-md-12 col-lg-12\">COPYRIGHT © 2016 - {year} LETTERS 1916-1923.</div>\n        </div>\n      </div>\n    </div>\n\n  </div>\n);\nexport default pageFooter;\n","import React, {Component} from 'react';\nimport {Redirect} from 'react-router';\nimport {Link} from 'react-router-dom';\nimport {Navbar, Nav, NavItem, NavDropdown} from 'react-bootstrap';\nimport {bootstrapUtils} from 'react-bootstrap/lib/utils';\nimport logoSmall from '../assets/images/logo-stamp-small.png';\nimport axios from 'axios';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport {NormalizeMenuWPURL} from '../helpers/helpers.js';\n\n\nbootstrapUtils.addStyle(Navbar, \"none\");\n\nclass MainNavbar extends Component {\n  constructor() {\n    super();\n    this.state = {\n      fixed: false,\n      navItems: [],\n      redirectTarget: \"\",\n      redirect: false\n    };\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  getItems() {\n    if (sessionStorage.getItem(\"menu_items\")!==null && sessionStorage.getItem(\"menu_items\").length>0) {\n      let itemsJSON = JSON.parse(sessionStorage.getItem(\"menu_items\"));\n      let newContent = itemsJSON.data;\n      this.parseJSON(newContent);\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"menu/?menu=menu-2018\")\n    \t  .then(function (response) {\n          sessionStorage.setItem(\"menu_items\", JSON.stringify(response));\n          let newContent = response.data;\n          context.parseJSON(newContent);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  parseJSON(data) {\n    let newArray = [];\n    for (let i=0; i<data.length; i++) {\n      let menuItem = data[i];\n      if (menuItem.menu_item_parent===\"0\") {\n        let parent = menuItem;\n        let parentId = parseInt(menuItem.ID,10);\n        parent['children']=this.getchildren(parentId, data);\n        newArray.push(parent);\n      }\n    }\n    this.createMenu(newArray);\n  }\n\n  getchildren(parentId, data) {\n    let children = [];\n\n    for (let j=0;j<data.length; j++) {\n      let childItem = data[j];\n      let childItemParentId = parseInt(childItem.menu_item_parent,10);\n      if (childItemParentId===parentId) {\n        let childItemID = parseInt(childItem.ID,10);\n        childItem['children']=this.getchildren(childItemID, data);\n        children.push(childItem);\n      }\n    }\n    return children;\n  }\n\n  createMenu(data) {\n    let navItems = [];\n    for (let i=0; i<data.length; i++) {\n      let item = data[i];\n      let navItem = this.createNavItem(i,item);\n      navItems.push(navItem);\n    }\n    this.setState({\n      navItems: navItems\n    });\n  }\n\n  navTo(url) {\n    this.setState({\n      redirect: true,\n      redirectTarget: url,\n    });\n  }\n\n  createNavItem(i, item) {\n    let navItem;\n    let itemURL = NormalizeMenuWPURL(item.url);\n    if (item.children.length===0) {\n      navItem = <NavItem componentClass={Link} href={itemURL} to={itemURL} key={i}><div dangerouslySetInnerHTML={{__html: item.title}}></div></NavItem>;\n    }\n    else {\n      let menuItemChildren = this.createNavItemChildren(i,item.children);\n            navItem = <NavDropdown\n              eventKey={i}\n              key={i}\n              title={item.title}\n              id={\"nav-dropdown-\"+i}\n              componentClass={Link}\n              onClick={this.navTo.bind(this, itemURL)}\n              to={itemURL}\n              noCaret>\n                {menuItemChildren}\n            </NavDropdown>;\n    }\n    return navItem;\n  }\n\n  createNavItemChildren(i,children) {\n    let childrenItems = [];\n    for (let j=0; j<children.length; j++) {\n      let child = children[j];\n      let childURL = NormalizeMenuWPURL(child.url);\n      let childrenItem;\n      if (child.children.length===0) {\n        childrenItem = <NavItem componentClass={Link} href={childURL} to={childURL} key={i+\".\"+j}><div dangerouslySetInnerHTML={{__html: child.title}}></div></NavItem>;\n      }\n      else {\n        let menuItemChildren = this.menuItemChildren(i,child.children);\n        childrenItem = <NavDropdown\n          key={i+\".\"+j}\n          title={child.title}\n          id={\"nav-dropdown-\"+i+\".\"+j}\n          noCaret\n          componentClass={Link}\n          onClick={this.navTo.bind(this, childURL)}\n          href={childURL}\n          >\n            {menuItemChildren}\n        </NavDropdown>;\n      }\n\n      childrenItems.push(childrenItem);\n    }\n    return childrenItems;\n  }\n\n  componentDidMount() {\n    this.getItems();\n    window.addEventListener('scroll', this.handleScroll);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.redirect===false && this.state.redirect===true) {\n      this.setState({\n        redirect: false,\n        redirectTarget: \"\"\n      });\n    }\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleScroll(event) {\n    if (window.scrollY>135) {\n      this.setState({fixed:true});\n    }\n    else {\n      this.setState({fixed:false});\n    }\n  }\n\n  render() {\n    let fixedClass='';\n    if (this.state.fixed) {\n      fixedClass = \"fixed\";\n    }\n    let redirect;\n    if (this.state.redirect) {\n      redirect = <Redirect push to={this.state.redirectTarget}  />;\n    }\n    return (\n      <div className={'navbar-container '+fixedClass }>\n        <Navbar collapseOnSelect bsStyle=\"none\">\n          <Navbar.Header>\n            <Navbar.Brand>\n              <NavItem componentClass={Link} href=\"/\" to=\"/\"><img src={logoSmall} alt=\"Letters 1916-1923\" /></NavItem>\n            </Navbar.Brand>\n            <Navbar.Toggle />\n          </Navbar.Header>\n          <Navbar.Collapse>\n            <Nav>\n              {this.state.navItems}\n            </Nav>\n          </Navbar.Collapse>\n        </Navbar>\n        {redirect}\n      </div>\n    )\n  }\n}\nexport default MainNavbar;\n","import React from 'react';\nimport ScrollUp from 'react-scroll-up';\n\nconst ScrollToTopStyle = {\n  \"position\": \"fixed\",\n  \"bottom\": \"50px\",\n  \"right\": \"30px\",\n  \"cursor\": \"pointer\",\n  \"transition\": \"opacity 0.2s linear 0s, visibility\",\n  \"opacity\": \"1\",\n  \"visibility\": \"visible\",\n  \"zIndex\": \"999\"\n}\nconst ScrollToTop = () => (\n  <ScrollUp showUnder={160} style={ScrollToTopStyle}>\n    <div className=\"scroll-up\">\n      <i className=\"fa-chevron-up fa\"></i>\n    </div>\n  </ScrollUp>\n)\nexport default ScrollToTop;\n","import React from 'react';\nimport {getCookie, setCookie} from '../helpers/helpers';\n\nexport default class CookiesConsent extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      visible: true\n    }\n    this.isVisible = this.isVisible.bind(this);\n    this.acceptConsent = this.acceptConsent.bind(this);\n  }\n\n  isVisible() {\n    let accepted = getCookie(\"l191623_cookies_consent\");\n    if (accepted===\"true\") {\n      this.setState({\n        visible: false\n      });\n    }\n  }\n\n  acceptConsent() {\n    let currentDate = new Date();\n    let nextMonth = new Date();\n    nextMonth.setDate(currentDate.getDate() + 30);\n    setCookie(\"l191623_cookies_consent\", \"true\", nextMonth);\n    this.setState({\n      visible: false\n    });\n  }\n\n  componentDidMount() {\n    this.isVisible();\n  }\n\n  render() {\n    let hiddenClass=\"\";\n    if (!this.state.visible) {\n      hiddenClass = \" hidden\";\n    }\n    return(\n      <div className={\"cookies-consent-container\"+hiddenClass}>\n        <div className=\"cookies-consent-content\">\n          <p>The Letters 1916-23 website uses cookies to ensure the best experience for our visitors. By continuing to use the Letters 1916-23 website you are agreeing to our <a href=\"/wp-post/letters-1916-1923-cookie-policy\">\n          <i className=\"fa fa-question-circle\"></i> cookies policy</a></p>\n\n          <button type=\"button\" className=\"btn btn-letters\" onClick={this.acceptConsent}>Accept</button>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {Carousel} from 'react-bootstrap';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport cheerio from 'cheerio';\nimport {WPRestPath} from '../common/constants.js';\n\n\nimport defaultImg from '../assets/images/carousel/default.png';\n\nclass ControlledCarousel extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.handleSelect = this.handleSelect.bind(this);\n    this.parseCarouselJSON = this.parseCarouselJSON.bind(this);\n\n    this.state = {\n      loading: true,\n      index: 0,\n      direction: null,\n      nextIcon: <span className=\"fa fa-angle-right\"></span>,\n      prevIcon: <span className=\"fa fa-angle-left\"></span>,\n      images: []\n    };\n  }\n\n  handleSelect(selectedIndex, e) {\n    this.setState({\n      index: selectedIndex,\n      direction: e.direction\n    });\n  }\n\n  getImages() {\n    if (sessionStorage.getItem(\"carousel_images\")!==null && sessionStorage.getItem(\"carousel_images\").length>0) {\n      let carouselJSON = JSON.parse(sessionStorage.getItem(\"carousel_images\"));\n      let newContent = carouselJSON.data[0].content.rendered;\n      this.parseCarouselJSON(newContent);\n    }\n    else {\n      let context = this;\n      axios.get(WPRestPath+\"pages/?slug=carousel\")\n    \t  .then(function (response) {\n          let newContent = response.data[0].content.rendered;\n          context.parseCarouselJSON(newContent);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  parseCarouselJSON(carouselJSON) {\n    let $ = cheerio.load(carouselJSON);\n    let images = [];\n    $('figure').each(function(index,element) {\n      let imagePath = $(this).children(\"img\").attr(\"src\");\n      let imageTitle = $(this).children(\"a\").children(\"img\").attr(\"title\");\n      let imageDescription = $(this).children(\"figcaption\").html();\n      let carouselItemStyle = {\n        backgroundImage: 'url('+imagePath+')',\n        backgroundSize: 'cover',\n      }\n      let carouselTitle = \"\";\n      if (imageTitle !==\"\") {\n        carouselTitle = <h3>{carouselTitle}</h3>;\n      }\n      let carouseDescription = \"\";\n      if (imageDescription!==\"\") {\n        carouseDescription = <p>{imageDescription}</p>;\n      }\n      let carouselItem = <Carousel.Item key={index}>\n        <div className=\"carousel-img\" style={carouselItemStyle}></div>\n        <img width={1170} height={585} alt=\"\" src={defaultImg} />\n        <Carousel.Caption>\n          {carouselTitle}\n          {carouseDescription}\n        </Carousel.Caption>\n      </Carousel.Item>\n      images.push(carouselItem);\n    });\n\n    this.setState({\n      images: images,\n      loading: false\n    });\n  }\n\n  componentDidMount() {\n    this.getImages();\n  }\n\n  render() {\n    const { index, direction } = this.state;\n    let content;\n    let extraStyle = {\n      minHeight: \"250px\",\n      paddingTop: \"100px\"\n    }\n    if (this.state.loading) {\n      content = <div style={extraStyle}>\n          <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>\n        </div>;\n    }\n    else {\n      content = <Carousel\n        activeIndex={index}\n        direction={direction}\n        onSelect={this.handleSelect}\n        nextIcon={this.state.nextIcon}\n        prevIcon={this.state.prevIcon}\n        index={this.state.index}\n      >\n        {this.state.images}\n      </Carousel>;\n    }\n    let defaultStyle = {\n      minHeight: \"250px\"\n    }\n    return (\n      <div style={defaultStyle}>\n        {content}\n      </div>\n    );\n  }\n}\n\nexport default ControlledCarousel;\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport axios from 'axios';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport ReactLoading from 'react-loading';\nimport {stripHTML} from '../helpers/helpers.js';\n\nexport default class HomeAbout extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      about: [],\n      loading: true\n    };\n  }\n\n  loadAbout() {\n    if (sessionStorage.getItem(\"home_about\")!==null && sessionStorage.getItem(\"home_about\").length>0) {\n      let about = JSON.parse(sessionStorage.getItem(\"home_about\"));\n      this.setState({\n        about:about,\n        loading: false\n      });\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"post\", {\n          params: {\n            \"slug\": \"about-the-project\"\n          }\n        })\n    \t  .then(function (response) {\n          let newData = response.data;\n          let newTitle = newData.post_title;\n          let newContent = stripHTML(newData.post_excerpt);\n          let about = {\n            title: newTitle,\n            content: newContent,\n            slug: newData.slug\n          }\n          context.setState({\n            about:about,\n            loading: false\n          });\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  componentDidMount() {\n    this.loadAbout();\n  }\n\n    render() {\n      let content;\n      if (this.state.loading) {\n        content = <div>\n            <div className=\"loader-container\">\n            <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n            </div>\n          </div>;\n      }\n      else {\n        content = <div>\n            <h2>{this.state.about.title}</h2>\n            <div dangerouslySetInnerHTML={{__html: this.state.about.content}} className=\"wrap-text\"></div>\n            <br/>\n            <Link className=\"btn btn-default\" to={\"/wp-post/about-the-project\"}>Read more...</Link>\n          </div>\n      }\n      return(\n        <div>\n        {content}\n        </div>\n      )\n    }\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nimport {domain} from '../common/constants';\nimport axios from 'axios';\nimport {WPCustomRestPath} from '../common/constants.js';\n\nexport default class HomeLettersBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      block1: {\n        url: '',\n        thumbnail: [],\n        title: '',\n        content: '',\n      },\n      block2: {\n        url: '',\n        thumbnail: [],\n        title: '',\n        content: '',\n      },\n      block3: {\n        url: '',\n        thumbnail: [],\n        title: '',\n        content: '',\n      },\n    }\n\n    this.createBlock = this.createBlock.bind(this);\n  }\n\n  loadBlock1() {\n    if (sessionStorage.getItem(\"home_discover_collection\")!==null && sessionStorage.getItem(\"home_discover_collection\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"home_discover_collection\"));\n      let block = this.createBlock(data, true);\n      this.setState({\n        block1: {\n          url: block.url,\n          thumbnail: block.thumbnail,\n          title: block.title,\n          content: block.content,\n        }\n      });\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"post\", {\n          params: {\n            \"slug\": \"discover-the-collection\"\n          }\n        })\n        .then(function (response) {\n          let newData = response.data;\n          let discoverPost = {\n            title: newData.post_title,\n            content: newData.post_excerpt,\n            slug: newData.slug,\n            thumbnail: newData.thumbnail,\n            permalink: newData.permalink,\n          }\n          let block = context.createBlock(discoverPost, true);\n          context.setState({\n            block1: {\n              url: block.url,\n              thumbnail: block.thumbnail,\n              title: block.title,\n              content: block.content,\n            }\n          });\n        })\n        .catch(function (error) {\n          console.log(error);\n      });\n    }\n  }\n\n  loadBlock2() {\n    if (sessionStorage.getItem(\"home_transcribe_letters\")!==null && sessionStorage.getItem(\"home_transcribe_letters\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"home_transcribe_letters\"));\n      let block = this.createBlock(data, false);\n      this.setState({\n        block2: {\n          url: block.url,\n          thumbnail: block.thumbnail,\n          title: block.title,\n          content: block.content,\n        }\n      });\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"post\", {\n          params: {\n            \"slug\": \"transcribe-letters\"\n          }\n        })\n        .then(function (response) {\n          let newData = response.data;\n          let discoverPost = {\n            title: newData.post_title,\n            content: newData.post_excerpt,\n            slug: newData.slug,\n            thumbnail: newData.thumbnail,\n            permalink: newData.permalink,\n          }\n          let block = context.createBlock(discoverPost, false);\n          context.setState({\n            block2: {\n              url: block.url,\n              thumbnail: block.thumbnail,\n              title: block.title,\n              content: block.content,\n            }\n          });\n        })\n        .catch(function (error) {\n          console.log(error);\n      });\n    }\n  }\n\n  loadBlock3() {\n    if (sessionStorage.getItem(\"home_contribute\")!==null && sessionStorage.getItem(\"home_contribute\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"home_contribute\"));\n      let block = this.createBlock(data, false);\n      this.setState({\n        block3: {\n          url: block.url,\n          thumbnail: block.thumbnail,\n          title: block.title,\n          content: block.content,\n        }\n      });\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"post\", {\n          params: {\n            \"slug\": \"contribute-letters\"\n          }\n        })\n        .then(function (response) {\n          let newData = response.data;\n          let discoverPost = {\n            title: newData.post_title,\n            content: newData.post_excerpt,\n            slug: newData.slug,\n            thumbnail: newData.thumbnail,\n            permalink: newData.permalink,\n          }\n          let block = context.createBlock(discoverPost, false);\n          context.setState({\n            block3: {\n              url: block.url,\n              thumbnail: block.thumbnail,\n              title: block.title,\n              content: block.content,\n            }\n          });\n        })\n        .catch(function (error) {\n          console.log(error);\n      });\n    }\n  }\n\n  createBlock(data, browse=false) {\n    if (data.length===0) {\n      return false;\n    }\n    let url = 'wp-post'+data.permalink.replace(domain, '');\n    if (browse) {\n      url = \"/browse\";\n    }\n\n    let block = {\n      url: url,\n      thumbnail: data.thumbnail,\n      title: data.title,\n      content: data.content,\n    }\n    return block;\n  }\n\n  componentDidMount() {\n    this.loadBlock1();\n    this.loadBlock2();\n    this.loadBlock3();\n  }\n\n  render() {\n    return (\n      <section className=\"home-blocks\">\n        <div className=\"container\">\n          <div className=\"row\">\n\n            <div className=\"col-xs-12 col-sm-4\">\n              <div className=\"home-block\">\n                <div className=\"home-block-thumbnail\">\n                  <Link href={this.state.block1.url} to={this.state.block1.url}>\n                    <img src={this.state.block1.thumbnail} alt={this.state.block1.title} className=\"img-responsive\"/>\n                  </Link>\n                </div>\n                <h4><Link href={this.state.block1.url} to={this.state.block1.url}>{this.state.block1.title}</Link></h4>\n                <p>{this.state.block1.content}</p>\n              </div>\n            </div>\n\n            <div className=\"col-xs-12 col-sm-4\">\n              <div className=\"home-block\">\n                <div className=\"home-block-thumbnail\">\n                  <Link href={this.state.block2.url} to={this.state.block2.url}>\n                    <img src={this.state.block2.thumbnail} alt={this.state.block2.title} className=\"img-responsive\"/>\n                  </Link>\n                </div>\n                <h4><Link href={this.state.block2.url} to={this.state.block2.url}>{this.state.block2.title}</Link></h4>\n                <p>{this.state.block2.content}</p>\n              </div>\n            </div>\n\n            <div className=\"col-xs-12 col-sm-4\">\n              <div className=\"home-block\">\n                <div className=\"home-block-thumbnail\">\n                  <Link href={this.state.block3.url} to={this.state.block3.url}>\n                    <img src={this.state.block3.thumbnail} alt={this.state.block3.title} className=\"img-responsive\"/>\n                  </Link>\n                </div>\n                <h4><Link href={this.state.block3.url} to={this.state.block3.url}>{this.state.block3.title}</Link></h4>\n                <p>{this.state.block3.content}</p>\n              </div>\n            </div>\n\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport OwlCarousel from 'react-owl-carousel';\nimport {Link} from 'react-router-dom';\n\nexport default class HighlightsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"highlights_list\")!==null && sessionStorage.getItem(\"highlights_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"highlights_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"category?slug=highlights&posts_per_page=9\")\n    \t  .then(function (response) {\n          let data = response.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let highlight = data[i];\n      let descriptionText = highlight.post_excerpt.replace(/<[^>]+>/ig,\" \");\n      descriptionText = descriptionText.replace(\"&amp;\", \"&\");\n      if (descriptionText.length>100) {\n        descriptionText = descriptionText.substring(0,100)+\"...\";\n      }\n\n      let item = <div className=\"item\" key={i}>\n        <Link to={\"/wp-post/\"+highlight.post_name}>\n          <img src={highlight.thumbnail} className=\"img-responsive highlights-thumbnail\" alt={highlight.post_title} />\n        </Link>\n        <div className=\"home-collection\">\n          <h4><Link to={\"/wp-post/\"+highlight.post_name}>{highlight.post_title}</Link></h4>\n          <p>{descriptionText}</p>\n        </div>\n      </div>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let owlNavText = ['<i class=\"fa fa-angle-left\"></i>','<i class=\"fa fa-angle-right\"></i>'];\n    let owlResponsive = {\n        0:{\n            items:1\n        },\n        600:{\n            items:2\n        },\n        767:{\n            items:3\n        },\n        992: {\n          items:4\n        }\n    };\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content =  <div className=\"container\">\n          <OwlCarousel\n            className=\"owl-theme\"\n            autoplay={false}\n            autoplayhoverpause=\"true\"\n            margin={10}\n            nav\n            items={4}\n            navText={owlNavText}\n            navContainerClass='news-nav-class'\n            dots={false}\n            responsive={owlResponsive}\n            >\n            {this.state.items}\n          </OwlCarousel>\n          </div>;\n    }\n    return (\n      <section className=\"home-highlights\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <h2 className=\"section-title\">\n                <span>Highlights</span>\n              </h2>\n              {content}\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n","import React from 'react';\n\nexport default class TwitterFeed extends React.Component {\n\n\n    componentDidMount() {\n      let addScript = document.createElement('script');\n      let scriptContent = document.createTextNode('!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?\"http\":\"https\";if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+\"://platform.twitter.com/widgets.js\";fjs.parentNode.insertBefore(js,fjs);}}(document,\"script\",\"twitter-wjs\");');\n      addScript.appendChild(scriptContent);\n      document.body.appendChild(addScript);\n    }\n\n  render() {\n\n    return(\n      <div>\n        <a className=\"twitter-timeline\" data-height=\"480\" href=\"https://twitter.com/Letters1916\" data-widget-id=\"382284620286275584\" data-background=\"#fcfcf9\">Tweets by @Letters1916</a>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport mapThumb from '../assets/images/letters-map-thumbnail.png';\nimport graphThumb from '../assets/images/letters-graph-thumbnail.png';\nimport TwitterFeed from './twitter-feed';\n\nexport default class VizualizationsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  render() {\n    return (\n      <section className=\"home-vizualizations\">\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <div className=\"row\">\n                <div className=\"col-xs-12 col-sm-4\">\n                  <div className=\"vizualization-block\">\n                    <h3 className=\"section-title\">\n                      <span>Interactive Map</span>\n                    </h3>\n                    <p className=\"text-justify\">Our interactive world map helps you discover the local and global networks in which Irish people interacted a century ago.</p>\n                    <Link to=\"/vizualizations/map\">\n                      <img src={mapThumb} alt=\"map vizualization thumbnail\" className=\"img-thumbnail img-responsive\" />\n                    </Link>\n                  </div>\n                </div>\n                <div className=\"col-xs-12 col-sm-4\">\n                  <div className=\"vizualization-block\">\n                    <h3 className=\"section-title\">\n                      <span>Network diagram</span>\n                    </h3>\n                    <p>Based on more than 5000 letters by over 2000 correspondents, this diagram provides an insight into their professional and private relationships.</p>\n                    <Link to=\"/vizualizations/graph\">\n                      <img src={graphThumb} alt=\"graph vizualization thumbnail\" className=\"img-thumbnail img-responsive\" />\n                    </Link>\n                  </div>\n                </div>\n                <div className=\"col-xs-12 col-sm-4\">\n                  <TwitterFeed />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport OwlCarousel from 'react-owl-carousel';\nimport {Link} from 'react-router-dom';\nimport {stripHTML} from '../helpers/helpers.js';\n\nexport default class HomeNews extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"homenews_list\")!==null && sessionStorage.getItem(\"homenews_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"homenews_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(WPCustomRestPath+\"category?slug=news&posts_per_page=12&orderby=date\")\n    \t  .then(function (response) {\n          let data = response.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let highlight = data[i];\n      let descriptionText = stripHTML(highlight.post_excerpt);\n      if (descriptionText.length>100) {\n        descriptionText = descriptionText.substring(0,100)+\"...\";\n      }\n\n      let item = <div className=\"item\" key={i}>\n        <h4><Link to={\"/wp-post/\"+highlight.post_name}>{highlight.post_title}</Link></h4>\n        <div className=\"news-thumb\">\n\n          <Link to={\"/wp-post/\"+highlight.post_name}>\n            <img src={highlight.thumbnail} className=\"img-responsive highlights-thumbnail\" alt={highlight.post_title} />\n          </Link>\n          <p>{descriptionText}</p>\n        </div>\n      </div>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let owlNavText = ['<i class=\"fa fa-angle-left\"></i>','<i class=\"fa fa-angle-right\"></i>'];\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content =  <OwlCarousel className=\"owl-theme home-news\" loop margin={10} nav items={1} navText={owlNavText} navContainerClass='news-nav-class' dots={false}>\n            {this.state.items}\n          </OwlCarousel>;\n    }\n    return (\n      <div>\n        <h2>News</h2>\n        {content}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport Carousel from '../components/carousel.js';\nimport HomeAbout from '../components/home-about.js';\nimport HomeLettersBlock from '../components/home-letters-block.js';\nimport HighlightsBlock from '../components/highlights-block.js';\nimport VizualizationsBlock from '../components/home-vizualizations-block.js';\nimport HomeNews from '../components/home-news.js';\n\nexport class HomeView extends Component {\n\n  componentDidMount() {\n  }\n\n  render() {\n    return (\n      <div>\n        <div className=\"carousel-wrapper\">\n          <div className=\"container\">\n            <Carousel/>\n          </div>\n        </div>\n\n        <section className=\"home-section\">\n          <div className=\"container\">\n            <div className=\"row\">\n\n              <div className=\"col-xs-12 col-sm-7 col-md-8\">\n                <HomeAbout />\n              </div>\n\n              <div className=\"col-xs-12 col-sm-5 col-md-4\">\n                <HomeNews />\n              </div>\n\n            </div>\n          </div>\n        </section>\n\n        <HomeLettersBlock />\n\n        <HighlightsBlock />\n\n        <VizualizationsBlock />\n\n\n\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {Link} from 'react-router-dom';\n\nclass BreadCrumbs extends React.Component {\n  render() {\n    let items = this.props.items;\n    let itemsHTML = [];\n    for (let i=0; i<items.length; i++) {\n      let item = items[i];\n      let path = item.path;\n      let label = item.label;\n      let link = label;\n      if (path.length>0) {\n        link = <Link to={path}>{label}</Link>;\n      }\n      var listItem = <li key={i}>{link}</li>;\n      itemsHTML.push(listItem);\n    }\n    return (\n      <div className=\"breadcrumbs-container\">\n        <ul className=\"breadcrumbs-list\">\n          <li><Link to=\"/\"><i className=\"fa fa-home\"></i> Home</Link></li>\n          {itemsHTML}\n        </ul>\n      </div>\n    );\n  }\n}\n\nexport default BreadCrumbs;\n","import React, {Component} from 'react';\n\nexport default class Pagination extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      paginationItems: []\n    };\n  }\n\n  createPagination() {\n    // pagination\n    if (this.props) {\n      let currentPage = this.props.current_page;\n      let lastPage = this.props.total_pages;\n      let prevPage = 0;\n      let nextPage = 0;\n\n      if (currentPage<lastPage) {\n        nextPage = currentPage+1;\n      }\n      if (currentPage>1) {\n        prevPage = currentPage-1;\n      }\n      let paginationItems = [];\n      let paginationFirstItem = <li key=\"first\"><span className='href-btn' onClick={this.props.pagination_function.bind(this,1)}><i className=\"fa-step-backward fa\"></i></span></li>;\n      let paginationPrevItem = <li key=\"prev\"><span className='href-btn' onClick={this.props.pagination_function.bind(this,prevPage)}><i className=\"fa-backward fa\"></i></span></li>;\n      paginationItems.push(paginationFirstItem);\n      paginationItems.push(paginationPrevItem);\n\n      for (let j=0; j<parseInt(lastPage,10);j++) {\n        let pageNum = j+1;\n        let pageActive = \"\";\n\n        if (currentPage===pageNum) {\n          pageActive = \"active\";\n        }\n\n        let paginationItem =  <li key={pageNum} className={pageActive}><span className='href-btn' onClick={this.props.pagination_function.bind(this,pageNum)}>{pageNum}</span></li>;\n        if (pageActive === \"active\") {\n          paginationItem = <li key={pageNum} className={pageActive}><span>{pageNum}</span></li>;\n        }\n\n        if (parseInt(currentPage,10)<4 && j<10) {\n          paginationItems.push(paginationItem);\n        }\n        else if (j>(parseInt(currentPage,10)-6) && j<(parseInt(currentPage,10)+4) ){\n          paginationItems.push(paginationItem);\n        }\n      }\n      let paginationNextItem = <li key=\"next\"><span className='href-btn' onClick={this.props.pagination_function.bind(this,nextPage)}><i className=\"fa-forward fa\"></i></span></li>;\n      let paginationLastItem = <li key=\"last\"><span className='href-btn' onClick={this.props.pagination_function.bind(this,lastPage)}><i className=\"fa-step-forward fa\"></i></span></li>;\n      paginationItems.push(paginationNextItem);\n      paginationItems.push(paginationLastItem);\n      this.setState({\n        paginationItems: paginationItems\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.createPagination();\n  }\n  componentDidUpdate(prevProps, prevState) {\n    let context = this;\n    if (prevProps.total_pages!==this.props.total_pages) {\n        context.createPagination();\n    }\n    else if (prevProps.current_page!==this.props.current_page) {\n        context.createPagination();\n    }\n    else if (prevProps.paginate!==this.props.paginate) {\n        context.createPagination();\n    }\n  }\n\n  render() {\n    return (\n      <div className=\"pagination-container\">\n        <ul className=\"pagination pagination-sm\">\n          {this.state.paginationItems}\n        </ul>\n      </div>\n    )\n  }\n\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {Link} from 'react-router-dom';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath, domain} from '../common/constants';\nimport Pagination from '../helpers/pagination';\nimport {fixImagePath} from '../helpers/helpers';\n\nexport default class SearchLetters extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      term: this.props.term,\n      loading: false,\n      browseItems: [],\n      paginationItems: [],\n      current_page: 1,\n      from: 1,\n      last_page: 1,\n      path: APIPath+\"search/\",\n      total: 1,\n      paginate: 10,\n      gotopage_value: 1,\n      temp_page:1,\n      submitted_search: false,\n      submit_search: false\n    };\n\n    this.gotoPage = this.gotoPage.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n  }\n\n  gotoPage(pageNum) {\n    if (parseInt(pageNum,10)>0 && parseInt(pageNum,10)!==this.state.current_page) {\n      this.setState({\n        current_page:pageNum,\n        loading: true\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        gotopage_value:newPage,\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  showPage() {\n    let browseContext = this;\n    let term = this.props.term;\n    if (term!==\"\") {\n      let path = this.state.path+term;\n      axios.get(path, {\n          params: {\n            page: this.state.current_page,\n            paginate: this.state.paginate\n          }\n        })\n    \t  .then(function (response) {\n          let responseData = response.data.data;\n          let itemsData = responseData.data;\n          // list of items to display\n          let browseItems = [];\n          for (let i=0; i<itemsData.length; i++) {\n            let item = itemsData[i];\n            let pageNumber = 0;\n            let element = JSON.parse(item.element);\n            let defaultThumbnail = <img className=\"list-thumbnail img-responsive\" src={fixImagePath(domain+\"/diyhistory/archive/square_thumbnails/\"+element.pages[pageNumber].archive_filename)} alt={element.title} />;\n\n            let transcription = \"\";\n            if (element.pages[pageNumber].transcription!==\"\") {\n              let transcriptionText = element.pages[pageNumber].transcription.replace(/<[^>]+>/ig,\" \");\n              transcriptionText = transcriptionText.replace(\"&amp;\", \"&\");\n              if (transcriptionText.length>400) {\n                transcriptionText = transcriptionText.substring(0,400);\n              }\n\n              transcription = transcriptionText+\"...\";\n            }\n            var browseItem = <li data-id={item.id} key={i} className=\"img-clearfix\">\n                <Link to={ 'item/'+item.id}>{defaultThumbnail}</Link>\n                <h4>\n                  <Link to={ '/item/'+item.id}>{element.title}</Link><br/>\n                </h4>\n                <p>{transcription}</p>\n              </li>;\n            browseItems.push(browseItem);\n          }\n          if (browseItems.length===0) {\n            let empty = <li key={0}><i>There are no letters matching your search criteria</i></li>;\n            browseItems.push(empty);\n          }\n          // update state\n          browseContext.setState({\n            loading:false,\n            browseItems: browseItems,\n            current_page: responseData.current_page,\n            last_page: responseData.last_page,\n            total: responseData.total,\n            submit_search: false,\n            submitted_search: true\n          });\n    \t  })\n    \t  .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n    else {\n      this.setState({\n        loading: false,\n        submit_search: false\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.showPage();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.submit_search===true && prevProps.term!==this.props.term) {\n      this.setState({\n        loading: true\n      });\n    }\n\n    if (\n        (\n          prevState.current_page!==this.state.current_page ||\n          prevState.paginate!==this.state.paginate\n        ) && this.state.loading===true ) {\n          this.showPage();\n        }\n\n    if (prevState.submit_search!==this.props.submit_search) {\n        this.showPage();\n    }\n  }\n\n\n  render() {\n\n    let content;\n    let resultsFound = \"\";\n    let resultsText = \"results\";\n    if (this.state.total>0) {\n      if (this.state.total===1) {\n        resultsText = \"result\";\n      }\n      resultsFound = <div className=\"results-found\"><i>Found {this.state.total} {resultsText}</i></div>;\n    }\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"search-items\">{this.state.browseItems}</ul>;\n    }\n\n    let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n    if (this.state.paginate===10) {\n      paginate10Active = \"active\";\n    }\n    if (this.state.paginate===25) {\n      paginate25Active = \"active\";\n    }\n    if (this.state.paginate===50) {\n      paginate50Active = \"active\";\n    }\n\n    let paginationHTML = <div className=\"browse-filters\">\n\n      <DropdownButton\n        title=\"Limit\"\n        id=\"limit-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n        <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n      </DropdownButton>\n\n      <Pagination\n          paginate={this.state.paginate}\n          current_page={this.state.current_page}\n          total_pages={this.state.last_page}\n          pagination_function={this.gotoPage} />\n\n      <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n        <div className=\"input-group input-group-sm go-to-page\">\n          <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n          <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n          <span className=\"input-group-btn\">\n            <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n          </span>\n        </div>\n      </form>\n\n    </div>;\n\n    let searchContent = <div>\n      <p>&nbsp;</p>\n      <p>&nbsp;</p>\n      <p>&nbsp;</p>\n    </div>;\n    if ((this.props.term!==\"\" && this.state.browseItems.length>0) || this.state.submitted_search) {\n      searchContent = <div className=\"search-letters-container\">\n        <h3>Letters{resultsFound}</h3>\n        {paginationHTML}\n        {content}\n        {paginationHTML}\n      </div>;\n    }\n    return (\n        <div>\n          {searchContent}\n        </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {Link} from 'react-router-dom';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {WPCustomRestPath} from '../common/constants.js';\nimport {stripHTML} from '../helpers/helpers.js';\nimport Pagination from '../helpers/pagination.js';\nimport {domain} from '../common/constants.js';\n\nexport default class SearchWP extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      term: this.props.term,\n      loading: false,\n      browseItems: [],\n      paginationItems: [],\n      current_page: 1,\n      from: 1,\n      last_page: 1,\n      path: WPCustomRestPath+\"search/\",\n      per_page: 0,\n      to: 1,\n      total: 1,\n      paginate: 10,\n      gotopage_value: 1,\n      temp_page:1,\n      submit_search: false,\n      submitted_search: false\n    };\n\n    this.gotoPage = this.gotoPage.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n  }\n\n  gotoPage(pageNum) {\n    if (parseInt(pageNum,10)>0 && parseInt(pageNum,10)!==this.state.current_page) {\n      this.setState({\n        current_page:pageNum,\n        loading: true\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        gotopage_value:newPage,\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  showPage() {\n    let browseContext = this;\n    let term = this.props.term;\n    if (term!==\"\") {\n      let path = this.state.path;\n      axios.get(path, {\n          params: {\n            s: term,\n            page: this.state.current_page,\n            posts_per_page: this.state.paginate,\n          }\n        })\n    \t  .then(function (response) {\n          let responseData = response.data.data;\n          let itemsData = responseData.data;\n\n          // list of items to display\n          let browseItems = [];\n          for (let i=0; i<itemsData.length; i++) {\n            let item = itemsData[i];\n            let defaultThumbnail;\n            if (item.thumbnail!==\"\") {\n              defaultThumbnail = <img className=\"list-thumbnail img-responsive\" src={item.thumbnail} alt={item.post_title} />\n            }\n            let description = \"\";\n            if (item.description!==\"\") {\n              let descriptionText = stripHTML(item.description);\n              if (descriptionText.length>400) {\n                descriptionText = descriptionText.substring(0,400);\n              }\n\n              description = descriptionText+\"...\";\n            }\n            let newPermalink = '';\n            if (item.permalink!=='') {\n              newPermalink = item.permalink.replace(domain+\"/\", \"\");\n            }\n            var browseItem = <li data-id={item.ID} key={i} className=\"img-clearfix\">\n                <Link to={ 'wp-post/'+newPermalink}>{defaultThumbnail}</Link>\n                <h4><Link to={ '/wp-post/'+newPermalink}>{item.post_title}</Link></h4>\n                <p>{description}</p>\n              </li>;\n            browseItems.push(browseItem);\n          }\n          if (browseItems.length===0) {\n            let empty = <li key={0}><i>There are no articles matching your search criteria</i></li>;\n            browseItems.push(empty);\n          }\n\n          // update state\n          browseContext.setState({\n            loading:false,\n            browseItems: browseItems,\n            current_page: responseData.current_page,\n            last_page: responseData.last_page,\n            total: responseData.total,\n            submit_search: false,\n            submitted_search: true\n          });\n\n    \t  })\n    \t  .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n    else {\n      this.setState({\n        loading: false,\n        submit_search: false\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.showPage();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.props.submit_search===true && prevProps.term!==this.props.term) {\n      this.setState({\n        loading: true\n      });\n    }\n\n    if (\n        (\n          prevState.current_page!==this.state.current_page ||\n          prevState.paginate!==this.state.paginate\n        ) && this.state.loading===true ) {\n          this.showPage();\n        }\n\n    if (prevState.submit_search!==this.props.submit_search) {\n        this.showPage();\n    }\n  }\n\n\n  render() {\n\n    let content;\n    let resultsFound = \"\";\n    let resultsText = \"articles\";\n    if (this.state.total>0) {\n      if (this.state.total===1) {\n        resultsText = \"article\";\n      }\n      resultsFound = <div className=\"results-found\"><i>Found {this.state.total} {resultsText}</i></div>;\n    }\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"search-items\">{this.state.browseItems}</ul>;\n    }\n\n    let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n    if (this.state.paginate===10) {\n      paginate10Active = \"active\";\n    }\n    if (this.state.paginate===25) {\n      paginate25Active = \"active\";\n    }\n    if (this.state.paginate===50) {\n      paginate50Active = \"active\";\n    }\n\n    let paginationHTML = <div className=\"browse-filters\">\n\n      <DropdownButton\n        title=\"Limit\"\n        id=\"limit-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n        <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n      </DropdownButton>\n\n      <Pagination\n          paginate={this.state.paginate}\n          current_page={this.state.current_page}\n          total_pages={this.state.last_page}\n          pagination_function={this.gotoPage} />\n\n      <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n        <div className=\"input-group input-group-sm go-to-page\">\n          <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n          <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n          <span className=\"input-group-btn\">\n            <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n          </span>\n        </div>\n      </form>\n\n    </div>;\n\n    let searchContent = <div>\n      <p>&nbsp;</p>\n      <p>&nbsp;</p>\n      <p>&nbsp;</p>\n    </div>;\n    if ((this.props.term!==\"\" && this.state.browseItems.length>0) || this.state.submitted_search) {\n      searchContent = <div className=\"search-letters-container\">\n        <h3>Content {resultsFound}</h3>\n        {paginationHTML}\n        {content}\n        {paginationHTML}\n      </div>;\n    }\n    return (\n        <div>\n          {searchContent}\n        </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport SearchLetters from '../components/search-letters';\nimport SearchWP from '../components/search-wp';\n\nexport class SearchView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      term: \"\",\n      submit_search: false,\n      search_letters: true,\n      search_content: true\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({\n      term: event.target.value,\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.setState({\n      submit_search: true\n    });\n  }\n\n  toggleCheckbox(e) {\n    let value = true;\n    if (e.target.value===\"true\") {\n      value = false;\n    }\n    if (e.target.name===\"search-letters\") {\n      this.setState({\n        search_letters: value\n      });\n    }\n    if (e.target.name===\"search-content\") {\n      this.setState({\n        search_content: value\n      });\n    }\n  }\n\n  componentWillMount() {\n    let getTerm = \"\";\n    if (typeof this.props.match.params.term !=='undefined') {\n      getTerm = this.props.match.params.term;\n    }\n    this.setState({\n      term: getTerm\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (this.state.submit_search===true) {\n      this.setState({\n        submit_search: false\n      });\n    }\n    if (prevProps.match.url!==this.props.match.url) {\n      this.setState({\n        term: this.props.match.params.term,\n        submit_search: true\n      });\n    }\n  }\n\n  render() {\n    let breadCrumbsArr = [{label:'Search',path:''}];\n    let searchFormStyle = {\n      margin: \"20px 0 0 0\"\n    }\n    let searchLetters = [];\n    let searchContent = [];\n    if (this.state.search_letters) {\n      searchLetters = <SearchLetters term={this.state.term} submit_search={this.state.submit_search} />;\n    }\n    if (this.state.search_content) {\n      searchContent = <SearchWP term={this.state.term} submit_search={this.state.submit_search} />;\n    }\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h2>Search</h2>\n            <div style={searchFormStyle}>\n              <form name=\"general-search-input\" onSubmit={this.handleSubmit}>\n                <div className=\"input-group\">\n                  <input onChange={this.handleChange} value={this.state.term} name=\"search-bar\" type=\"text\" className=\"form-control\" placeholder=\"Search Letters 1916-1923\" />\n                  <span className=\"input-group-btn\">\n                    <button className=\"btn btn-default\" onClick={this.handleSubmit} type=\"button\" id=\"search-letters-submit\">Search</button>\n                  </span>\n                </div>\n                <div className=\"search-checkboxes\">\n                  <div className=\"checkbox\">\n                    <label>\n                      <input onChange={this.toggleCheckbox.bind(this)} name=\"search-letters\" type=\"checkbox\" checked={this.state.search_letters} value={this.state.search_letters} /> search letters\n                    </label>\n                  </div>\n                  <div className=\"checkbox\">\n                    <label>\n                      <input onChange={this.toggleCheckbox.bind(this)} name=\"search-content\" type=\"checkbox\" checked={this.state.search_content} value={this.state.search_content} /> search content\n                    </label>\n                  </div>\n                </div>\n              </form>\n            </div>\n            {searchLetters}\n            {searchContent}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\nimport {ToggleClass} from '../helpers/helpers.js';\n\nexport default class TopicsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      topics: [],\n      autocomplete_visible: false,\n      autocomplete_value: \"\"\n    }\n\n    this.toggleElementChildren = this.toggleElementChildren.bind(this);\n    this.toggleAutocomplete = this.toggleAutocomplete.bind(this);\n    this.autocomplete = this.autocomplete.bind(this);\n  }\n\n  toggleElementChildren(e) {\n    e.preventDefault();\n    let targetNode = e.currentTarget;\n    if (targetNode.nextSibling===null) {\n      return false;\n    }\n    let toggle = targetNode.attributes['data-toggle'].value;\n    let newValue = \"closed\";\n    if (toggle===\"closed\") {\n      newValue = \"open\";\n    }\n    targetNode.setAttribute('data-toggle',newValue);\n    // update dropdown arrow\n    ToggleClass(targetNode.nextSibling, toggle, newValue);\n    ToggleClass(targetNode, toggle, newValue);\n  }\n\n  loadTopics() {\n    if (sessionStorage.getItem(\"topics_list\")!==null && sessionStorage.getItem(\"topics_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"topics_list\"));\n      let topics = [];\n      for (let i=0; i<data.length; i++) {\n        let item = data[i];\n        let topic = this.topicItem(item, i);\n        topics.push(topic);\n      }\n      this.setState({\n        loading: false,\n        topics: topics\n      });\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"topics?status=1&transcription_status=2\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          console.log(typeof data);\n          let topics = [];\n          for (let i=0; i<data.length; i++) {\n            let item = data[i];\n            let topic = context.topicItem(item, i);\n            topics.push(topic);\n          }\n          context.setState({\n            loading: false,\n            topics: topics\n          });\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  topicItem(item, i) {\n    let children = item.children;\n    let childrenHTML = [];\n    let toggleChildren = [];\n    let hasChildrenClass = \"\";\n    if (children.length>0) {\n      childrenHTML = this.topicChildren(children, i);\n      toggleChildren = <span className=\"toggle-children\"\n      onClick={this.toggleElementChildren}\n      data-toggle=\"closed\"\n      >\n        <i className=\"fa fa-angle-left\"></i>\n      </span>;\n      hasChildrenClass = \" has-children\";\n    }\n    let topic = <li key={i} data-key={i}>\n      <span className=\"href-btn\" onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{item.name}</span>\n        <span className=\"select-topic\">\n          <i className=\"fa fa-circle-o\" data-id={item.id}></i>\n        </span>\n      <span\n        className={\"topic-label\"+hasChildrenClass}\n        data-toggle=\"closed\"\n          >{item.name} (<span className=\"count\" data-default={item.count}>{item.count}</span>)</span>\n      </span>\n      {toggleChildren}\n      {childrenHTML}\n    </li>;\n    return topic;\n  }\n\n  topicChildren(children, i) {\n    let childrenItems = [];\n    let childrenObject = [];\n    if (children.length>0) {\n      for (let j=0; j<children.length; j++) {\n        let child = children[j];\n        let childItem = this.topicItem(child, i+\".\"+j);\n        childrenItems.push(childItem);\n      }\n      childrenObject = <ul className=\"topics-list-children\" data-parent={i}>{childrenItems}</ul>;\n    }\n\n    return childrenObject;\n  }\n\n  toggleAutocomplete() {\n    return false;\n    /*let newStatus = true;\n    if (this.state.autocomplete_visible) {\n      newStatus = false;\n    }\n    this.setState({\n      autocomplete_visible: newStatus\n    })*/\n  }\n\n  autocomplete(e) {\n    this.setState({\n      autocomplete_value: e.target.value\n    })\n  }\n\n  componentDidMount() {\n    this.loadTopics();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      /*let autocompleteClass=\" closed\";\n      if (this.state.autocomplete_visible) {\n        autocompleteClass = \"\";\n      }*/\n\n      content = <div>\n        <h5 onClick={this.toggleAutocomplete}>Keywords\n        {/*  <span style={{paddingLeft: \"5px\", fontSize: \"14px\"}} >\n            <i className=\"fa fa-caret-down\"></i>\n          </span> */}\n        </h5>\n        {/*<div className={\"form-group filter-autocomplete\"+autocompleteClass}>\n          <input className=\"form-control\" type=\"text\" placeholder=\"filter keywords\" onChange={this.autocomplete.bind(this)} value={this.state.autocomplete_value}/>\n          <i className=\"fa fa-times-circle-o\"></i>\n        </div>*/}\n        <ul className=\"topics-list\">{this.state.topics}</ul>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class SourcesBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"sources_list\")!==null && sessionStorage.getItem(\"sources_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"sources_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"sources\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let sourceLabel = dataItem.source;\n      if (dataItem.source===\"\") {\n        sourceLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.source}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.source}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{sourceLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"sources-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Sources</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class AuthorsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"authors_list\")!==null && sessionStorage.getItem(\"authors_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"authors_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"authors?status=1&transcription_status=2\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let authorLabel = dataItem.creator;\n      if (dataItem.creator===\"\") {\n        authorLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.creator}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.creator}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{authorLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"authors-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Authors</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class GendersBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"genders_list\")!==null && sessionStorage.getItem(\"genders_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"genders_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"genders?status=1&transcription_status=2\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let genderLabel = dataItem.gender;\n      if (dataItem.gender===\"\") {\n        genderLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.gender}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.gender}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{genderLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <div>\n        <h5>Gender</h5>\n        <ul className=\"genders-list\">{this.state.items}</ul>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class LanguageBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"languages_list\")!==null && sessionStorage.getItem(\"languages_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"languages_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"languages?status=1&transcription_status=2\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let languageLabel = dataItem.language;\n      if (dataItem.language===\"\") {\n        languageLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.language}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.language}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{languageLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"languages-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Language</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport moment from 'moment';\n\nexport default class Picker extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      disabled: false,\n    }\n  }\n\n  render() {\n    let defaultDate = moment('1916-01-01');\n    let props = this.props;\n    let newValue = props.value;\n    if (newValue!==null) {\n      defaultDate = newValue;\n    }\n    let content = <div className=\"input-group input-group-sm\">\n      <DatePicker\n        dateFormat='YYYY-MM-DD'\n        selected={newValue}\n        onChange={props.onChange}\n        highlightDates={props.dates}\n        openToDate={defaultDate}\n        placeholderText={props.placeholder}\n      />\n      <span className=\"input-group-btn\" onClick={props.clearFunction}>\n        <button type=\"button\" className=\"btn btn-letters btn-flat btn-sm\"><i className=\"fa fa-times\"></i></button>\n      </span>\n    </div>;\n    return (\n      <div className=\"datepicker-wrapper\">{content}</div>\n    )\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\nimport DatePicker from './datepicker';\nimport moment from 'moment';\n\nexport default class DatecreatedBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      startValue: null,\n      endValue: null,\n      startOpen: false,\n      endOpen: false,\n      calendarDates: [],\n      excludedDates: []\n    }\n    this.loadItems = this.loadItems.bind(this);\n    this.setItems = this.setItems.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.startDateClear = this.startDateClear.bind(this);\n    this.endDateClear = this.endDateClear.bind(this);\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"date_created_list\")!==null && sessionStorage.getItem(\"date_created_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"date_created_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"date_created?status=1&transcription_status=2\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let calendarDates = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let dateCreated = dataItem.date_created;\n      let dateArr = dateCreated.split(\"-\");\n      if (dateArr.length>=2) {\n        dateCreated = dateCreated.replace(\"T00:00:00\",\"\");\n        if (dateCreated.length===10) {\n          let newDate = moment(dateCreated);\n          if (!calendarDates.includes(newDate)) {\n            calendarDates.push(newDate);\n          }\n        }\n\n      }\n    }\n    this.setState({\n      loading: false,\n      calendarDates: calendarDates\n    });\n  }\n\n  updateItems(data) {\n    let dataToArr = Object.keys(data).map(function(key) {\n      return key;\n    });\n    let calendarDates = [];\n    for (let i=0;i<dataToArr.length; i++) {\n      let dateCreated = dataToArr[i];\n      let dateArr = dateCreated.split(\"-\");\n      if (dateArr.length>=2) {\n        dateCreated = dateCreated.replace(\"T00:00:00\",\"\");\n        if (dateCreated.length===10) {\n          let newDate = moment(dateCreated);\n          if (!calendarDates.includes(newDate)) {\n            calendarDates.push(newDate);\n          }\n        }\n      }\n    }\n    this.setState({\n      loading: false,\n      calendarDates: calendarDates\n    });\n  }\n\n  onChange (field, value){\n    if (field===\"endValue\" && this.state.startValue!==null) {\n      let startValue = moment(this.state.startValue);\n      let endValue = moment(value);\n      if (endValue<startValue) {\n        value = this.state.startValue;\n      }\n    }\n    this.setState({\n      [field]: value,\n    });\n  }\n\n  startDateClear() {\n    this.setState({\n      startValue: null\n    });\n  }\n\n  endDateClear() {\n    this.setState({\n      endValue: null\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.startValue!==this.state.startValue || prevState.endValue!==this.state.endValue) {\n      let newStartValue = null;\n      let newEndValue = null;\n      if (this.state.startValue!==null) {\n        newStartValue = moment(this.state.startValue).format(\"YYYY-MM-DD\");\n      }\n      if (this.state.endValue!==null) {\n        newEndValue = moment(this.state.endValue).format(\"YYYY-MM-DD\");\n      }\n      let returnValues = {\n        startValue: newStartValue,\n        endValue: newEndValue\n      }\n      this.props.returnfunction(returnValues);\n    }\n    if (prevProps.availableDates!== this.props.availableDates) {\n      this.updateItems(this.props.availableDates);\n    }\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n\n      content = <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <DatePicker\n            placeholder=\"From\"\n            value={this.state.startValue}\n            onChange={this.onChange.bind(this, 'startValue')}\n            clearFunction={this.startDateClear}\n            dates={this.state.calendarDates}\n          />\n        </div>\n        <div className=\"col-xs-12\">\n          <DatePicker\n            placeholder=\"To\"\n            value={this.state.endValue}\n            onChange={this.onChange.bind(this, 'endValue')}\n            clearFunction={this.endDateClear}\n            dates={this.state.calendarDates}\n          />\n        </div>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Date sent</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\n//import ReactLoading from 'react-loading';\nimport {Link} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath, domain} from '../common/constants.js';\nimport TopicsBlock from '../components/topics-block.js';\nimport SourcesBlock from '../components/sources-block.js';\nimport AuthorsBlock from '../components/authors-block.js';\nimport GendersBlock from '../components/genders-block.js';\nimport LanguagesBlock from '../components/languages-block.js';\nimport DatecreatedBlock from '../components/date_created-block.js';\nimport Pagination from '../helpers/pagination.js';\nimport {PreloaderCards,ToggleClass,ReplaceClass,Emptyitemscard,CompareFilterTopics,CompareFilterGeneral,SelectedTopicsChecked,SelectedFiltersChecked,fixImagePath,replaceAll} from '../helpers/helpers.js';\nimport {loadProgressBar} from 'axios-progress-bar';\n\nexport class BrowseView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      browseItems: [],\n      page: 1,\n      current_page: 1,\n      temp_page: 1,\n      path: APIPath+\"index\",\n      topics_path: APIPath+\"topicsbyid/\",\n      total: 0,\n      sort: \"desc\",\n      paginate: 10,\n      paginationHTML: [],\n      length: 0,\n      firstLoad:1,\n      selectedTopics: [],\n      keywords_ids: [],\n      sources: [],\n      authors: [],\n      genders: [],\n      languages: [],\n      dates_sent: [],\n      date_start: [],\n      date_end: [],\n      queryStatus: 1,\n      queryTranscriptionStatus: 2,\n    };\n\n    this.updatePage = this.updatePage.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updateSort = this.updateSort.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n    this.topicFilter = this.topicFilter.bind(this);\n    this.filterContent = this.filterContent.bind(this);\n    this.browserItems = this.browserItems.bind(this);\n    //this.selectedTopicsToggleChildren = this.selectedTopicsToggleChildren.bind(this);\n    this.sourcesFilter = this.sourcesFilter.bind(this);\n    this.authorsFilter = this.authorsFilter.bind(this);\n    this.gendersFilter = this.gendersFilter.bind(this);\n    this.languagesFilter = this.languagesFilter.bind(this);\n    this.datecreatedFilter = this.datecreatedFilter.bind(this);\n    this.setSessionStorage = this.setSessionStorage.bind(this);\n    this.checkSessionStorage = this.checkSessionStorage.bind(this);\n    this.clearFilters = this.clearFilters.bind(this);\n\n  }\n\n  updatePage(e) {\n    if (e>0 && e!==this.state.current_page) {\n      this.setState({\n        loading:true,\n        current_page: e,\n        temp_page: e,\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updateSort(value) {\n    if (value!==this.state.sort) {\n      this.setState({\n        sort: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  topicFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-topic\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".topic-label\")[0];\n\n    let className = element.className;\n    let prevTopics = this.state.selectedTopics;\n    let selectedTopics = [];\n    for (let i=0;i<prevTopics.length;i++) {\n      selectedTopics.push(prevTopics[i]);\n    }\n    let currentId = element.getAttribute(\"data-id\");\n    if (className===\"fa fa-circle-o\") {\n      if (selectedTopics.indexOf(currentId)===-1) {\n        selectedTopics.push(currentId);\n      }\n    }\n    else {\n      if (selectedTopics.indexOf(currentId)>-1) {\n        let index = selectedTopics.indexOf(currentId);\n         selectedTopics.splice(index, 1);\n      }\n    }\n    this.setState({\n      loading:true,\n      selectedTopics: selectedTopics,\n      keywords_ids:selectedTopics\n    });\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n\n  }\n\n  sourcesFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevSources = this.state.sources;\n    let selectedSources = [];\n    for (let i=0;i<prevSources.length;i++) {\n      selectedSources.push(prevSources[i]);\n    }\n    let currentSource = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedSources.indexOf(currentSource)===-1) {\n        selectedSources.push(currentSource);\n      }\n    }\n    else {\n      if (selectedSources.indexOf(currentSource)>-1) {\n        let index = selectedSources.indexOf(currentSource);\n         selectedSources.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      sources: selectedSources\n    });\n  }\n\n  authorsFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevAuthors = this.state.authors;\n    let selectedAuthors = [];\n    for (let i=0;i<prevAuthors.length;i++) {\n      selectedAuthors.push(prevAuthors[i]);\n    }\n    let currentAuthor = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedAuthors.indexOf(currentAuthor)===-1) {\n        selectedAuthors.push(currentAuthor);\n      }\n    }\n    else {\n      if (selectedAuthors.indexOf(currentAuthor)>-1) {\n        let index = selectedAuthors.indexOf(currentAuthor);\n         selectedAuthors.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      authors: selectedAuthors\n    });\n\n  }\n\n  gendersFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevGenders = this.state.genders;\n    let selectedGenders = [];\n    for (let i=0;i<prevGenders.length;i++) {\n      selectedGenders.push(prevGenders[i]);\n    }\n    let currentGender = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedGenders.indexOf(currentGender)===-1) {\n        selectedGenders.push(currentGender);\n      }\n    }\n    else {\n      if (selectedGenders.indexOf(currentGender)>-1) {\n        let index = selectedGenders.indexOf(currentGender);\n         selectedGenders.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      genders: selectedGenders\n    });\n  }\n\n  languagesFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevLanguages = this.state.languages;\n    let selectedLanguages = [];\n    for (let i=0;i<prevLanguages.length;i++) {\n      selectedLanguages.push(prevLanguages[i]);\n    }\n    let currentLanguage = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedLanguages.indexOf(currentLanguage)===-1) {\n        selectedLanguages.push(currentLanguage);\n      }\n    }\n    else {\n      if (selectedLanguages.indexOf(currentLanguage)>-1) {\n        let index = selectedLanguages.indexOf(currentLanguage);\n         selectedLanguages.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      languages: selectedLanguages\n    });\n  }\n\n  datecreatedFilter(value) {\n    let dateStart = value.startValue;\n    let dateEnd = value.endValue;\n    this.setState({\n      loading:true,\n      date_start: dateStart,\n      date_end: dateEnd,\n    });\n  }\n\n  clearFilters() {\n    if (\n      this.state.selectedTopics!==[] ||\n      this.state.keywords_ids!==[] ||\n      this.state.sources!==[] ||\n      this.state.authors!==[] ||\n      this.state.genders!==[] ||\n      this.state.languages!==[] ||\n      this.state.date_start!==[] ||\n      this.state.date_end!==[]\n    ) {\n      this.setState({\n        loading: true,\n        selectedTopics: [],\n        keywords_ids: [],\n        sources: [],\n        authors: [],\n        genders: [],\n        languages: [],\n        date_start: [],\n        date_end: [],\n      });\n    }\n  }\n\n  selectedTopicsToggleChildren(parent, className) {\n    let selectedTopics = this.state.selectedTopics;\n    let children = ReactDOM.findDOMNode(parent).children;\n\n    if (typeof children[3]===\"object\") {\n      let childrenTopics = children[3];\n      let childrenLi = ReactDOM.findDOMNode(childrenTopics).children;\n\n      for (let i=0;i<childrenLi.length;i++) {\n        let liChildren = ReactDOM.findDOMNode(childrenLi[i]).children;\n        let selectTopicI = ReactDOM.findDOMNode(liChildren[0]).children;\n\n        let currentId = selectTopicI[0].getAttribute(\"data-id\");\n        if (className===\"fa fa-circle-o\") {\n          if (selectedTopics.indexOf(currentId)===-1) {\n            selectedTopics.push(currentId);\n          }\n        }\n        else {\n          if (selectedTopics.indexOf(currentId)>-1) {\n            let index = selectedTopics.indexOf(currentId);\n             selectedTopics.splice(index, 1);\n          }\n        }\n        if (typeof liChildren[3]===\"object\") {\n          let secondChild = ReactDOM.findDOMNode(liChildren[3]).parentNode;\n          this.selectedTopicsToggleChildren(secondChild, className);\n        }\n        let className1 = \"fa-check-circle-o\";\n        let className2 = \"fa-circle-o\";\n        if (className===\"fa fa-circle-o\") {\n          className1 = \"fa-circle-o\";\n          className2 = \"fa-check-circle-o\";\n        }\n        ReplaceClass(selectTopicI[0], className1, className2);\n      }\n    }\n    this.setState({selectedTopics: selectedTopics});\n  }\n\n  filterContent() {\n    let browseContext = this;\n    let path = APIPath+\"indexfiltered/\";\n    axios.get(path, {\n      params: {\n        sort: this.state.sort,\n        page: this.state.current_page,\n        paginate: this.state.paginate,\n        keywords: this.state.keywords_ids,\n        sources: this.state.sources,\n        authors: this.state.authors,\n        genders: this.state.genders,\n        languages: this.state.languages,\n        date_start: this.state.date_start,\n        date_end: this.state.date_end,\n        status: this.state.queryStatus,\n        transcription_status: this.state.queryTranscriptionStatus\n      }\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      let itemsData = responseData.data;\n      let browseItems = [];\n      if (typeof itemsData!==\"undefined\" && itemsData.length>0) {\n        browseItems = browseContext.browserItems(itemsData);\n      }\n      else browseItems = <Emptyitemscard />;\n      // update state\n      let currentPage = responseData.current_page;\n      if (responseData.last_page<responseData.current_page) {\n        currentPage = responseData.last_page;\n        browseContext.setState({\n          loading:false,\n          browseItems: browseItems,\n          current_page: currentPage,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      }\n      else {\n        browseContext.setState({\n          loading:false,\n          browseItems: browseItems,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      }\n      SelectedTopicsChecked(browseContext.state.keywords_ids);\n      SelectedFiltersChecked(\"sources-list\", browseContext.state.sources);\n      SelectedFiltersChecked(\"authors-list\", browseContext.state.authors);\n      SelectedFiltersChecked(\"genders-list\", browseContext.state.genders);\n      SelectedFiltersChecked(\"languages-list\", browseContext.state.languages);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  updateFilters() {\n    let context = this;\n    let path = APIPath+\"indexfilteredfilters/\";\n    axios.get(path, {\n      params: {\n        sort: this.state.sort,\n        page: 1,\n        paginate: this.state.paginate,\n        keywords: this.state.keywords_ids,\n        sources: this.state.sources,\n        authors: this.state.authors,\n        genders: this.state.genders,\n        languages: this.state.languages,\n        date_start: this.state.date_start,\n        date_end: this.state.date_end,\n        status: this.state.queryStatus,\n        transcription_status: this.state.queryTranscriptionStatus,\n      }\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      // topics\n      let topics = responseData.keywords;\n      CompareFilterTopics(topics);\n\n      // sources\n      let sources = responseData.sources;\n      CompareFilterGeneral(\"sources-list\",sources);\n\n      // sources\n      let authors = responseData.authors;\n      CompareFilterGeneral(\"authors-list\",authors);\n\n      // genders\n      let genders = responseData.genders;\n      CompareFilterGeneral(\"genders-list\",genders);\n\n      // languages\n      let languages = responseData.languages;\n      CompareFilterGeneral(\"languages-list\",languages);\n\n      // dates\n      context.setState({\n        dates_sent: responseData.dates_sent\n      });\n\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  showPage() {\n    let browseContext = this;\n    let path = this.state.path;\n    axios.get(path, {\n        params: {\n          page: this.state.current_page,\n          sort: this.state.sort,\n          paginate: this.state.paginate\n        }\n      })\n  \t  .then(function (response) {\n        let responseData = response.data.data;\n        let itemsData = responseData.data;\n        let browseItems = [];\n        if (typeof itemsData!==\"undefined\") {\n          browseItems = browseContext.browserItems(itemsData);\n        }\n        // update state\n        browseContext.setState({\n          loading:false,\n          browseItems: browseItems,\n          current_page: responseData.current_page,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  browserItems(itemsData) {\n    // list of items to display\n    let browseItems = [];\n    for (let i=0; i<itemsData.length; i++) {\n      let item = itemsData[i];\n      let element = JSON.parse(item.element);\n      let defaultThumbnail;\n      if (element.pages.length>0) {\n        defaultThumbnail = <img className=\"list-thumbnail img-responsive\" src={fixImagePath(domain+\"/diyhistory/archive/square_thumbnails/\"+element.pages[0].archive_filename)} alt={element.title} />\n      }\n\n      var keywords = [];\n      for (var j=0;j<element.topics.length; j++) {\n        var topic = element.topics[j];\n        var comma = '';\n        if (j>0) comma = ', ';\n        var keyword = <span data-id={topic.topic_ID} key={j}>{comma}{topic.topic_name}</span>;\n        keywords.push(keyword);\n      }\n      let transcription = \"\";\n      if (element.pages[0].transcription!==null) {\n        if (element.pages[0].transcription!==\"\") {\n          let transcriptionText = element.pages[0].transcription.replace(/<[^>]+>/ig,\" \");\n          transcriptionText = replaceAll(transcriptionText, \"&amp;\", \"&\");\n          transcriptionText = replaceAll(transcriptionText, \"&#39;\", \"'\");\n          if (transcriptionText.length>400) {\n            transcriptionText = transcriptionText.substring(0,400);\n          }\n\n          transcription = transcriptionText+\"...\";\n        }\n      }\n\n      var browseItem = <li data-id={item.id} key={i} className=\"img-clearfix\">\n          <Link to={ 'item/'+item.id}>{defaultThumbnail}</Link>\n          <h4><Link to={ 'item/'+item.id}>{element.title}</Link></h4>\n          <span className='browse-item-keywords'>Keywords: {keywords}</span>\n          <p dangerouslySetInnerHTML={{__html: transcription}}></p>\n        </li>;\n      browseItems.push(browseItem);\n    }\n    return browseItems;\n  }\n\n  checkSessionStorage() {\n    if (sessionStorage.getItem('browse')!==null) {\n      let storedState = JSON.parse(sessionStorage.getItem('browse'));\n      this.setState({\n        sort:storedState.sort,\n        current_page:storedState.current_page,\n        paginate:storedState.paginate,\n        keywords_ids:storedState.keywords_ids,\n        sources:storedState.sources,\n        authors:storedState.authors,\n        genders:storedState.genders,\n        languages:storedState.languages,\n        date_start:storedState.date_start,\n        date_end:storedState.date_end,\n        queryStatus:storedState.queryStatus,\n        queryTranscriptionStatus:storedState.queryTranscriptionStatus,\n      });\n    }\n  }\n\n  setSessionStorage() {\n    let newState = {\n      sort: this.state.sort,\n      current_page: this.state.current_page,\n      paginate: this.state.paginate,\n      selectedTopics: this.state.selectedTopics,\n      keywords_ids: this.state.keywords_ids,\n      sources: this.state.sources,\n      authors: this.state.authors,\n      genders: this.state.genders,\n      languages: this.state.languages,\n      date_start: this.state.date_start,\n      date_end: this.state.date_end,\n      queryStatus: this.state.queryStatus,\n      queryTranscriptionStatus: this.state.queryTranscriptionStatus,\n    }\n    sessionStorage.setItem('browse', JSON.stringify(newState));\n  }\n\n  componentDidMount() {\n    loadProgressBar();\n    this.checkSessionStorage();\n    let context = this;\n    setTimeout(function() {\n      context.filterContent();\n      context.updateFilters();\n    },500);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.loading!==this.state.loading &&\n      (\n        prevState.current_page!==this.state.current_page ||\n        prevState.paginate!==this.state.paginate ||\n        prevState.sort!==this.state.sort ||\n        prevState.keywords_ids!==this.state.keywords_ids ||\n        prevState.sources!==this.state.sources ||\n        prevState.authors!==this.state.authors ||\n        prevState.genders!==this.state.genders ||\n        prevState.languages!==this.state.languages ||\n        prevState.date_start!==this.state.date_start ||\n        prevState.date_end!==this.state.date_end\n      )\n    )\n    {\n      this.setSessionStorage();\n      let context = this;\n      setTimeout(function() {\n        context.filterContent();\n        context.updateFilters();\n      },500);\n    }\n  }\n\n  render() {\n    let breadCrumbsArr = [{label:'Browse',path:''}];\n    let content;\n    if (this.state.loading && this.state.firstLoad===1) {\n      let browseItems = PreloaderCards(11);\n      content = <ul className=\"browse-items\">{browseItems}</ul>;\n    }\n    else if (this.state.loading && this.state.firstLoad===0){\n      content = <ul className=\"browse-items blur\">{this.state.browseItems}</ul>;\n    }\n    else {\n      content = <ul className=\"browse-items\">{this.state.browseItems}</ul>;\n    }\n\n    let activeDesc=\"\",activeAsc=\"\";\n    if (this.state.sort===\"desc\") {\n      activeDesc = \"active\";\n    }\n    if (this.state.sort===\"asc\") {\n      activeAsc = \"active\";\n    }\n    let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n    if (this.state.paginate===10) {\n      paginate10Active = \"active\";\n    }\n    if (this.state.paginate===25) {\n      paginate25Active = \"active\";\n    }\n    if (this.state.paginate===50) {\n      paginate50Active = \"active\";\n    }\n\n    let paginationHTML = <div className=\"browse-filters\">\n      <DropdownButton\n        title=\"Sort\"\n        id=\"sort-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updateSort.bind(this,\"desc\")} className={activeDesc}><i className=\"fa fa-sort-amount-desc\"></i> Created date Desc</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updateSort.bind(this,\"asc\")} className={activeAsc}><i className=\"fa fa-sort-amount-asc\"></i> Created date Asc</MenuItem>\n      </DropdownButton>\n\n      <DropdownButton\n        title=\"Limit\"\n        id=\"limit-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n        <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n      </DropdownButton>\n\n      <Pagination\n          paginate={this.state.paginate}\n          current_page={this.state.current_page}\n          total_pages={this.state.last_page}\n          pagination_function={this.updatePage} />\n\n      <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n        <div className=\"input-group input-group-sm go-to-page\">\n          <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n          <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n          <span className=\"input-group-btn\">\n            <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n          </span>\n        </div>\n      </form>\n\n    </div>;\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-3\">\n            <h3 className=\"column-title\">Filters\n              <small className=\"pull-right\" style={{cursor:\"pointer\"}} onClick={this.clearFilters} title=\"Clear all filters\">\n                clear all <i className=\"fa fa-times-circle-o\"></i>\n              </small>\n            </h3>\n          </div>\n          <div className=\"col-xs-12 col-sm-9\">\n            <h2>Browse</h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-3\">\n            <TopicsBlock returnfunction={this.topicFilter} selected={this.state.selectedTopics}/>\n            <SourcesBlock returnfunction={this.sourcesFilter} />\n            <AuthorsBlock returnfunction={this.authorsFilter} />\n            <GendersBlock returnfunction={this.gendersFilter} />\n            <LanguagesBlock returnfunction={this.languagesFilter} />\n            <DatecreatedBlock returnfunction={this.datecreatedFilter} availableDates={this.state.dates_sent}/>\n          </div>\n          <div className=\"col-xs-12 col-sm-9\">\n\n          {paginationHTML}\n          <div className=\"list-items-container\">\n            {content}\n          </div>\n          {paginationHTML}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport {APIPath} from '../common/constants.js';\n\nexport class PasswordRestoreView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      submitStatus: false,\n      error: false,\n      errorText: '',\n      success: false,\n      successText: '',\n    }\n    // login form binds\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t\tthis.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleFormChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleFormSubmit(event) {\n    event.preventDefault();\n    if (this.state.submitStatus) {\n      return false;\n    }\n    this.setState({\n      submitStatus: false\n    });\n    let context = this;\n    axios.post(APIPath+'password-reset-email', {\n\t\t\temail: this.state.email,\n\t\t})\n\t  .then(function (response) {\n\t    let status = response.data.status;\n      if (status) {\n        context.setState({\n          email: '',\n          submitStatus: true,\n          error: false,\n          errorText: '',\n          success: true,\n          successText: response.data.message,\n        });\n      }\n      else {\n        context.setState({\n          submitStatus: false,\n          error: true,\n          errorText: response.data.errors,\n          success: false,\n          successText: '',\n        });\n      }\n      context.setState({\n        submitStatus: false\n      });\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n  componentDidMount() {\n\n  }\n\n  render() {\n    let breadCrumbsArr=[];\n    let contentTitle = \"Password Restore\";\n    breadCrumbsArr.push({label:contentTitle,path:''});\n    let errorClass = 'error-container';\n    if (this.state.error) {\n      errorClass = 'error-container-visible';\n    }\n    let submitPreloader = [];\n    if (this.state.submitStatus) {\n      submitPreloader = <i className=\"fa fa-spin fa-circle-o-notch\"></i>;\n    }\n    let infoText = '';\n    if (!this.state.success) {\n      infoText = <p>To reset your password please enter below the email you used when you subscribed with Letters 1916-1923.</p>;\n    }\n    let form = <div className=\"row\">\n      <div className=\"col-xs-12\">\n        <div className={errorClass}>{this.state.errorText}</div>\n      </div>\n      <div className=\"col-xs-12 col-sm-6 col-md-4\">\n        <form onSubmit={this.handleFormSubmit}>\n          <div className=\"form-group has-feedback\">\n            <input name=\"email\" type=\"email\" className=\"form-control\" placeholder=\"Email\" value={this.state.email} onChange={this.handleFormChange} />\n            <span className=\"glyphicon glyphicon-envelope form-control-feedback\"></span>\n          </div>\n          <button type=\"submit\" className=\"btn btn-letters\">Reset My Password {submitPreloader}</button>\n        </form>\n      </div>\n    </div>;\n    if (this.state.success) {\n      form = <div className=\"row\">\n        <div className=\"col-xs-12 text-center\" style={{padding: '20px 0'}}>{this.state.successText}</div>\n      </div>;\n    }\n    let contentHTML = <div>\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          {infoText}\n        </div>\n      </div>\n      {form}\n    </div>;\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport {APIPath} from '../common/constants.js';\nimport {Redirect} from 'react-router-dom';\n\nexport class PasswordResetView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      email: '',\n      password: '',\n      password_confirm: '',\n      passwordStrength: 0,\n      strengthClass: \"\",\n      strengthLabel: \"\",\n      submitStatus: false,\n      error: false,\n      errorText: '',\n      success: false,\n      successText: '',\n    }\n    // login form binds\n\t\tthis.handleFormChange = this.handleFormChange.bind(this);\n\t\tthis.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.errorValidation = this.errorValidation.bind(this);\n    this.passwordStrengthCalculate = this.passwordStrengthCalculate.bind(this);\n  }\n\n  handleFormChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    if (name===\"password\") {\n      this.passwordStrengthCalculate(value);\n    }\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleFormSubmit(event) {\n    event.preventDefault();\n    if (this.errorValidation()) {\n      if (this.state.submitStatus) {\n        return false;\n      }\n      this.setState({\n        submitStatus: true\n      });\n      let context = this;\n      let arrayPost = {\n        email: this.state.email.trim(),\n        password: this.state.password.trim(),\n        password_confirmation: this.state.password_confirm.trim(),\n        token: this.props.match.params.token,\n      }\n      axios({\n        method: 'POST',\n        url: APIPath+'password-reset',\n        data: arrayPost,\n        crossDomain: true,\n      })\n  \t  .then(function (response) {\n  \t    let status = response.data.status;\n        if (status) {\n          context.setState({\n            email: '',\n            password: '',\n            password_confirm: '',\n            passwordStrength: 0,\n            strengthClass: \"\",\n            strengthLabel: \"\",\n            error: false,\n            errorText: '',\n            success: true,\n            successText: response.data.message,\n          });\n        }\n        else {\n          context.setState({\n            submitStatus: false,\n            error: true,\n            errorText: response.data.errors,\n            success: false,\n            successText: '',\n          });\n        }\n  \t  })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n        context.setState({\n          submitStatus: false\n        });\n  \t  });\n    }\n  }\n\n  errorValidation() {\n    let emailRegEx = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n    if (this.state.email.search(emailRegEx) === -1) {\n      this.emailInput.focus();\n      this.setState({\n        error: true,\n        errorText: 'Please enter a valid E-mail Address to continue!'\n      });\n      return false;\n    }\n    else if (this.state.password.trim().length<5) {\n      this.passwordInput.focus();\n      this.setState({\n        error: true,\n        errorText: 'Your new password must contain at least 6 characters'\n      });\n      return false;\n    }\n    else if (this.state.password.trim() !== this.state.password_confirm.trim()) {\n      this.passwordConfirmInput.focus();\n      this.setState({\n        error: true,\n        errorText: \"Password and password confirm don't match. Please try again.\"\n      });\n      return false;\n    }\n    else {\n      this.setState({\n        error: false,\n        errorText: ''\n      });\n    }\n    return true;\n  }\n\n  passwordStrengthCalculate(value) {\n    let strongRegex = new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})\");\n    let mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})\");\n    let strengthClass = \"\";\n    let strengthLabel = \"\";\n    if (value.trim().length>0) {\n      if(strongRegex.test(value)) {\n          strengthClass = \" green\";\n          strengthLabel = \"Strong\";\n      } else if(mediumRegex.test(value)) {\n          strengthClass = \" orange\";\n          strengthLabel = \"Medium\";\n      }\n      else {\n        strengthClass = \" red\";\n        strengthLabel = \"Weak\";\n      }\n    }\n    this.setState({\n      strengthClass: strengthClass,\n      strengthLabel: strengthLabel\n    });\n  }\n\n  componentDidMount() {\n\n  }\n\n  render() {\n    let redirect = [];\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    if (sessionActive==='true') {\n      redirect = <Redirect to='/user-profile' />;\n    }\n    let breadCrumbsArr=[];\n    let contentTitle = \"Password Reset\";\n    breadCrumbsArr.push({label:contentTitle,path:''});\n    let errorClass = 'error-container';\n    if (this.state.error) {\n      errorClass = 'error-container-visible';\n    }\n    let submitPreloader = [];\n    if (this.state.submitStatus) {\n      submitPreloader = <i className=\"fa fa-spin fa-circle-o-notch\"></i>;\n    }\n    let infoText = '';\n    if (!this.state.success) {\n      infoText = <p>To reset your password please enter the email you provided during registration and your new password below.</p>;\n    }\n    let form = <div>\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <div className={errorClass}>\n            <div dangerouslySetInnerHTML={{__html: this.state.errorText}}></div>\n          </div>\n        </div>\n      </div>\n      <form onSubmit={this.handleFormSubmit}>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4 text-right\">\n            <label>E-mail</label>\n          </div>\n          <div className=\"col-xs-12 col-sm-5\">\n            <div className=\"form-group\">\n              <input className=\"form-control\" name=\"email\" type=\"email\"\n                autoComplete=\"off\" placeholder=\"Enter a valid email address\" value={this.state.email} onChange={this.handleFormChange.bind(this)} ref={(input) => { this.emailInput = input; }}/>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4 text-right\">\n            <label>Password</label>\n          </div>\n          <div className=\"col-xs-12 col-sm-5\">\n            <div className=\"form-group\">\n              <input className=\"form-control\" name=\"password\" type=\"password\"\n            autoComplete=\"off\" placeholder=\"Enter your password\" value={this.state.password} onChange={this.handleFormChange.bind(this)} ref={(input) => { this.passwordInput = input; }}/>\n            </div>\n          </div>\n          <div className=\"col-xs-12 col-sm-3\">\n            <div style={{paddingRight: \"10px\"}}>\n              <div className={\"password-strength\"+this.state.strengthClass}>\n                <div className={this.state.strengthClass}></div>\n                <div className=\"password-text\">{this.state.strengthLabel}</div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4 text-right\">\n            <label>Confirm Password</label>\n          </div>\n          <div className=\"col-xs-12 col-sm-5\">\n            <div className=\"form-group\">\n              <input className=\"form-control\" name=\"password_confirm\" type=\"password\" placeholder=\"Confirm your password\"\n            autoComplete=\"off\" value={this.state.password_confirm} onChange={this.handleFormChange.bind(this)} ref={(input) => { this.passwordConfirmInput = input; }}/>\n            </div>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 text-center\">\n            <button type=\"submit\" className=\"btn btn-letters\">Reset My Password {submitPreloader}</button>\n          </div>\n        </div>\n      </form>\n    </div>;\n    if (this.state.success) {\n      form = <div className=\"row\">\n        <div className=\"col-xs-12 text-center\" style={{padding: '20px 0'}}>{this.state.successText}</div>\n      </div>;\n    }\n    let contentHTML = <div>\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          {infoText}\n        </div>\n      </div>\n      {form}\n    </div>;\n    return (\n      <div className=\"container\">\n        {redirect}\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport {APIPath,WPCustomRestPath} from '../common/constants.js';\n\nexport class RegisterView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      form: {\n        name: '',\n        email: '',\n        password: '',\n        password_confirm: '',\n        license_agreement: false,\n        subscribe_to_newsletter: false,\n      },\n      submitStatus: 0,\n      errorStatus: false,\n      errorMessage: '',\n      passwordStrength: 0,\n      strengthClass: \"\",\n      strengthLabel: \"\",\n      showResponse: false,\n      responseText: '',\n      licenseAgreementText: '',\n      subscribeToNewsletterText: '',\n    }\n    this.loadRights = this.loadRights.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.passwordStrengthCalculate = this.passwordStrengthCalculate.bind(this);\n  }\n\n  loadRights() {\n    let context = this;\n    // load rights from wordpress\n    axios.get(WPCustomRestPath+\"post\", {\n        params: {\n          \"slug\": \"terms-and-conditions-all-users\"\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data;\n        if (response.statusText===\"OK\") {\n          let newLicenseAgreementText = <div dangerouslySetInnerHTML={{__html:pageData.rendered}} />\n          context.setState({\n            licenseAgreementText: newLicenseAgreementText,\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n\n    axios.get(WPCustomRestPath+\"post\", {\n        params: {\n          \"slug\": \"newsletter-subscription\"\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data;\n        if (response.statusText===\"OK\") {\n          let newSubscribeToNewsletterText = <div dangerouslySetInnerHTML={{__html:pageData.rendered}} />\n          context.setState({\n            subscribeToNewsletterText: newSubscribeToNewsletterText,\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  handleChange(e) {\n    let target = e.target;\n    let name = target.name;\n    let value = target.type === 'checkbox' ? target.checked : target.value;\n    let newState = Object.assign({}, this.state);\n    newState.form[name]=value;\n    if (name===\"password\") {\n      this.passwordStrengthCalculate(value);\n    }\n    this.setState({\n      newState\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    if (this.errorValidation()===true) {\n      if (this.state.submitStatus) {\n        return false;\n      }\n      this.setState({\n        submitStatus: true,\n      });\n      let arrayPost = {\n        name: this.state.form.name.trim(),\n        email: this.state.form.email.trim(),\n        password: this.state.form.password.trim(),\n        password_confirmation: this.state.form.password_confirm.trim(),\n        license_agreement: this.state.form.license_agreement,\n        subscribe_to_newsletter: this.state.form.subscribe_to_newsletter,\n      }\n      let context = this;\n      axios({\n        method: 'POST',\n        url: APIPath+'register',\n        data: arrayPost,\n        crossDomain: true,\n      })\n  \t  .then(function (response) {\n        context.setState({\n          submitStatus: false,\n          showResponse: true,\n          responseText: response.data.message\n        });\n\n  \t  })\n  \t  .catch(function (error) {\n        let responseData = error.response.data;\n        let message = \"\";\n        for (let k in responseData.errors) {\n          message = responseData.errors[k];\n        }\n        if (message===\"\") {\n          message = responseData.message;\n        }\n        context.setState({\n          submitStatus: false,\n          errorStatus: true,\n          errorMessage: message,\n        });\n  \t  });\n    }\n  }\n\n  componentDidMount() {\n    loadProgressBar();\n    this.loadRights();\n  }\n\n  errorValidation() {\n    let emailRegEx = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n    if (this.state.form.name.trim().length===0) {\n      this.nameInput.focus();\n      this.setState({\n        errorStatus: true,\n        errorMessage: 'Please enter your Full Name to continue!'\n      });\n      return false;\n    }\n    else if (this.state.form.email.search(emailRegEx) === -1) {\n      this.emailInput.focus();\n      this.setState({\n        errorStatus: true,\n        errorMessage: 'Please enter a valid E-mail Address to continue!'\n      });\n      return false;\n    }\n    else if (this.state.form.password.trim().length<5) {\n      this.passwordInput.focus();\n      this.setState({\n        errorStatus: true,\n        errorMessage: 'Your new password must contain at least 6 characters'\n      });\n      return false;\n    }\n    else if (this.state.form.password.trim() !== this.state.form.password_confirm.trim()) {\n      this.passwordInput.focus();\n      this.setState({\n        errorStatus: true,\n        errorMessage: \"Password and password confirm don't match. Please try again.\"\n      });\n      return false;\n    }\n    else if (this.state.form.license_agreement===false) {\n      this.licenceAgreementInput.focus();\n      this.setState({\n        errorStatus: true,\n        errorMessage: \"You must accept the license agreement to continue.\"\n      });\n      return false;\n    }\n    else {\n      this.setState({\n        errorStatus: false,\n        errorMessage: ''\n      });\n    }\n    return true;\n  }\n\n  passwordStrengthCalculate(value) {\n    let strongRegex = new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})\");\n    let mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})\");\n    let strengthClass = \"\";\n    let strengthLabel = \"\";\n    if (value.trim().length>0) {\n      if(strongRegex.test(value)) {\n          strengthClass = \" green\";\n          strengthLabel = \"Strong\";\n      } else if(mediumRegex.test(value)) {\n          strengthClass = \" orange\";\n          strengthLabel = \"Medium\";\n      }\n      else {\n        strengthClass = \" red\";\n        strengthLabel = \"Weak\";\n      }\n    }\n    this.setState({\n      strengthClass: strengthClass,\n      strengthLabel: strengthLabel\n    });\n  }\n\n  render() {\n    let contentHTML,contentTitle,pageContent;\n    let breadCrumbsArr = {label:contentTitle, path:''};\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    let redirect = [];\n\t\tif (sessionActive==='true') {\n      redirect = <Redirect to={{\n        pathname: '/user-profile',\n      }} />\n    }\n    else {\n      let submitPreloader = [];\n      if (this.state.submitStatus) {\n        submitPreloader = <i className=\"fa fa-spin fa-circle-o-notch\"></i>;\n      }\n      contentTitle = 'User registration';\n      if (this.state.showResponse) {\n        contentHTML = <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <p className=\"text-center\">{this.state.responseText}</p>\n          </div>\n        </div>\n      }\n      else {\n        let errorClass = \"error-container\";\n        if (this.state.errorStatus) {\n          errorClass = \"error-container-visible\";\n        }\n        contentHTML = <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-12\">\n            <p className=\"text-center\">Please complete the following form to register for a new account with Letters 1916-1923.</p>\n            <form name=\"registration-form\" onSubmit={this.handleSubmit}>\n              <div className={errorClass}>{this.state.errorMessage}</div>\n              <div className=\"form-group\">\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-4 text-right\">\n                    <label>Name</label>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-5\">\n                    <input className=\"form-control\" name=\"name\" type=\"text\" placeholder=\"Enter your full name\" value={this.state.form.name} onChange={this.handleChange.bind(this)} ref={(input) => { this.nameInput = input; }}/>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-4 text-right\">\n                    <label>E-mail Address</label>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-5\">\n                    <input className=\"form-control\" name=\"email\" type=\"email\"\n                    autoComplete=\"off\" placeholder=\"Enter a valid email address\" value={this.state.form.email} onChange={this.handleChange.bind(this)} ref={(input) => { this.emailInput = input; }}/>\n                  </div>\n                </div>\n              </div>\n\n\n              <div className=\"form-group\">\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-4 text-right\">\n                    <label>Password</label>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-5\">\n                    <input className=\"form-control\" name=\"password\" type=\"password\"\n                    autoComplete=\"off\" placeholder=\"Enter your password\" value={this.state.form.password} onChange={this.handleChange.bind(this)} ref={(input) => { this.passwordInput = input; }}/>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-3\">\n                    <div className={\"password-strength\"+this.state.strengthClass}>\n                      <div className={this.state.strengthClass}></div>\n                      <div className=\"password-text\">{this.state.strengthLabel}</div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"form-group\">\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-4 text-right\">\n                    <label>Confirm Password</label>\n                  </div>\n                  <div className=\"col-xs-12 col-sm-5\">\n                    <input className=\"form-control\" name=\"password_confirm\" type=\"password\" placeholder=\"Confirm your password\"\n                    autoComplete=\"off\" value={this.state.form.password_confirm} onChange={this.handleChange.bind(this)} />\n                  </div>\n                </div>\n              </div>\n\n              <hr/>\n              <h4>License Agreement</h4>\n              <div className=\"form-group\">\n                <div className=\"license-agreement-text\">{this.state.licenseAgreementText}</div>\n                <label>\n                  <input name=\"license_agreement\" type=\"checkbox\" onChange={this.handleChange.bind(this)} ref={(input) => { this.licenceAgreementInput = input; }} /> Accept license agreement</label>\n              </div>\n              <div className=\"form-group\">\n                <div>{this.state.subscribeToNewsletterText}</div>\n                <label>\n                  <input name=\"subscribe_to_newsletter\" type=\"checkbox\" onChange={this.handleChange.bind(this)} /> Subscribe to newsletter</label>\n              </div>\n              <button type=\"submit\" className=\"btn btn-letters\">Submit {submitPreloader}</button>\n            </form>\n          </div>\n        </div>;\n      }\n\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr} />\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container letter-form-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    }\n    return (\n      <div>\n        {redirect}\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport class VerifyAccountView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      error: false,\n      errorMsg: ''\n    }\n    this.verifyAccount = this.verifyAccount.bind(this);\n  }\n\n  verifyAccount() {\n    let context = this;\n    axios.get(APIPath+'verify-account/'+this.props.match.params.activation_code)\n\t  .then(function (response) {\n      if (response.data.status===true) {\n        context.setState({\n          loading: false,\n          error: false,\n          errorMsg: ''\n        });\n      }\n      else if (response.data.status===false) {\n        context.setState({\n          loading: false,\n          error: true,\n          errorMsg: response.data.errors\n        });\n      }\n\n\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\n      context.setState({\n        loading: false,\n        error: true,\n        errorMsg: ''\n      });\n\t  });\n  }\n\n  componentDidMount() {\n    this.verifyAccount();\n  }\n\n  render() {\n    let content = <div className=\"loader-container active-img-loader\">\n        <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60}  delay={0} />\n        </div>;\n    if (!this.state.loading) {\n      if (!this.state.error) {\n        content = <div style={{padding: \"30px 0 50px 0\"}}>\n          <h4>Welcome to Letters 1916-1923!</h4>\n          <p>Your new user account has been successfully verified. <br/>\n          Please login to start using your new user account.\n          </p>\n        </div>;\n      }\n      else {\n        content = <div style={{padding: \"30px 0 50px 0\"}}>\n          <h4>Error in verifying user account</h4>\n          <p>{this.state.errorMsg}</p>\n        </div>;\n      }\n\n    }\n    let breadCrumbsArr =[{label:'Verify Account',path:''}];\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>Verify new User Account</h1>\n          </div>\n        </div>\n        <div className=\"item-container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              {content}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport Dropzone from 'react-dropzone';\nimport {APIPath} from '../common/constants.js';\nimport axios from 'axios';\nimport {Link,Redirect} from 'react-router-dom';\n\nexport default class LetterUploadXML extends Component {\n  constructor() {\n    super()\n    this.state = {\n      files: [],\n      dissaproved_files: [],\n      post_status:false,\n      upload_loader:false,\n      progress_bar_text:\"\",\n      progress_bar_width:0,\n      view_updated_page_btn: [],\n      redirect:[]\n    }\n    this.onDrop = this.onDrop.bind(this);\n    this.uploadFiles = this.uploadFiles.bind(this);\n    this.viewUpdated = this.viewUpdated.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      files: [],\n      dissaproved_files: [],\n      post_status:false,\n      upload_loader:false,\n      progress_bar_text:\"\",\n      progress_bar_width:0\n    });\n  }\n\n  onDrop(files) {\n    let approvedFiles = [];\n    let disapprovedFiles = [];\n    for (let i=0; i<files.length;i++) {\n      let file = files[i];\n      if (file.type === \"text/xml\") {\n        approvedFiles.push(file);\n      }\n      else {\n        disapprovedFiles.push(file);\n      }\n    }\n    this.setState({\n      files: approvedFiles,\n      dissaproved_files: disapprovedFiles\n    });\n\n  }\n\n  viewUpdated(path) {\n    this.setState({redirect:<Redirect to={path}/>});\n  }\n\n  uploadFiles() {\n    if (this.state.files.length===0) {\n      return false;\n    }\n    let postStatus = this.state.post_status;\n    if (postStatus===true) {\n      return false;\n    }\n    this.setState({post_status:true});\n    let files = this.state.files;\n    let context = this;\n    let path = APIPath+\"fileupload\";\n    let postData = new FormData();\n    files.forEach(function(file) {\n      postData.append(\"data[]\",file);\n    });\n    postData.append(\"format\", \"xml_tei_letter19xx\");\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    context.setState({\n      upload_loader:true\n    });\n    axios({\n      method: \"post\",\n      url: path,\n      data: postData,\n      crossDomain: true,\n      config: { headers: {'Content-Type': 'multipart/form-data'}},\n      onUploadProgress: function (progressEvent){\n        let percentCompleted = Math.round( (progressEvent.loaded * 100) / progressEvent.total );\n        let progressBarText = \"Uploading... \"+parseFloat(percentCompleted).toFixed(2)+\"%\";\n        let progressBarWidth = percentCompleted+\"%\";\n        context.setState({\n          progress_bar_text:progressBarText,\n          progress_bar_width: progressBarWidth\n        });\n      }\n    })\n    .then(function (response) {\n        let responseData = response.data;\n        if (responseData.status===200) {\n          context.setState({\n            files: [],\n            dissaproved_files: [],\n            post_status:false,\n            progress_bar_text: responseData.message\n          });\n          let documentId = responseData.data.document_id;\n          let refreshPageBtn = <Link to={\"/letter/\"+documentId} className=\"btn btn-default\">View updated letter page <i className=\"fa fa-chevron-right\"></i></Link>\n          setTimeout(function() {\n            context.setState({\n              upload_loader: false,\n              progress_bar_text: \"\",\n              progress_bar_width:0,\n              view_updated_page_btn:refreshPageBtn\n            });\n          },2000);\n        }\n    })\n    .catch(function (response) {\n        //handle error\n        context.setState({post_status:false});\n        console.log(response);\n    });\n  }\n\n  render() {\n    let filesList = \"\";\n    let dissaprovedFilesList = \"\";\n    let uploadBtn = <button className=\"btn btn-success\" onClick={this.uploadFiles} disabled><i className=\"fa fa-upload\"></i> Upload</button>;\n    if (this.state.files.length>0) {\n      filesList = <div>\n        <b>Selected file</b>\n        <ul>\n          {\n            this.state.files.map(f => <span key={f.name}>{f.name} - {f.size} bytes</span>)\n          }\n        </ul>\n      </div>;\n      uploadBtn = <button className=\"btn btn-success\" onClick={this.uploadFiles}><i className=\"fa fa-upload\"></i> Upload</button>;\n    }\n    if (this.state.dissaproved_files.length>0) {\n      dissaprovedFilesList = <div>\n        The file <b className=\"dissaproved\">{this.state.dissaproved_files.map(f => <span key={f.name} className=\"dissaproved-file\">{f.name}</span>)}</b> is not allowed!\n      </div>\n    }\n\n    let progressBar = \"\";\n    let stateWidth = this.state.progress_bar_width;\n    let stateText = this.state.progress_bar_text;\n    let statusBarInnerStyle;\n    if (this.state.upload_loader===true) {\n      statusBarInnerStyle = {\n        width: stateWidth\n      }\n      progressBar = <div className=\"upload-status-container\" id=\"upload-xml-status\">\n          <div className=\"upload-status-bar-inner\" style={statusBarInnerStyle}></div>\n          <div className=\"upload-status-bar-text\">{stateText}</div>\n        </div>;\n    }\n    let dropZoneStyle = {\n      width: \"100%\",\n      height: \"auto\"\n    }\n    return (\n      <div>\n        {this.state.redirect}\n        <b>Upload new XML file</b>\n        <div>\n          <div className=\"dropzone\">\n            <Dropzone\n              multiple={false}\n              onDrop={this.onDrop.bind(this)}\n              style={dropZoneStyle}\n              >\n              <p>To upload a new XML file drag and drop the file into the box<br/> - or - <br/>click in the box to browse your computer for the file.</p>\n              {filesList}\n              {dissaprovedFilesList}\n            </Dropzone>\n          </div>\n          {progressBar}\n\n          <br/>\n          {uploadBtn} {this.state.view_updated_page_btn}\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport Lightbox from 'react-image-lightbox';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {APIPath,archivePath} from '../common/constants.js';\nimport OwlCarousel from 'react-owl-carousel';\nimport {ToggleClass,fixImagePath} from '../helpers/helpers.js';\nimport LetterUploadXML from '../helpers/letter-upload-xml.js';\n\nexport class ItemView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      title: '',\n      source: '',\n      creator: '',\n      sent_location: '',\n      language: '',\n      document_id: 0,\n      recipient: '',\n      time_zone: '',\n      collection: '',\n      description: '',\n      date_created: '',\n      number_pages: 0,\n      request_time: '',\n      terms_of_use: '',\n      collection_id: '',\n      creator_gender: '',\n      doc_collection: '',\n      creator_location: '',\n      modified_timestamp: '',\n      recipient_location: '',\n      copyright_statement: '',\n      year_of_death_of_author: 0,\n      thumbnails:[],\n      images:[],\n      imagesPaths:[],\n      transcriptions:[],\n      transcriptionActive:'',\n      imageActive:'',\n      imageActiveLoading:true,\n      imageActiveLoaderHeight: 400,\n      photoIndex: 0,\n      isOpen: false,\n      downloadLink: [],\n      notFound: false,\n    };\n\n    this.toggleLetterInfo = this.toggleLetterInfo.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.showBigImage = this.showBigImage.bind(this);\n  }\n\n  toggleLetterInfo(e) {\n    e.stopPropagation();\n    let element = this.infoTrigger;\n    let child = element.children[0];\n    ToggleClass(child, \"\", \"closed\");\n\n    let infoContainer = this.infoContainer;\n    ToggleClass(infoContainer, \"\", \"closed\");\n  }\n\n  componentWillUnmount() {\n    this.setState({loading:true});\n  }\n\n  showPage(key) {\n\t\tthis.setState({\n      transcriptionActive:this.state.transcriptions[key] ,\n      imageActive:this.state.images[key],\n      imageActiveLoading:true\n    });\n\t}\n\n  handleImageLoaded(key) {\n    let containerHeight = this.imageContainer.clientHeight;\n    this.setState({\n      imageActiveLoading:false ,\n      imageActiveLoaderHeight:containerHeight\n    });\n  }\n\n  showBigImage(key) {\n    this.setState({\n      isOpen: true,\n      photoIndex: key\n    });\n  }\n\n  loadItem() {\n    let itemContext = this;\n    let getPath = \"\";\n    let itemId = 0;\n    let letterId = 0;\n    if (typeof itemContext.props.match.params.itemId!==\"undefined\") {\n      itemId = itemContext.props.match.params.itemId;\n      getPath = APIPath+'show/'+itemId;\n    }\n    else if (typeof itemContext.props.match.params.letterId!==\"undefined\") {\n      letterId = itemContext.props.match.params.letterId;\n      getPath = APIPath+'show-letter/'+letterId;\n    }\n    else {\n      return false;\n    }\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n\t\taxios.get(getPath)\n\t  .then(function (response) {\n      if (response.data.status) {\n        let responseData = response.data.data;\n        let dateSent = '';\n\n        if (responseData.date_created.length>0) {\n          dateSent = new Date(responseData.date_created);\n          let daySent = dateSent.getDate();\n          if (daySent<10) {\n            daySent = '0'+daySent;\n          }\n          let months = ['January','February','March','April','May','June','July','August','September','October','November','December'];\n          dateSent = daySent+' '+months[dateSent.getMonth()]+ ' '+dateSent.getFullYear();\n        }\n        // pages\n        let thumbnails = [];\n        let images = [];\n        let transcriptions = [];\n        let imagePaths = [];\n        for (let p=0;p<responseData.pages.length; p++) {\n          let page = responseData.pages[p];\n          let pageCount = p+1;\n          let thumbPath = archivePath+'square_thumbnails/'+page.archive_filename;\n          thumbPath = fixImagePath(thumbPath);\n          let thumbnail = <div className=\"item\" key={p}>\n            <div className='img-thumbnail item-thumb' \n              onClick={itemContext.showPage.bind(itemContext,p)}>\n              <img\n                data-id={page.page_id}\n                src={thumbPath}\n                alt=''\n                className='img-responsive page-thumbnail'\n                />\n                <label className=\"item-count\">{pageCount}</label>\n            </div>\n\n          </div>;\n          thumbnails.push(thumbnail);\n\n          let imagePath = archivePath+'fullsize/'+page.archive_filename;\n          imagePath = fixImagePath(imagePath);\n          let image = <img\n            onClick={itemContext.showBigImage.bind(itemContext,p)}\n            key={'image-'+p}\n            data-id={page.page_id}\n            src={imagePath}\n            alt=''\n            className='letter-details-big-img img-thumbnail img-responsive'\n            onLoad={itemContext.handleImageLoaded.bind(itemContext, p)}\n            ref={(imageContainer) => { itemContext.imageContainer = imageContainer; }}\n            />;\n          images.push(image);\n\n          imagePaths.push(imagePath);\n\n          let transcription;\n          if (page.transcription!==\"\") {\n            transcription = <div data-id={page.page_id} key={'transcription-'+p} className='page-transcription'>\n              <h4>Page transcription</h4>\n              <div dangerouslySetInnerHTML={{__html: page.transcription}}></div>\n            </div>\n          }\n          transcriptions.push(transcription);\n        }\n        let fileLink = [];\n        if (typeof responseData.file!==\"undefined\" && responseData.file.link.length>0) {\n          fileLink = <a download href={responseData.file.link}>{responseData.file.original_filename} <i className=\"fa fa-download\"></i></a>;\n        }\n        itemContext.setState({\n          loading:false,\n          title: responseData.title,\n          source: responseData.source,\n          creator: responseData.creator,\n          language: responseData.language,\n          sent_location: responseData.sent_location,\n          document_id: responseData.document_id,\n          recipient: responseData.recipient,\n          time_zone: responseData.time_zone,\n          collection: responseData.collection,\n          description: responseData.description,\n          date_created: dateSent,\n          number_pages: responseData.number_pages,\n          request_time: responseData.request_time,\n          terms_of_use: responseData.terms_of_use,\n          collection_ID: responseData.collection_ID,\n          creator_gender: responseData.creator_gender,\n          doc_collection: responseData.doc_collection,\n          creator_location: responseData.creator_location,\n          modified_timestamp: responseData.modified_timestamp,\n          recipient_location: responseData.recipient_location,\n          copyright_statement: responseData.copyright_statement,\n          year_of_death_of_author:responseData.year_of_death_of_author,\n          thumbnails: thumbnails,\n          images: images,\n          transcriptions: transcriptions,\n          imageActive: images[0],\n          imagePaths: imagePaths,\n          transcriptionActive: transcriptions[0],\n          downloadLink: fileLink\n        });\n      }\n      else {\n        itemContext.setState({\n          notFound: true,\n          loading: false\n        });\n      }\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n  componentDidMount() {\n    this.loadItem();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n\n    if (prevProps.match.params.itemId!==this.props.match.params.itemId ||\n        prevProps.match.params.letterId!==this.props.match.params.letterId\n      ) {\n      this.loadItem();\n    }\n  }\n\n  render() {\n    let breadCrumbsArr = [{label:'Browse',path:'/browse'},{label:this.state.title,path:''}];\n    let content;\n    let owlNavText = ['<i class=\"fa fa-angle-left\"></i>','<i class=\"fa fa-angle-right\"></i>'];\n    let owlResponsive = {\n        0:{\n          items:2\n        },\n        500:{\n          items:2\n        },\n        992:{\n          items:3\n        }\n    };\n    let owlThumbnails = this.state.thumbnails;\n    let activeImg;\n    if (this.state.imageActiveLoading) {\n      let activeImgStyle={height: this.state.imageActiveLoaderHeight+\"px\"};\n      activeImg = <div className=\"loader-container active-img-loader\" style={activeImgStyle}>\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60}  delay={0} />\n          <div className=\"hidden\">{this.state.imageActive}</div>\n          </div>;\n    }\n    else {\n      activeImg = this.state.imageActive;\n    }\n    if (this.state.loading) {\n      content = <div className=\"item-container\">\n          <div className=\"loader-container item-loader\">\n            <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60}  delay={0} />\n          </div>\n        </div>;\n    }\n    else {\n      if (this.state.notFound) {\n        content = <div className=\"item-container\" style={{padding: \"20px 0\"}}>\n          <h4 className=\"text-center\">Entry not found</h4>\n          </div>;\n      }\n      else {\n        const { photoIndex, isOpen, imagePaths } = this.state;\n        let letterUploadBox = \"\";\n        if (this.props.isAdmin===\"true\") {\n          letterUploadBox = <LetterUploadXML/>;\n        }\n        let creatorRow,\n          dateCreatedRow,\n          sentLocationRow,\n          sourceCollectionRow,\n          languageRow,\n          numpagesRow,\n          recipientRow,\n          recipientLocationRow,\n          sourceRow,\n          downloadRow,\n          documentIdRow\n          ;\n          if (this.state.creator!==\"\") {\n            creatorRow = <tr><th>From:</th><td>{this.state.creator}</td></tr>;\n          }\n          if (this.state.date_created!==\"\") {\n            dateCreatedRow = <tr><th>Date Sent:</th><td>{this.state.date_created}</td></tr>\n          }\n          if (this.state.sent_location!==\"\") {\n            sentLocationRow = <tr><th>Sent from:</th><td>{this.state.creator_location}</td></tr>\n          }\n          if (this.state.doc_collection!==\"\") {\n            sourceCollectionRow = <tr><th>Original collection:</th><td>{this.state.doc_collection}</td></tr>\n          }\n          if (this.state.language!==\"\") {\n            languageRow = <tr><th>Written in:</th><td>{this.state.language}</td></tr>\n          }\n          if (this.state.number_pages!==\"\") {\n            numpagesRow = <tr><th>Pages:</th><td>{this.state.number_pages}</td></tr>\n          }\n          if (this.state.recipient!==\"\") {\n            recipientRow = <tr><th>Recipient:</th><td>{this.state.recipient}</td></tr>\n          }\n          if (this.state.recipient_location!==\"\") {\n            recipientLocationRow = <tr><th>Recipient Location:</th><td>{this.state.recipient_location}</td></tr>\n          }\n          if (this.state.source!==\"\") {\n            sourceRow = <tr><th>Source:</th><td>{this.state.source}</td></tr>\n          }\n          if (this.props.isAdmin && this.state.downloadLink.length>0) {\n            downloadRow = <tr><th>Download XML:</th><td>{this.state.downloadLink}</td></tr>\n          }\n          if (this.props.isAdmin) {\n            documentIdRow = <tr><th>Document ID:</th><td>{this.state.document_id}</td></tr>\n          }\n\n        let letterDetailsInfo = <div>\n          <table className=\"letter-details-table\">\n            <tbody>\n              {creatorRow}\n              {dateCreatedRow}\n              {sentLocationRow}\n              {recipientRow}\n              {recipientLocationRow}\n              {languageRow}\n              {numpagesRow}\n              {sourceRow}\n              {sourceCollectionRow}\n              {downloadRow}\n              {documentIdRow}\n            </tbody>\n          </table>\n        </div>;\n\n        content = <div className=\"item-container\">\n          <h2>{this.state.title}</h2>\n          <div className=\"row\">\n            <div className=\"col-xs-12 col-sm-8 col-md-8 col-lg-7\">\n              <div className=\"letter-info-container\" ref={(infoContainer) => { this.infoContainer = infoContainer; }}>\n                <h4>Letter information\n                  <div className=\"btn btn-default btn-xs pull-right toggle-info-btn\" ref={(infoTrigger) => { this.infoTrigger = infoTrigger; }} onClick={this.toggleLetterInfo.bind(this)}>\n                    <i className=\"fa fa-angle-down\"></i>\n                  </div>\n                </h4>\n                {letterDetailsInfo}\n              </div>\n              {this.state.transcriptionActive}\n              <p className=\"letter-description\">{this.state.description}</p>\n            </div>\n            <div className=\"col-xs-12 col-sm-4 col-md-4 col-lg-5\">\n              <div className=\"letter-big-img-container\">\n                {activeImg}\n              </div>\n              <OwlCarousel\n                className=\"owl-theme item-pages-thumbnails\"\n                loop={false}\n                margin={10}\n                nav\n                responsive={owlResponsive}\n                navText={owlNavText}\n                navContainerClass='item-thumbnails-nav'\n                dots={false}>\n                  {owlThumbnails}\n                </OwlCarousel>\n                {letterUploadBox}\n            </div>\n          </div>\n\n          {isOpen && (\n            <Lightbox\n              mainSrc={imagePaths[photoIndex]}\n              nextSrc={imagePaths[(photoIndex + 1) % imagePaths.length]}\n              prevSrc={imagePaths[(photoIndex + imagePaths.length - 1) % imagePaths.length]}\n              onCloseRequest={() => this.setState({ isOpen: false })}\n              onMovePrevRequest={() =>\n                this.setState({\n                  photoIndex: (photoIndex + imagePaths.length - 1) % imagePaths.length,\n                })\n              }\n              onMoveNextRequest={() =>\n                this.setState({\n                  photoIndex: (photoIndex + 1) % imagePaths.length,\n                })\n              }\n            />\n          )}\n        </div>;\n      }\n\n    }\n    return (\n      <div className=\"container item-view\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            {content}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\n\nexport default class ProtectedPage extends Component {\n\n  render() {\n    return (\n      <p className=\"text-center\">This is a protected page.\n        <br/>To view this page you must first <button className=\"btn btn-default btn-xs\" onClick={this.props.loginModalOpen}>login</button> or <Link className=\"btn btn-default btn-xs\" to='/register' href='/register'>register.</Link></p>\n    )\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport Dropzone from 'react-dropzone';\nimport {APIPath} from '../common/constants.js';\nimport axios from 'axios';\nimport ProtectedPage from '../components/protected-page';\n\nexport class UploadXML extends Component {\n  constructor() {\n    super()\n    this.state = {\n      files: [],\n      dissaproved_files: [],\n      post_status:false,\n      upload_loader:false,\n      progress_bar_text:\"\",\n      progress_bar_width:0\n    }\n    this.onDrop = this.onDrop.bind(this);\n    this.uploadFiles = this.uploadFiles.bind(this);\n  }\n\n  componentDidMount() {\n    this.setState({\n      files: [],\n      dissaproved_files: [],\n      post_status:false,\n      upload_loader:false,\n      progress_bar_text:\"\",\n      progress_bar_width:0\n    });\n  }\n\n  onDrop(files) {\n    let approvedFiles = [];\n    let disapprovedFiles = [];\n    for (let i=0; i<files.length;i++) {\n      let file = files[i];\n      if (file.type === \"text/xml\") {\n        approvedFiles.push(file);\n      }\n      else {\n        disapprovedFiles.push(file);\n      }\n    }\n    this.setState({\n      files: approvedFiles,\n      dissaproved_files: disapprovedFiles\n    });\n\n  }\n\n  uploadFiles() {\n    if (this.state.files.length===0) {\n      return false;\n    }\n    let postStatus = this.state.post_status;\n    if (postStatus===true) {\n      return false;\n    }\n    this.setState({post_status:true});\n    let files = this.state.files;\n    let context = this;\n    let path = APIPath+\"fileupload\";\n    let postData = new FormData();\n    files.forEach(function(file) {\n      postData.append(\"data[]\",file);\n    });\n    postData.append(\"format\", \"xml_tei_letter19xx\");\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    context.setState({\n      upload_loader:true\n    });\n    axios({\n      method: \"post\",\n      url: path,\n      data: postData,\n      crossDomain: true,\n      config: { headers: {'Content-Type': 'multipart/form-data'}},\n      onUploadProgress: function (progressEvent){\n        let percentCompleted = Math.round( (progressEvent.loaded * 100) / progressEvent.total );\n        let progressBarText = \"Uploading... \"+parseFloat(percentCompleted).toFixed(2)+\"%\";\n        let progressBarWidth = percentCompleted+\"%\";\n        context.setState({\n          progress_bar_text:progressBarText,\n          progress_bar_width: progressBarWidth\n        });\n      }\n    })\n    .then(function (response) {\n        let responseData = response.data;\n        if (responseData.status===200) {\n          context.setState({\n            files: [],\n            dissaproved_files: [],\n            post_status:false,\n            progress_bar_text: responseData.message\n          });\n          setTimeout(function() {\n            context.setState({\n              upload_loader: false,\n              progress_bar_text: \"\",\n              progress_bar_width:0\n            });\n          },2000);\n        }\n    })\n    .catch(function (response) {\n        //handle error\n        context.setState({post_status:false});\n        console.log(response);\n    });\n  }\n\n  render() {\n    let breadCrumbsArr = [{label:'Upload XML',path:''}];\n    let filesList = \"\";\n    let dissaprovedFilesList = \"\";\n    if (this.state.files.length>0) {\n      filesList = <div>\n        <h3>Files list</h3>\n        <ul>\n          {\n            this.state.files.map(f => <li key={f.name}>{f.name} - {f.size} bytes</li>)\n          }\n        </ul>\n      </div>\n    }\n    if (this.state.dissaproved_files.length>0) {\n      dissaprovedFilesList = <div>\n        <h3>Dissaproved Files list</h3>\n        <ul>{this.state.dissaproved_files.map(f => <li key={f.name} className=\"dissaproved-file\">{f.name} - {f.size} bytes</li>)}</ul>\n      </div>\n    }\n\n    let progressBar = \"\";\n    let stateWidth = this.state.progress_bar_width;\n    let stateText = this.state.progress_bar_text;\n    let statusBarInnerStyle;\n    if (this.state.upload_loader===true) {\n      statusBarInnerStyle = {\n        width: stateWidth\n      }\n      progressBar = <div className=\"upload-status-container\" id=\"upload-xml-status\">\n          <div className=\"upload-status-bar-inner\" style={statusBarInnerStyle}></div>\n          <div className=\"upload-status-bar-text\">{stateText}</div>\n        </div>;\n    }\n    let contentHTML = <div>\n      <div className=\"dropzone\">\n        <Dropzone onDrop={this.onDrop.bind(this)}>\n          <p>To upload one or more XML files drag and drop them into the box<br/> - or - <br/>click in the box to browse your computer for the files.</p>\n\n        </Dropzone>\n      </div>\n      {progressBar}\n      {filesList}\n      {dissaprovedFilesList}\n      <br/>\n      <button className=\"btn btn-success\" onClick={this.uploadFiles}><i className=\"fa fa-upload\"></i> Upload</button>\n    </div>;\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive!=='true') {\n      contentHTML = <ProtectedPage\n        loginModalOpen={this.props.loginModalOpen}\n        />\n    }\n    return (\n      <div>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n              <h1><span>Upload new XML files</span></h1>\n              <div className=\"item-container\">\n                {contentHTML}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\n\nexport class ContentView extends Component {\n  componentDidMount() {\n\n  }\n\n  render() {\n    let aboutTitle = 'Letters of 1916-1923';\n    let aboutHTML = <div>\n      <h2>{aboutTitle}</h2>\n      <p>Letters of 1916 is Ireland’s first crowdsourced public humanities project.\n      It has created an online collection of letters about Ireland written around the time of the Easter Rising.\n      Letters cover all aspects of life, from major political events, the Easter Rising and the Great War, to letters that provide us with a candid and unmediated glimpse into ordinary life, love and work a century ago.\n      There are thousands of letters in the collection connecting hundreds of lives.</p>\n\n      <p>Letters have been collected from public institutions around the world as well as from private, family collections.\n      This database allows you to explore the letters in great detail facilitating two modes of discovery: search and browse.</p>\n\n      <p>If you are looking for a specific word, person, place, or event, go to the Search page and enter the term in the simple search box.\n      If you don’t have a specific query, go to the Browse page where you can explore the collection by date or theme.</p>\n\n      <p>Once letters are displayed, you can further refine your search by filtering options on the right hand side of the page.\n      New letters are constantly being added to this database, so search results may differ from time to time.</p>\n\n      <p>Both images of the letters and transcripts are available to view.\n      This provides the best of both words.\n      Images convey the personality of the letter writer: their handwriting, their writing style, notes and doodles, giving us insights into their mood and state of mind.</p>\n\n      <p>Transcriptions, on the other hand, make it easier to read difficult handwriting.\n      These letters have been transcribed by thousands of people around the world and proofed by the Letters of 1916 team.\n      Even so, there will be errors in transcription.\n      Please let us know if you spot any of these by clicking on the Share & Feedback tab and reporting the error.</p>\n\n      <p>We are constantly adding new letters to the collection, both institutional and private.\n      Letters can be added to the Contribute database directly through this link.\n      If you have too many letters to be added one by one, please get in touch with us here.</p>\n    </div>;\n\n    let contentName = this.props.match.params.contentName;\n    let contentHTML,\n      contentTitle;\n    if (contentName===\"about\") {\n      contentHTML = aboutHTML;\n      contentTitle = aboutTitle;\n    }\n    let breadCrumbsArr = [{label:contentTitle,path:''}];\n    return (\n      <div>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n              {contentHTML}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport Gallery from 'react-grid-gallery';\n\nexport default class TilesGallery extends Component {\n  constructor(props){\n      super(props);\n      this.state = {\n          images: this.props.images\n      };\n  }\n\n  render () {\n    return (\n            <div style={{\n                display: \"block\",\n                minHeight: \"1px\",\n                width: \"100%\",\n                overflow: \"auto\"}}>\n            <Gallery\n        images={this.state.images}\n        enableImageSelection={false}/>\n            </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {WPCustomRestPath,domain} from '../common/constants.js';\nimport {NormalizeWPURL} from '../helpers/helpers.js';\nimport {Link} from 'react-router-dom';\nimport Parser from 'html-react-parser';\nimport domToReact from 'html-react-parser/lib/dom-to-react';\nimport TilesGallery from '../components/wp-tiles-gallery';\n\nexport class WPContentView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading:true,\n      content: [],\n    }\n  }\n\n  getPage() {\n    let slug = this.props.match.params.slug;\n    let context = this;\n    axios.get(WPCustomRestPath+\"post\", {\n        params: {\n          \"slug\": slug\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data;\n        if (response.statusText===\"OK\") {\n          context.setState({\n            content:pageData,\n            loading:false\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  componentDidMount() {\n    this.getPage();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.match.url!==this.props.match.url) {\n      this.setState({\n        loading:true\n      });\n      this.getPage();\n    }\n  }\n\n  cleanContentURLs(content) {\n    let newContent;\n    if (typeof content !==\"undefined\" && content!==\"\") {\n      newContent = Parser(\"<div>\"+content+\"<div>\", {\n        replace: function(domNode) {\n          if (domNode.name===\"a\") {\n            if (typeof domNode.attribs.href!==\"undefined\") {\n              let href = domNode.attribs.href;\n              let newHref = NormalizeWPURL(href);\n              if (newHref.includes(\"wp-post\")) {\n                if (typeof domNode.children[0]!==\"undefined\") {\n                  if (typeof domNode.children[0].data!==\"undefined\") {\n                    let text = domNode.children[0].data;\n                    text = domToReact(domNode.children);\n                    newHref = newHref.replace(domain, \"\");\n                    return <Link to={newHref}>{text}</Link>;\n                  }\n                }\n              }\n            }\n          }\n          if (domNode.name===\"div\") {\n\n            if (typeof domNode.attribs.class!==\"undefined\") {\n\n\n              if (domNode.attribs.class.includes(\"final-tiles-gallery\")) {\n                if (typeof domNode.children[0].attribs.class!==\"undefined\") {\n\n\n                  let galleryItems = [];\n                  if(domNode.children[0].attribs.class.includes(\"ftg-items\")) {\n                    let items = domNode.children[0];\n                    for (let i=0; i<items.children.length; i++) {\n                      let item = items.children[i];\n                      if (typeof item.attribs.class!==\"undefined\") {\n                        if (item.attribs.class.includes(\"tile\")) {\n                          let link = \"\";\n                          let img = \"\";\n\n                          if (typeof item.children[0]!==\"undefined\") {\n\n                            if (typeof item.children[0].children[1]!==\"undefined\") {\n                              if (typeof item.children[0].children[1].attribs.class!==\"undefined\") {\n\n\n                                if (item.children[0].children[1].attribs.class.includes(\"ftg-social\")) {\n\n                                  link = item.children[0].children[0];\n                                  img = link.children[0];\n                                }\n\n                                else {\n                                  link = item.children[0];\n                                  img = link.children[0];\n                                }\n\n                              }\n                            }\n\n\n                          }\n\n                          if (typeof img!==\"undefined\") {\n                            let imgWidth = 320;\n                            let imgHeight = 120;\n                            if (typeof img.attribs.width!==\"undefined\") {\n                               imgWidth = parseInt(img.attribs.width,10);\n                            }\n\n                            if (typeof img.attribs.height!==\"undefined\") {\n                               imgHeight = parseInt(img.attribs.height,10);\n                            }\n                            let url = \"\";\n                            if (typeof link.attribs.href!==\"undefined\") {\n                              url = link.attribs.href;\n                            }\n                            let newImage = {\n                              src:img.attribs.src,\n                              thumbnail:img.attribs.src,\n                              thumbnailWidth: imgWidth,\n                              thumbnailHeight: imgHeight,\n                              caption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\"rel=\"noopener noreferrer\">More...</a>,\n                              thumbnailCaption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">More...</a>,\n                              isSelected: false\n                            }\n                            galleryItems.push(newImage);\n                          }\n\n                        }\n                      }\n\n                    }\n\n                  }\n\n                  return <div className=\"grid-gallery\">\n                    <TilesGallery images={galleryItems} enableImageSelection={false} />\n                  </div>;\n                }\n\n\n              }\n\n\n\n            }\n          }\n        }\n      });\n    }\n    return newContent;\n  }\n\n  render() {\n    let contentHTML,contentTitle;\n    let breadCrumbsArr = [];\n    let pageContent;\n    if (this.state.loading) {\n      pageContent = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      let postDate = \"\";\n      let cleanContent = this.cleanContentURLs(this.state.content.rendered);\n      contentTitle = <span dangerouslySetInnerHTML={{__html:this.state.content.post_title}}></span>;\n      contentHTML = cleanContent;\n      if (typeof this.state.content.categories!==\"undefined\" && this.state.content.categories.length>0) {\n        breadCrumbsArr.push({label:this.state.content.categories[0].name,path:'/wp-category/'+this.state.content.categories[0].slug});\n      }\n      if (this.state.content.post_modified!==\"\") {\n        postDate = <div className=\"post-date\">{this.state.content.post_modified}</div>;\n      }\n      breadCrumbsArr.push({label:contentTitle,path:''});\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"wp-content item-container\">\n              {postDate}\n              {contentHTML}\n            </div>\n          </div>\n        </div>\n      </div>\n    }\n    return (\n      <div>\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {Link} from 'react-router-dom';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {WPCustomRestPath} from '../common/constants';\nimport {stripHTML} from '../helpers/helpers';\nimport Pagination from '../helpers/pagination';\nimport BreadCrumbs from '../components/breadcrumbs';\n\nexport class WPCategoryView extends Component {\n  constructor(props, context) {\n    super(props, context);\n    this.state = {\n      loading: false,\n      browseItems: [],\n      current_page: 1,\n      path: WPCustomRestPath+\"category-list/\",\n      per_page: 0,\n      total: 1,\n      paginate: 10,\n      gotopage_value: 1,\n      temp_page: 1,\n      category_name: \"\"\n    };\n\n    this.gotoPage = this.gotoPage.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n  }\n\n  gotoPage(pageNum) {\n    if (parseInt(pageNum,10)>0 && parseInt(pageNum,10)!==this.state.current_page) {\n      this.setState({\n        current_page:pageNum,\n        loading: true\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        gotopage_value:newPage,\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  showPage() {\n    let browseContext = this;\n    let slug = this.props.match.params.slug;\n    if (slug!==\"\") {\n      let path = this.state.path;\n      axios.get(path, {\n          params: {\n            slug: slug,\n            page: this.state.current_page,\n            posts_per_page: this.state.paginate,\n            orderby: \"date\"\n          }\n        })\n    \t  .then(function (response) {\n          let responseData = response.data.data;\n          let itemsData = responseData.data;\n\n          // list of items to display\n          let browseItems = [];\n          for (let i=0; i<itemsData.length; i++) {\n            let item = itemsData[i];\n            let defaultThumbnail;\n            if (item.thumbnail!==\"\") {\n              defaultThumbnail = <img className=\"list-thumbnail img-responsive\" src={item.thumbnail} alt={item.post_title} />\n            }\n            let description = \"\";\n            if (item.description!==\"\") {\n              let descriptionText = stripHTML(item.description);\n              if (descriptionText.length>400) {\n                descriptionText = descriptionText.substring(0,400);\n              }\n\n              description = descriptionText+\"...\";\n            }\n            var browseItem = <li data-id={item.ID} key={i} className=\"img-clearfix\">\n                <Link to={ 'wp-post/'+item.post_name}>{defaultThumbnail}</Link>\n                <h4><Link to={ '/wp-post/'+item.post_name}>{item.post_title}</Link></h4>\n                <p>{description}</p>\n              </li>;\n            browseItems.push(browseItem);\n          }\n          if (browseItems.length===0) {\n            let empty = <li key={0}><i>There are no articles matching your search criteria</i></li>;\n            browseItems.push(empty);\n          }\n\n          let categoryName = \"\";\n          if (typeof responseData.category[0]!==\"undefined\") {\n            categoryName = responseData.category[0].cat_name;\n          }\n          // update state\n          browseContext.setState({\n            loading:false,\n            browseItems: browseItems,\n            current_page: responseData.current_page,\n            last_page: responseData.last_page,\n            total: responseData.total,\n            submit_search: false,\n            category_name: categoryName\n          });\n\n    \t  })\n    \t  .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n    else {\n      this.setState({\n        loading: false,\n        submit_search: false\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.showPage();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n        (\n          prevState.current_page!==this.state.current_page ||\n          prevState.paginate!==this.state.paginate\n        ) && this.state.loading===true ) {\n          this.showPage();\n        }\n  }\n\n\n  render() {\n\n    let content;\n    let breadCrumbsArr = [];\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"search-items\">{this.state.browseItems}</ul>;\n    }\n\n    let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n    if (this.state.paginate===10) {\n      paginate10Active = \"active\";\n    }\n    if (this.state.paginate===25) {\n      paginate25Active = \"active\";\n    }\n    if (this.state.paginate===50) {\n      paginate50Active = \"active\";\n    }\n\n    let paginationHTML = <div className=\"browse-filters\">\n\n      <DropdownButton\n        title=\"Limit\"\n        id=\"limit-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n        <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n      </DropdownButton>\n\n      <Pagination\n          paginate={this.state.paginate}\n          current_page={this.state.current_page}\n          total_pages={this.state.last_page}\n          pagination_function={this.gotoPage} />\n\n      <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n        <div className=\"input-group input-group-sm go-to-page\">\n          <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n          <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n          <span className=\"input-group-btn\">\n            <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n          </span>\n        </div>\n      </form>\n\n    </div>;\n\n    let contentHTML = \"\";\n    if (this.props.term!==\"\") {\n      breadCrumbsArr.push({label:this.state.category_name,path:''});\n      contentHTML = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{this.state.category_name}</h1>\n            <div className=\"item-container\">\n              {paginationHTML}\n              {content}\n              {paginationHTML}\n            </div>\n          </div>\n        </div>\n      </div>;\n    }\n    return (\n        <div>\n          {contentHTML}\n        </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {WPRestPath} from '../common/constants.js';\n\nexport class WPPagesView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading:true,\n      content: []\n    }\n  }\n\n  getPage() {\n    let slug = this.props.match.params.slug;\n    let context = this;\n    axios.get(WPRestPath+\"pages\", {\n        params: {\n          \"slug\": slug\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data[0];\n        if (response.data.length>0) {\n          context.setState({\n            content:pageData,\n            loading:false\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  componentDidMount() {\n    this.getPage();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.match.url!==this.props.match.url) {\n      this.setState({\n        loading:true\n      });\n      this.getPage();\n    }\n  }\n\n  render() {\n    let contentHTML,contentTitle;\n    let breadCrumbsArr = [];\n    let pageContent;\n    if (this.state.loading) {\n      pageContent = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      contentTitle = <span dangerouslySetInnerHTML={{__html:this.state.content.title.rendered}}></span>;\n      contentHTML = <div dangerouslySetInnerHTML={{__html: this.state.content.content.rendered}}></div>;\n      breadCrumbsArr.push({label:contentTitle,path:''});\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    }\n    return (\n      <div>\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\n\nexport class BlankView extends Component {\n  componentDidMount() {\n\n  }\n\n  render() {\n\n    return (\n      <div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {WPCustomRestPath,domain} from '../common/constants.js';\nimport axios from 'axios';\nimport Parser from 'html-react-parser';\nimport domToReact from 'html-react-parser/lib/dom-to-react';\nimport {NormalizeWPURL} from '../helpers/helpers.js';\nimport TilesGallery from '../components/wp-tiles-gallery';\nimport {Link} from 'react-router-dom';\n\n\nexport default class VizualizationsMap extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      fullScreenBtnClass: \"fa-expand\",\n      fullScreenStatus: 0,\n      iframeWidth: \"100%\",\n      iframeHeight: \"600\",\n      containerStyle: [],\n      content: []\n    }\n\n    this.getPage = this.getPage.bind(this);\n    this.toggleFullScreen = this.toggleFullScreen.bind(this);\n    this.cancelFullScreen = this.cancelFullScreen.bind(this);\n    this.requestFullScreen = this.requestFullScreen.bind(this);\n    this.requestFullScreen = this.requestFullScreen.bind(this);\n    this.cleanContentURLs = this.cleanContentURLs.bind(this);\n  }\n\n  getPage() {\n    let context = this;\n    axios.get(WPCustomRestPath+\"post\", {\n        params: {\n          \"slug\": \"interactive-map\"\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data;\n        if (response.statusText===\"OK\") {\n          context.setState({\n            content:pageData,\n            loading:false\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  toggleFullScreen() {\n    if (parseInt(this.state.fullScreenStatus,10)===0) {\n      let containerHeight = {\n        position: \"fixed\",\n        left: \"0\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        zIndex: \"999\"\n      }\n      this.requestFullScreen(document.body);\n      this.setState({\n        fullScreenBtnClass: \"fa-compress\",\n        fullScreenStatus: 1,\n        containerHeight: containerHeight\n      });\n    }\n    else {\n\n      this.cancelFullScreen(document);\n      this.setState({\n        fullScreenBtnClass: \"fa-expand\",\n        fullScreenStatus: 0,\n        containerHeight: [],\n        iframeHeight: \"600\"\n      });\n    }\n  }\n\n  cancelFullScreen(el) {\n  \tlet requestMethod = el.cancelFullScreen||el.webkitCancelFullScreen||el.mozCancelFullScreen||el.exitFullscreen;\n  \tif (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n  \treturn false;\n  }\n\n  requestFullScreen(el) {\n  \tlet requestMethod = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullscreen;\n    if (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        iframeHeight: window.innerHeight\n      });\n    },1000);\n  \treturn false;\n  }\n\n  cleanContentURLs(content) {\n    let newContent;\n    if (typeof content !==\"undefined\" && content!==\"\") {\n      newContent = Parser(\"<div>\"+content+\"<div>\", {\n        replace: function(domNode) {\n          if (domNode.name===\"a\") {\n            if (typeof domNode.attribs.href!==\"undefined\") {\n              let href = domNode.attribs.href;\n              let newHref = NormalizeWPURL(href);\n              if (newHref.includes(\"wp-post\")) {\n                if (typeof domNode.children[0]!==\"undefined\") {\n                  if (typeof domNode.children[0].data!==\"undefined\") {\n                    let text = domNode.children[0].data;\n                    text = domToReact(domNode.children);\n                    newHref = newHref.replace(domain, \"\");\n                    return <Link to={newHref}>{text}</Link>;\n                  }\n                }\n              }\n            }\n          }\n          if (domNode.name===\"div\") {\n\n            if (typeof domNode.attribs.class!==\"undefined\") {\n\n\n              if (domNode.attribs.class.includes(\"final-tiles-gallery\")) {\n                if (typeof domNode.children[0].attribs.class!==\"undefined\") {\n\n\n                  let galleryItems = [];\n                  if(domNode.children[0].attribs.class.includes(\"ftg-items\")) {\n                    let items = domNode.children[0];\n                    for (let i=0; i<items.children.length; i++) {\n                      let item = items.children[i];\n                      if (typeof item.attribs.class!==\"undefined\") {\n                        if (item.attribs.class.includes(\"tile\")) {\n                          let link = \"\";\n                          let img = \"\";\n\n                          if (typeof item.children[0]!==\"undefined\") {\n\n                            if (typeof item.children[0].children[1]!==\"undefined\") {\n                              if (typeof item.children[0].children[1].attribs.class!==\"undefined\") {\n\n\n                                if (item.children[0].children[1].attribs.class.includes(\"ftg-social\")) {\n\n                                  link = item.children[0].children[0];\n                                  img = link.children[0];\n                                }\n\n                                else {\n                                  link = item.children[0];\n                                  img = link.children[0];\n                                }\n\n                              }\n                            }\n\n\n                          }\n\n                          if (typeof img!==\"undefined\") {\n                            let imgWidth = 320;\n                            let imgHeight = 120;\n                            if (typeof img.attribs.width!==\"undefined\") {\n                               imgWidth = parseInt(img.attribs.width,10);\n                            }\n\n                            if (typeof img.attribs.height!==\"undefined\") {\n                               imgHeight = parseInt(img.attribs.height,10);\n                            }\n                            let url = \"\";\n                            if (typeof link.attribs.href!==\"undefined\") {\n                              url = link.attribs.href;\n                            }\n                            let newImage = {\n                              src:img.attribs.src,\n                              thumbnail:img.attribs.src,\n                              thumbnailWidth: imgWidth,\n                              thumbnailHeight: imgHeight,\n                              caption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">More...</a>,\n                              thumbnailCaption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">More...</a>,\n                              isSelected: false\n                            }\n                            galleryItems.push(newImage);\n                          }\n\n                        }\n                      }\n\n                    }\n\n                  }\n\n                  return <div className=\"grid-gallery\">\n                    <TilesGallery images={galleryItems} enableImageSelection={false} />\n                  </div>;\n                }\n\n\n              }\n\n\n\n            }\n          }\n        }\n      });\n    }\n    return newContent;\n  }\n\n  componentWillMount() {\n    this.getPage();\n  }\n  render() {\n    let pageContent;\n    let wpText = this.cleanContentURLs(this.state.content.rendered);\n    let contentTitle = this.state.content.post_title;\n    let breadCrumbsArr = [];\n    let iframe = '<iframe style=\"border: none;\" src=\"'+domain+'/magellan_vizualizations/map/index.html\" width=\"'+this.state.iframeWidth+'\" height=\"'+this.state.iframeHeight+'\"></iframe>';\n    let contentHTML = <div>\n      <div>\n        {wpText}\n      </div>\n      <div className=\"map-container\" style={this.state.containerHeight}>\n        <i className={\"btn btn-white fa toggle-fullscreen \"+this.state.fullScreenBtnClass} onClick={this.toggleFullScreen.bind(this)}></i>\n       <div dangerouslySetInnerHTML={{__html:iframe}}></div>\n      </div>\n    </div>;\n    breadCrumbsArr.push({label:\"Visual Exploration\",path:'/wp-post/visual-exploration'});\n    breadCrumbsArr.push({label:contentTitle,path:''});\n    pageContent = <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n          <h1>{contentTitle}</h1>\n          <div className=\"item-container\">\n            {contentHTML}\n          </div>\n        </div>\n      </div>\n    </div>;\n    return (\n      <div>\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {WPCustomRestPath,domain} from '../common/constants.js';\nimport axios from 'axios';\nimport Parser from 'html-react-parser';\nimport domToReact from 'html-react-parser/lib/dom-to-react';\nimport {NormalizeWPURL} from '../helpers/helpers.js';\nimport TilesGallery from '../components/wp-tiles-gallery';\nimport {Link} from 'react-router-dom';\n\nexport default class VizualizationsGraph extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      fullScreenBtnClass: \"fa-expand\",\n      fullScreenStatus: 0,\n      iframeWidth: \"100%\",\n      iframeHeight: \"600\",\n      containerStyle: [],\n      content: []\n    }\n\n    this.getPage = this.getPage.bind(this);\n    this.toggleFullScreen = this.toggleFullScreen.bind(this);\n    this.cancelFullScreen = this.cancelFullScreen.bind(this);\n    this.requestFullScreen = this.requestFullScreen.bind(this);\n    this.requestFullScreen = this.requestFullScreen.bind(this);\n    this.cleanContentURLs = this.cleanContentURLs.bind(this);\n  }\n\n  getPage() {\n    let context = this;\n    axios.get(WPCustomRestPath+\"post\", {\n        params: {\n          \"slug\": \"letter-network\"\n        }\n      })\n  \t  .then(function (response) {\n        let pageData = response.data;\n        if (response.statusText===\"OK\") {\n          context.setState({\n            content:pageData,\n            loading:false\n          });\n        }\n      })\n      .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  toggleFullScreen() {\n    if (parseInt(this.state.fullScreenStatus,10)===0) {\n      let containerHeight = {\n        position: \"fixed\",\n        left: \"0\",\n        top: \"0\",\n        right: \"0\",\n        bottom: \"0\",\n        zIndex: \"999\"\n      }\n      this.requestFullScreen(document.body);\n      this.setState({\n        fullScreenBtnClass: \"fa-compress\",\n        fullScreenStatus: 1,\n        containerHeight: containerHeight\n      });\n    }\n    else {\n\n      this.cancelFullScreen(document);\n      this.setState({\n        fullScreenBtnClass: \"fa-expand\",\n        fullScreenStatus: 0,\n        containerHeight: [],\n        iframeHeight: \"600\"\n      });\n    }\n  }\n\n  cancelFullScreen(el) {\n  \tlet requestMethod = el.cancelFullScreen||el.webkitCancelFullScreen||el.mozCancelFullScreen||el.exitFullscreen;\n  \tif (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n  \treturn false;\n  }\n\n  requestFullScreen(el) {\n  \tlet requestMethod = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullscreen;\n    if (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        iframeHeight: window.innerHeight\n      });\n    },1000);\n  \treturn false;\n  }\n\n  cleanContentURLs(content) {\n    let newContent;\n    if (typeof content !==\"undefined\" && content!==\"\") {\n      newContent = Parser(\"<div>\"+content+\"<div>\", {\n        replace: function(domNode) {\n          if (domNode.name===\"a\") {\n            if (typeof domNode.attribs.href!==\"undefined\") {\n              let href = domNode.attribs.href;\n              let newHref = NormalizeWPURL(href);\n              if (newHref.includes(\"wp-post\")) {\n                if (typeof domNode.children[0]!==\"undefined\") {\n                  if (typeof domNode.children[0].data!==\"undefined\") {\n                    let text = domNode.children[0].data;\n                    text = domToReact(domNode.children);\n                    newHref = newHref.replace(domain, \"\");\n                    return <Link to={newHref}>{text}</Link>;\n                  }\n                }\n              }\n            }\n          }\n          if (domNode.name===\"div\") {\n\n            if (typeof domNode.attribs.class!==\"undefined\") {\n\n\n              if (domNode.attribs.class.includes(\"final-tiles-gallery\")) {\n                if (typeof domNode.children[0].attribs.class!==\"undefined\") {\n\n\n                  let galleryItems = [];\n                  if(domNode.children[0].attribs.class.includes(\"ftg-items\")) {\n                    let items = domNode.children[0];\n                    for (let i=0; i<items.children.length; i++) {\n                      let item = items.children[i];\n                      if (typeof item.attribs.class!==\"undefined\") {\n                        if (item.attribs.class.includes(\"tile\")) {\n                          let link = \"\";\n                          let img = \"\";\n\n                          if (typeof item.children[0]!==\"undefined\") {\n\n                            if (typeof item.children[0].children[1]!==\"undefined\") {\n                              if (typeof item.children[0].children[1].attribs.class!==\"undefined\") {\n\n\n                                if (item.children[0].children[1].attribs.class.includes(\"ftg-social\")) {\n\n                                  link = item.children[0].children[0];\n                                  img = link.children[0];\n                                }\n\n                                else {\n                                  link = item.children[0];\n                                  img = link.children[0];\n                                }\n\n                              }\n                            }\n\n\n                          }\n\n                          if (typeof img!==\"undefined\") {\n                            let imgWidth = 320;\n                            let imgHeight = 120;\n                            if (typeof img.attribs.width!==\"undefined\") {\n                               imgWidth = parseInt(img.attribs.width,10);\n                            }\n\n                            if (typeof img.attribs.height!==\"undefined\") {\n                               imgHeight = parseInt(img.attribs.height,10);\n                            }\n                            let url = \"\";\n                            if (typeof link.attribs.href!==\"undefined\") {\n                              url = link.attribs.href;\n                            }\n                            let newImage = {\n                              src:img.attribs.src,\n                              thumbnail:img.attribs.src,\n                              thumbnailWidth: imgWidth,\n                              thumbnailHeight: imgHeight,\n                              caption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">More...</a>,\n                              thumbnailCaption: <a className=\"btn btn-letters btn-block btn-flat\" href={url} target=\"_blank\" rel=\"noopener noreferrer\">More...</a>,\n                              isSelected: false\n                            }\n                            galleryItems.push(newImage);\n                          }\n\n                        }\n                      }\n\n                    }\n\n                  }\n\n                  return <div className=\"grid-gallery\">\n                    <TilesGallery images={galleryItems} enableImageSelection={false} />\n                  </div>;\n                }\n\n\n              }\n\n\n\n            }\n          }\n        }\n      });\n    }\n    return newContent;\n  }\n\n  componentWillMount() {\n    this.getPage();\n  }\n\n  render() {\n    let pageContent;\n    let wpText = this.cleanContentURLs(this.state.content.rendered);\n    let contentTitle = this.state.content.post_title;\n    let breadCrumbsArr = [];\n    let iframe = '<iframe style=\"border: none;\" src=\"'+domain+'/magellan_vizualizations/graph/index.html\" width=\"'+this.state.iframeWidth+'\" height=\"'+this.state.iframeHeight+'\"></iframe>';\n    let contentHTML = <div>\n      {wpText}\n      <div className=\"map-container\" style={this.state.containerHeight}>\n        <i className={\"btn btn-white fa toggle-fullscreen \"+this.state.fullScreenBtnClass} onClick={this.toggleFullScreen.bind(this)}></i>\n       <div dangerouslySetInnerHTML={{__html:iframe}}></div>\n      </div>\n    </div>;\n    breadCrumbsArr.push({label:\"Visual Exploration\",path:'/wp-post/visual-exploration'});\n    breadCrumbsArr.push({label:contentTitle,path:''});\n    pageContent = <div className=\"container\">\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n          <h1>{contentTitle}</h1>\n          <div className=\"item-container\">\n            {contentHTML}\n          </div>\n        </div>\n      </div>\n    </div>;\n    return (\n      <div>\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport VizualizationMap from '../components/vizualizations-map.js';\nimport VizualizationGraph from '../components/vizualizations-graph.js';\nimport ReactLoading from 'react-loading';\n\nexport class VizualizationsView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      content: [],\n    }\n  }\n\n  componentDidMount() {\n    let viewType = this.props.match.params.type;\n    if (viewType===\"map\") {\n      this.embedMap();\n    }\n    if (viewType===\"graph\") {\n      this.embedGraph();\n    }\n  }\n\n  embedMap() {\n    this.setState({\n      loading: false,\n      content: <VizualizationMap/>\n    });\n  }\n\n  embedGraph() {\n    this.setState({\n      loading: false,\n      content: <VizualizationGraph/>\n    });\n  }\n\n  render() {\n    let pageContent;\n    if (this.state.loading) {\n      pageContent = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      pageContent = this.state.content;\n    }\n    return (\n      <div>\n        {pageContent}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {archivePath} from '../../common/constants';\nimport {ToggleClass,fixImagePath} from '../../helpers/helpers';\nimport Resizable from 're-resizable';\nimport Draggable from 'react-draggable';\n\nexport default class TranscriptionImageViewer extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      imgWidth: \"auto\",\n      imgHeight: \"100%\",\n      positionX: 0,\n      positionY: 0,\n      fullScreenBtnClass: \"fa-expand\",\n      fullScreenStatus: false,\n      dragging:false\n    };\n    this.imgRef = React.createRef();\n    this.handleStop = this.handleStop.bind(this);\n    this.handleStart = this.handleStart.bind(this);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n  }\n\n  updateViewer(type) {\n    let img = this.imgRef.current;\n    let rect = img.getBoundingClientRect();\n    let imgTop = rect.top;\n    let imgRight = rect.right;\n    let imgBottom = rect.bottom;\n    let imgLeft = rect.left;\n    let imgWidth = imgRight-imgLeft;\n    let imgHeight = imgBottom-imgTop;\n    if (type===\"zoomin\") {\n      let newWidth = imgWidth + ((imgWidth*25)/100);\n      let newHeight = imgHeight + ((imgHeight*25)/100);\n      newWidth = newWidth+\"px\";\n      newHeight = newHeight+\"px\";\n      this.setState({\n        imgWidth: newWidth,\n        imgHeight: newHeight,\n      });\n      return false;\n    }\n    if (type===\"zoomout\") {\n      let newWidth = imgWidth - ((imgWidth*25)/100);\n      let newHeight = imgHeight - ((imgHeight*25)/100);\n      if (newHeight<=400) {\n        newWidth = \"auto\";\n        newHeight = \"400px\";\n      }\n      else {\n        newWidth = newWidth+\"px\";\n        newHeight = newHeight+\"px\";\n      }\n      this.setState({\n        imgWidth: newWidth,\n        imgHeight: newHeight,\n      });\n      return false;\n    }\n    if (type===\"scrollup\") {\n      let newImgTop = this.state.positionY;\n      newImgTop = parseInt(newImgTop,10)-100;\n      this.setState({\n        positionY: newImgTop\n      });\n      return false;\n    }\n    if (type===\"scrolldown\") {\n      let newImgTop = this.state.positionY;\n      newImgTop = parseInt(newImgTop,10)+100;\n      this.setState({\n        positionY: newImgTop\n      });\n      return false;\n    }\n    if (type===\"scrollright\") {\n      let newImgLeft = this.state.positionX;\n      newImgLeft = parseInt(newImgLeft,10)+100;\n      this.setState({\n        positionX: newImgLeft\n      });\n      return false;\n    }\n    if (type===\"scrollleft\") {\n      let newImgLeft = this.state.positionX;\n      newImgLeft = parseInt(newImgLeft,10)-100;\n      this.setState({\n        positionX: newImgLeft\n      });\n      return false;\n    }\n    if (type===\"expand\") {\n      this.toggleFullScreen();\n      let container = document.getElementById(\"transcription-container\");\n      ToggleClass(container, \"container\", \"container-fluid\");\n      return false;\n    }\n  }\n\n  handleStop(e) {\n    let img = this.imgRef.current;\n    let imgTransform = img.style.transform;\n    imgTransform = imgTransform.replace(\"translate(\",\"\").replace(\")\",\"\");\n    let imgTransformArr = imgTransform.split(\",\");\n    let newX = imgTransformArr[0].trim().replace(\"px\",\"\");\n    let newY = imgTransformArr[1].trim().replace(\"px\",\"\");\n    this.setState({\n      positionX: parseInt(newX,10),\n      positionY: parseInt(newY,10),\n      dragging: false\n    });\n    return false;\n  }\n\n  handleStart(e) {\n    this.setState({\n      dragging: true\n    });\n  }\n\n  toggleFullScreen() {\n    if (this.state.fullScreenStatus===false) {\n      this.requestFullScreen(document.body);\n      this.setState({\n        fullScreenBtnClass: \"fa-compress\",\n        fullScreenStatus: true\n      });\n      return false;\n    }\n    else {\n      this.cancelFullScreen(document);\n      this.setState({\n        fullScreenBtnClass: \"fa-expand\",\n        fullScreenStatus: false\n      });\n    }\n  }\n\n  cancelFullScreen(el) {\n  \tlet requestMethod = el.cancelFullScreen||el.webkitCancelFullScreen||el.mozCancelFullScreen||el.exitFullscreen;\n  \tif (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n  \treturn false;\n  }\n\n  requestFullScreen(el) {\n  \tlet requestMethod = el.requestFullScreen || el.webkitRequestFullScreen || el.mozRequestFullScreen || el.msRequestFullscreen;\n    if (requestMethod) {\n  \t\trequestMethod.call(el);\n  \t}\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        iframeHeight: window.innerHeight\n      });\n    },1000);\n  \treturn false;\n  }\n\n  render() {\n    let pageSource = fixImagePath(archivePath+\"fullsize/\"+this.props.page.archive_filename);\n    let imgStyle = {\n      width: this.state.imgWidth,\n      height: this.state.imgHeight\n    }\n    let draggingClass=\"\";\n    if (this.state.dragging) {\n      draggingClass = \" dragging\";\n    }\n    let img = <Draggable\n      defaultPosition={{x: 0, y: 0}}\n      position={{x: this.state.positionX, y: this.state.positionY}}\n      onStart={this.handleStart}\n      onStop={this.handleStop}>\n      <img draggable=\"false\" ref={this.imgRef} className={\"transcription-img\"+draggingClass} src={pageSource} alt=\"\" style={imgStyle}/>\n    </Draggable>;\n    let imgViewerHTML = <Resizable className=\"transcription-img-container\" defaultSize={{\n      width: \"100%\",\n      height: 400,\n    }}\n    maxWidth=\"100%\"\n    minWidth=\"100%\"\n    >\n      <div className=\"transcription-img-controllers\">\n        <ul>\n          <li key={0}><span className='href-btn' onClick={this.updateViewer.bind(this,\"zoomin\")}><i className=\"fa fa-plus\"></i></span></li>\n          <li key={1}><span className='href-btn' onClick={this.updateViewer.bind(this,\"zoomout\")}><i className=\"fa fa-minus\"></i></span></li>\n          <li key={2}><span className='href-btn' onClick={this.updateViewer.bind(this,\"scrollup\")}><i className=\"fa fa-caret-up\"></i></span></li>\n          <li key={3}><span className='href-btn' onClick={this.updateViewer.bind(this,\"scrolldown\")}><i className=\"fa fa-caret-down\"></i></span></li>\n          <li key={4}><span className='href-btn' onClick={this.updateViewer.bind(this,\"scrollleft\")}><i className=\"fa fa-caret-left\"></i></span></li>\n          <li key={5}><span className='href-btn' onClick={this.updateViewer.bind(this,\"scrollright\")}><i className=\"fa fa-caret-right\"></i></span></li>\n          <li key={6}><span className='href-btn' onClick={this.updateViewer.bind(this,\"expand\")}><i className={\"fa \"+this.state.fullScreenBtnClass}></i></span></li>\n        </ul>\n      </div>\n      <div className=\"transcription-img-container-inner\">\n        {img}\n      </div>\n    </Resizable>;\n    return (\n      <div>\n        {imgViewerHTML}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport OwlCarousel from 'react-owl-carousel';\nimport {archivePath} from '../../common/constants';\nimport {fixImagePath} from '../../helpers/helpers';\n\nexport default class TranscriptionPagesList extends React.Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.state = {\n      thumbnails:[],\n      images:[],\n      loading: false,\n    };\n    this.renderThumbnails = this.renderThumbnails.bind(this);\n  }\n\n  renderThumbnails() {\n    let newThumbnails;\n      this.setState({\n        thumbnails: newThumbnails,\n        loading:false,\n      });\n\n  }\n\n  componentDidMount() {\n    this.renderThumbnails();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n        prevProps.selected!==this.props.selected ||\n        prevProps.pages!==this.props.pages\n      ) {\n      this.renderThumbnails();\n    }\n  }\n\n  render() {\n    let newThumbnails = [];\n    if (typeof this.props.pages!==\"undefined\" && this.props.pages.length>0) {\n      let pages = this.props.pages;\n      for (let i=0;i<pages.length; i++) {\n        let page = pages[i];\n        let transcriptionStatus = page.transcription_status;\n        let pageStatus = [];\n        if (parseInt(transcriptionStatus,10)===0) {\n          pageStatus = <small className=\"label label-success\">Open</small>;\n        }\n        if (parseInt(transcriptionStatus,10)===1) {\n          pageStatus = <small className=\"label label-warning\">Waiting Approval</small>;\n        }\n        if (parseInt(transcriptionStatus,10)===2) {\n          pageStatus = <small className=\"label label-danger\">Completed</small>;\n        }\n        let pageCount = i+1;\n        let selectedClass = \"\";\n        if (i===this.props.selected) {\n          selectedClass = \" selected\";\n        }\n        let thumbPath = fixImagePath(archivePath+'square_thumbnails/'+page.archive_filename);\n        let thumbnail =<div className={\"item\"+selectedClass} key={i}>\n          <span className=\"href-btn img-thumbnail\"\n            onClick={this.props.function.bind(this,i)}\n            >\n            <div className=\"transcription-page-select-status\">{pageStatus}</div>\n            <img\n              data-id={page.page_id}\n              src={thumbPath}\n              alt=''\n              className='img-responsive page-thumbnail' />\n              <label className=\"item-count\">{pageCount}</label>\n          </span>\n        </div>;\n        newThumbnails.push(thumbnail);\n      }\n    }\n\n    let owlNavText = ['<i class=\"fa fa-angle-left\"></i>','<i class=\"fa fa-angle-right\"></i>'];\n    let owlResponsive = {\n        0:{\n          items:1\n        },\n        400:{\n          items:4\n        },\n        992:{\n          items:8\n        },\n        1200:{\n          items:12\n        }\n    };\n    let content = <OwlCarousel\n        className=\"owl-theme item-pages-thumbnails\"\n        loop={false}\n        margin={10}\n        nav\n        responsive={owlResponsive}\n        navText={owlNavText}\n        navContainerClass='item-thumbnails-nav'\n        dots={false}>\n          {newThumbnails}\n      </OwlCarousel>\n    return (\n      <div>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {editorExportTranscription, editorImportTranscription} from '../../helpers/xml-editor/xml-editor';\nimport axios from 'axios';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport {APIPath} from '../../common/constants.js';\n\nexport default class TranscriptionEditor extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      saving: [],\n      error: [],\n      docked: true,\n      positionX: 0,\n      positionY: 0,\n      handle: false,\n      isResizing: false,\n      undockedWidth: 500,\n      resize: false,\n      width: '600px',\n      height: 'auto',\n      dragover: false,\n      textarea_disabled: false,\n      allowSave: false\n    }\n    this.elementName = \"editor_\" + this.props.id;\n    this.onInput = this.onInput.bind(this);\n    this.updateTranscription = this.updateTranscription.bind(this);\n    this.resetAllowSave = this.resetAllowSave.bind(this);\n    this.resizing = this.resizing.bind(this);\n    this.unsetResize = this.unsetResize.bind(this);\n    this.updateEditorView = this.updateEditorView.bind(this);\n\n    // dragging\n    this.setHandle = this.setHandle.bind(this);\n    this.startDrag = this.startDrag.bind(this);\n    this.endDrag = this.endDrag.bind(this);\n    this.dragStop = this.dragStop.bind(this);\n    this.dragOver = this.dragOver.bind(this);\n    this.dragEnter = this.dragEnter.bind(this);\n    this.dragLeave = this.dragLeave.bind(this);\n\n    // ref the editor\n    this.editorRef = React.createRef();\n  }\n\n  updateEditorView(newProps) {\n    if (typeof newProps.page.transcription_status !==\"undefined\") {\n      this.setState({\n        textarea_disabled: false\n      });\n      let newTranscription = newProps.page.transcription;\n      if (newTranscription===null) {\n        newTranscription = \"\";\n      }\n      this.updateTranscription(newTranscription);\n    }\n    else {\n      this.setState({\n        textarea_disabled: false\n      });\n      let newTranscription = newProps.page.transcription;\n      if (newTranscription===null) {\n        newTranscription = \"\";\n      }\n      this.updateTranscription(newTranscription);\n    }\n  }\n\n  componentDidMount() {\n\n    loadProgressBar();\n    let context = this;\n    let newTranscription = \"\";\n    if (typeof context.props.page.transcription_status !==\"undefined\") {\n      if (parseInt(context.props.page.transcription_status,10)>0) {\n        this.setState({\n          textarea_disabled: true,\n          allowSave: false\n        });\n      }\n    }\n    else {\n      this.setState({\n        textarea_disabled: false,\n        allowSave: false\n      });\n    }\n\n    if (window.CKEDITOR.instances[this.elementName]) {\n      try {\n        window.CKEDITOR.instances[this.elementName].destroy(true);\n      } catch (e) {\n        console.log(e);\n      }\n    }\n\n    if (this.props.updatePages!==[]) {\n      window.CKEDITOR.replace(this.elementName, {\n        on: {\n          instanceReady: function(e) {\n            if (context.props.page.transcription!==null) {\n              newTranscription = context.props.page.transcription;\n            }\n            else newTranscription = \"\";\n            context.updateTranscription(newTranscription);\n\n            // add change event listener\n            let inputTimeout = null;\n            window.CKEDITOR.instances[context.elementName].on('change', function (e) {\n              if (!context.state.allowSave) {\n                e.stop();\n                e.cancel();\n                return false;\n              }\n              let data = window.CKEDITOR.instances[this.elementName].getData();\n              if (inputTimeout !== null) {\n                clearTimeout(inputTimeout);\n              }\n              this.props.disableNav();\n              inputTimeout = setTimeout(function () {\n                context.onInput(data);\n              }, 2000);\n\n            }.bind(context));\n\n\n          }\n        }\n      });\n    }\n\n    // dragging\n    window.addEventListener('dragover', this.dragOver);\n    window.addEventListener('drop', this.endDrag);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('dragover', this.dragOver);\n    window.removeEventListener('drop', this.endDrag);\n  }\n\n  componentWillReceiveProps(newProps) {\n    if (\n        newProps.page.transcription!==this.props.page.transcription\n        || newProps.page.transcription_status!==this.props.page.transcription_status\n        || newProps.page.archive_filename!==this.props.page.archive_filename\n      ) {\n      this.updateEditorView(newProps);\n\n      this.setState({\n        transcription_content:newProps.page.transcription,\n        allowSave: false,\n      });\n      let context = this;\n      setTimeout(function() {\n        context.resetAllowSave();\n      },50);\n    }\n  }\n\n  onInput(data) {\n    if (this.state.allowSave) {\n      this.setState({\n        saving: <span><i>Saving</i> <i className=\"fa fa-spin fa-circle-o-notch\"></i></span>\n      })\n      let letterId = this.props.letterId;\n      let archiveFilename = this.props.page.archive_filename;\n      let newData = \"\";\n      if (data!==\"\") {\n        newData = editorExportTranscription(data);\n      }\n\n      let context = this;\n      let path = APIPath+\"update-letter-transcription-page/\"+letterId;\n      let accessToken = sessionStorage.getItem('accessToken');\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n      axios({\n        method: 'POST',\n        url: path,\n        crossDomain: true,\n        data: {\"archive_filename\": archiveFilename, \"transcription\": newData}\n      })\n      .then(function (response) {\n        if (response.data.status) {\n          context.setState({\n            saving: []\n          });\n          context.props.updatePages(response.data.data);\n        }\n        else {\n          let newError = {\n            error: true,\n            msg: response.data.message\n          };\n          context.props.error(newError);\n          context.setState({\n            saving: <span><i>Save error </i> <i className=\"fa fa-times\"></i></span>\n          });\n          setTimeout(function() {\n            context.setState({\n              saving: []\n            });\n          },1000);\n        }\n        context.props.enableNav();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  updateTranscription(data) {\n    let context = this;\n    let contentMarkup = editorImportTranscription(data);\n    if (window.CKEDITOR.instances[context.elementName]!==null) {\n      context.setState({\n        allowSave: false\n      });\n      setTimeout(function() {\n        window.CKEDITOR.instances[context.elementName].setData(contentMarkup, context.resetAllowSave);\n      },50);\n    }\n\n  }\n\n  resetAllowSave() {\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        allowSave: true\n      });\n    }, 50);\n  }\n\n  // drag\n  setHandle(e) {\n    this.setState({\n      handle: true\n    });\n  }\n\n  unsetHandle(e) {\n    e.preventDefault();\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        handle: false\n      });\n    },50);\n  }\n\n  startDrag(e) {\n    e.stopPropagation();\n    // make sure the element is only draggable by its handle\n    if (!this.state.handle) {\n      e.preventDefault();\n    }\n    else {\n      e.dataTransfer.setData(\"text/html\", e.target.id);\n      e.dataTransfer.dropEffect = \"move\";\n    }\n  }\n\n  endDrag(e) {\n    let newX = e.clientX - this.state.undockedWidth - 78;\n    let newY = e.clientY - 19;\n    this.setState({\n      handle: false,\n      docked: false,\n      positionX: newX,\n      positionY: newY,\n      dragover: false,\n    });\n    return false;\n  }\n\n  // dock\n  dragStop(e) {\n    let context = this;\n    setTimeout(function() {\n      context.setState({\n        docked: true,\n        positionX: 0,\n        positionY: 0,\n        handle: false,\n        dragover: false\n      });\n    },50);\n    e.stopPropagation();\n    e.preventDefault();\n    return false;\n  }\n\n  dragOver(e) {\n    e.stopPropagation();\n    e.preventDefault();\n    return false;\n  }\n\n  dragEnter(e) {\n    this.setState({\n      dragover: true\n    });\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  dragLeave(e) {\n    this.setState({\n      dragover: false\n    });\n    e.preventDefault();\n    return false;\n  }\n\n  // resize\n  setResize(e) {\n    e.preventDefault();\n    this.setState({\n      resize: true\n    });\n  }\n\n  unsetResize(e) {\n    e.preventDefault();\n    this.setState({\n      resize: false\n    });\n  }\n\n  resizeMouseMove(e) {\n    if( this.state.resize ){\n      this.resizing(e.clientX, e.clientY);\n    }\n  }\n\n  resizing(clientX, clientY){\n    let node = this.editorRef.current;\n    let width = clientX - node.offsetLeft + (16 / 2);\n    let height = clientY - node.offsetTop  + (16 / 2);\n    this.setState({\n      width: width,\n      height: height,\n    });\n  }\n\n  render() {\n    //let resizeHandleClass=\"hidden\";\n    let undockedStyle = [];\n    let dropzoneClass = \"\";\n    if (!this.state.docked) {\n      undockedStyle = {\n        'position': 'fixed',\n        'top': this.state.positionY,\n        'left': this.state.positionX,\n        'zIndex':'999',\n        'width': this.state.width,\n        'height': this.state.height\n      };\n      //resizeHandleClass = \"\";\n      dropzoneClass = \" active\";\n    }\n    let dragOverClass=\"\";\n    if (this.state.dragover) {\n      dragOverClass = \" over\";\n    }\n    /*let resizeHandle = <div\n      className={\"transcription-editor-resize-handle \"+resizeHandleClass}\n        onMouseDown={this.setResize.bind(this)}\n      >\n      </div>;\n    resizeHandle = [];*/\n\n    let dragHandle = <div\n      className=\"transcription-editor-move-handle\"\n      onMouseDown={this.setHandle.bind(this)}\n      onMouseUp={this.unsetHandle.bind(this)}\n      >\n      <i className=\"fa fa-arrows\"></i>\n    </div>;\n\n    // output\n    let editorVisibleClass=\"\";\n    let content;\n    if (this.state.textarea_disabled) {\n      editorVisibleClass = \"hidden\";\n      let transcriptionText = \"\";\n      if (this.props.page.transcription!==null) {\n        transcriptionText = this.props.page.transcription;\n      }\n      content = <div className=\"transcription-container\" dangerouslySetInnerHTML={{__html: transcriptionText}}></div>;\n    }\n\n    return (\n      <div>\n        {content}\n        <div className={editorVisibleClass}>\n          <div\n            className={\"transcription-editor-dropzone\"+dropzoneClass+dragOverClass}\n            onDrop={this.dragStop.bind(this)}\n            onDragEnter={this.dragEnter.bind(this)}\n            onDragOver={this.dragOver.bind(this)}\n            onDragLeave={this.dragLeave.bind(this)}\n            >\n          </div>\n          <div\n            className=\"transcription-editor\"\n            ref={this.editorRef}\n            style={undockedStyle}\n            draggable=\"true\"\n            onDragStart={this.startDrag.bind(this)}\n            //onDragEnd={this.endDrag.bind(this)}\n            >\n            {dragHandle}\n              <div className=\"transcription-saving-container\">\n                <div className=\"transcription-saving\">{this.state.saving}</div>\n              </div>\n              <textarea name={this.elementName}></textarea>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","export function editorImportTranscription(transcription) {\n  if (transcription!==\"\") {\n    transcription = transcription\n      .replace(/<lb *\\/?>/ig,\"<br>\")\n      .replace(/<address>/ig, \"<addresstag>\").replace(/<\\/address>/ig, \"</addresstag>\")\n      .replace(/<add>/ig, \"<addtag>\").replace(/<\\/add>/ig, \"</addtag>\")\n      .replace(/<unclear>/ig, \"<uncleartag>\").replace(/<\\/unclear>/ig, \"</uncleartag>\")\n      .replace(/<note>/ig, \"<notetag>\").replace(/<\\/note>/ig, \"</notetag>\")\n      .replace(/<sic>/ig, \"<sictag>\").replace(/<\\/sic>/ig, \"</sictag>\")\n      .replace(/<date>/ig, \"<datetag>\").replace(/<\\/date>/ig, \"</datetag>\")\n      ;\n    return transcription;\n  }\n  else return false;\n}\n\nexport function editorExportTranscription(transcription) {\n  if (transcription!==\"\") {\n    transcription = transcription\n      .replace(/&nbsp;/g,\" \")\n      .replace(/&#8203;/g,\"\")\n      .replace(/^<br ?>/ig,\"<lb/>\").replace(/<br *\\/?>/ig,\"<lb/>\")\n      .replace(/<addresstag>/ig,\"<address>\").replace(/<\\/addresstag>/ig,\"</address>\")\n      .replace(/<addtag>/ig,\"<add>\").replace(/<\\/addtag>/ig,\"</add>\")\n      .replace(/<uncleartag>/ig,\"<unclear>\").replace(/<\\/uncleartag>/ig,\"</unclear>\")\n      .replace(/<notetag>/ig,\"<note>\").replace(/<\\/notetag>/ig,\"</note>\")\n      .replace(/<sictag>/ig,\"<sic>\").replace(/<\\/sictag>/ig,\"</sic>\")\n      .replace(/<datetag>/ig,\"<date>\").replace(/<\\/datetag>/ig,\"</date>\")\n      ;\n    return transcription;\n  }\n  else return false;\n}\n\nexport function replaceTag(text, tags) {\n  let newText = text;\n  for (let i=0;i<tags.length; i++) {\n    let tag = tags[i];\n    if (tag.source.name!==\"\") {\n      let tagOpening = \"<\"+tag.source.name;\n      let tagSelfClosing = \"/>\";\n      let tagClosing = \"</\"+tag.source.name;\n      let tagStart = newText.indexOf(tagOpening);\n\n      if (tagStart>-1) {\n\n        if (tagStart!==false) {\n          // replace opening tag\n          let selfClosingTagStart = tagStart + newText.substring(tagStart).indexOf(tagSelfClosing)+1;\n          let tagStart2 = tagStart + newText.substring(tagStart).indexOf(\">\")+1;\n\n          if (selfClosingTagStart<tagStart2) {\n            let preOpeningStr = newText.substring(0, tagStart);\n            let postOpeningStr = newText.substring(selfClosingTagStart, newText.length);\n\n            let targetAttrs = \"\";\n            for (let j=0; j<tag.target.attributes.length; j++) {\n              let tagTargetAttr = tag.target.attributes[j];\n              targetAttrs += \" \"+tagTargetAttr.name+\"='\"+tagTargetAttr.value+\"'\";\n            }\n            let newOpeningTag = \"<\"+tag.target.name+targetAttrs+\">\";\n            newText = preOpeningStr+newOpeningTag+postOpeningStr;\n          }\n          else {\n            let preOpeningStr = newText.substring(0, tagStart);\n            let postOpeningStr = newText.substring(tagStart2, newText.length);\n\n            let targetAttrs = \"\";\n            for (let j=0; j<tag.target.attributes.length; j++) {\n              let tagTargetAttr = tag.target.attributes[j];\n              targetAttrs += \" \"+tagTargetAttr.name+\"='\"+tagTargetAttr.value+\"'\";\n            }\n            let newOpeningTag = \"<\"+tag.target.name+targetAttrs+\">\";\n            newText = preOpeningStr+newOpeningTag+postOpeningStr;\n\n            // replace closing tag\n            let tagEnd = newText.indexOf(tagClosing);\n            let tagEnd2 = tagEnd + newText.substring(tagEnd).indexOf(\">\")+1;\n            let preClosingStr = newText.substring(0, tagEnd);\n            let postClosingStr = newText.substring(tagEnd2, newText.length);\n            let newClosingTag = \"</\"+tag.target.name+\">\";\n            newText = preClosingStr+newClosingTag+postClosingStr;\n          }\n\n        }\n      }\n\n    }\n  }\n  return newText;\n}\n\nexport function replaceText(text, start, end, replaceValue) {\n\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport {APIPath} from '../common/constants.js';\nimport TranscriptionImageViewer from '../components/transcribe/image-viewer';\nimport TranscriptionPagesList from '../components/transcribe/pages-list';\nimport TranscriptionEditor from '../components/transcribe/editor-ck';\nimport ReactLoading from 'react-loading';\nimport ProtectedPage from '../components/protected-page';\n\nexport class TranscriptionLetterView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      title: '',\n      pages:[],\n      page: [],\n      containerClass: \"container\",\n      error: false,\n      msg: \"\",\n      isAdmin: this.props.isAdmin,\n      prevlocation: '',\n      prevlocationpath: '',\n      transcription_status: -1,\n      navDisabled: false,\n      selectedPage: 0,\n      adminModal: false\n    };\n\n    this.showPage = this.showPage.bind(this);\n    this.updatePages = this.updatePages.bind(this);\n    this.updateErrorState = this.updateErrorState.bind(this);\n    this.disableNav = this.disableNav.bind(this);\n    this.enableNav = this.enableNav.bind(this);\n    this.showAdminModal = this.showAdminModal.bind(this);\n    this.handleClose = this.handleClose.bind(this);\n    this.handleFormChange = this.handleFormChange.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n  }\n\n  handleFormChange(event) {\n    const target = event.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n\n    this.setState({\n      [name]: value\n    });\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n    let currentPage = this.state.page;\n\n    let archive_filename;\n    if (typeof currentPage.archive_filename!==\"undefined\") {\n      archive_filename = currentPage.archive_filename;\n    }\n\n    let itemId = 0;\n    let postPath;\n    let context = this;\n    if (typeof this.props.match.params.itemId!==\"undefined\") {\n      itemId = this.props.match.params.itemId;\n      postPath = APIPath+'update-letter-transcription-page-status/'+itemId;\n    }\n    else {\n      return false;\n    }\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n\t\taxios.post(postPath, {\n      'archive_filename': archive_filename,\n      'transcription_status': this.state.transcription_status\n    })\n\t  .then(function (response) {\n      if (response.data.status===true) {\n        let pages = response.data.data;\n        let updatedPage = [];\n        for (let i=0; i<pages.length; i++) {\n          let page = pages[i];\n          if (page.archive_filename===archive_filename) {\n            updatedPage = page;\n          }\n        }\n        context.setState({\n          page: updatedPage,\n          pages: pages,\n          adminModal: false\n        });\n      }\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n  showAdminModal() {\n    this.setState({\n      adminModal: true\n    })\n  }\n  handleClose() {\n    this.setState({\n      adminModal: false\n    })\n  }\n\n  loadItem() {\n    let itemId = 0;\n    let getPath;\n    let context = this;\n    if (typeof this.props.match.params.itemId!==\"undefined\") {\n      itemId = this.props.match.params.itemId;\n      getPath = APIPath+'letter-transcribe/'+itemId;\n    }\n    else {\n      return false;\n    }\n\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n\t\taxios.get(getPath)\n\t  .then(function (response) {\n      let responseData = response.data.data;\n      if (response.data.status===true) {\n        context.setState({\n          title: responseData.title,\n          pages: responseData.pages,\n          page: responseData.pages[0],\n          transcription_status: responseData.pages[0].transcription_status,\n          loading: false\n        });\n      }\n      else {\n        context.setState({\n          title: responseData.title,\n          error: true,\n          msg: response.data.message,\n          loading: false\n        });\n      }\n\t  })\n\t  .catch(function (error) {\n\t    console.log(error);\n\t  });\n  }\n\n  componentDidMount() {\n    this.loadItem();\n    if (typeof this.props.history.location.prevlocation!==\"undefined\") {\n      this.setState({\n        prevlocation: this.props.history.location.prevlocation,\n        prevlocationpath: this.props.history.location.prevlocationpath,\n      });\n    }\n  }\n\n\n  disableNav(navDisabled) {\n    if (!this.state.navDisabled) {\n      this.setState({\n        navDisabled: true\n      });\n    }\n  }\n\n  enableNav() {\n    if (this.state.navDisabled) {\n      this.setState({\n        navDisabled: false\n      });\n    }\n  }\n\n  showPage(i) {\n    if (!this.state.navDisabled) {\n      let newPage = this.state.pages[i];\n      this.setState({\n        page: newPage,\n        selectedPage: i\n      });\n      let newPageStatus=0;\n      if (typeof newPage.transcription_status!==\"undefined\") {\n        newPageStatus = parseInt(newPage.transcription_status,10);\n        this.setState({\n          transcription_status: newPageStatus\n        })\n      }\n    }\n  }\n\n  updatePages(pages) {\n    this.setState({\n      pages: pages\n    });\n  }\n\n  updateErrorState(newError) {\n    this.setState({\n      error: newError.error,\n      msg: newError.msg\n    });\n  }\n\n  render() {\n    let contentHTML,contentTitle;\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    let breadCrumbsArr = [];\n\t\tif (sessionActive!=='true') {\n      breadCrumbsArr = [{label:'My transcriptions',path:''}];\n      contentHTML = <div>\n        <ProtectedPage\n          loginModalOpen={this.props.loginModalOpen}\n          />\n      </div>;\n    }\n    else {\n      if (!this.state.error) {\n        if (this.state.loading) {\n          contentHTML = <div className=\"loader-container item-loader\">\n                <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60}  delay={0} />\n              </div>;\n        }\n        else if (this.state.loading===false) {\n          contentTitle = this.state.title;\n          contentHTML = <div>\n            <div className=\"text-right\">\n              <a className=\"btn btn-default btn-xs\" target=\"_blank\" href=\"/wp-post/how-to-transcribe\">How to transcribe</a>\n            </div>\n            <TranscriptionPagesList\n              pages={this.state.pages}\n              disabled={this.state.navDisabled}\n              function={this.showPage}\n              selected={this.state.selectedPage}\n              />\n            <TranscriptionImageViewer\n              page={this.state.page} />\n\n            <TranscriptionEditor\n              updatePages={this.updatePages}\n              letterId={this.props.match.params.itemId}\n              page={this.state.page}\n              id=\"letter-edit\"\n              error={this.updateErrorState}\n              disableNav={this.disableNav}\n              enableNav={this.enableNav}\n              />\n          </div>;\n        }\n        let breadCrumbsPath = {label:'My transcriptions', path:'/user-transcriptions'};\n        if (this.state.prevlocation!==\"\") {\n          breadCrumbsPath = {label: this.state.prevlocation, path: this.state.prevlocationpath}\n        }\n        breadCrumbsArr.push(breadCrumbsPath);\n        breadCrumbsArr.push({label:contentTitle,path:''});\n      }\n      else {\n        contentTitle = this.state.title;\n        breadCrumbsArr = [{label:'My transcriptions', path:'/user-transcriptions'},{label:contentTitle,path:''}];\n        contentHTML = <p className=\"text-center\">{this.state.msg}</p>;\n      }\n    }\n    return (\n      <div>\n        <div className=\"container\" id=\"transcription-container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <BreadCrumbs items={breadCrumbsArr}/>\n              <h1><span>{contentTitle}</span></h1>\n              <div className=\"item-container\">\n                {contentHTML}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport {Modal} from 'react-bootstrap';\n\nexport default class ConfirmModal extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\theaderText: \"\",\n\t\t\tbodyText: \"\",\n\t\t\tbuttonCancel: \"\",\n\t\t\tbuttonSuccess: \"\",\n\t\t\tbuttonCancelText: \"\",\n\t\t\tbuttonSuccessText: \"\",\n\t\t\tshowModal: false,\n\t\t};\n\n\t\tthis.handleShow = this.handleShow.bind(this);\n\t\tthis.handleClose = this.handleClose.bind(this);\n\t}\n\n\thandleClose() {\n\t\tthis.setState({ showModal: false });\n\t}\n\n\thandleShow() {\n\t\tthis.setState({ showModal: true });\n\t}\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps!==this.props) {\n      this.setState({\n        headerText: this.props.headerText,\n  \t\t\tbodyText: this.props.bodyText,\n  \t\t\tbuttonCancel: this.props.buttonCancel,\n  \t\t\tbuttonSuccess: this.props.buttonSuccess,\n  \t\t\tbuttonCancelText: this.props.buttonCancelText,\n  \t\t\tbuttonSuccessText: this.props.buttonSuccessText,\n        returnFunction: this.props.returnFunction,\n  \t\t\tshowModal: this.props.showModal,\n      });\n    }\n  }\n\n\trender() {\n    const newModal = (\n      <Modal\n        show={this.state.showModal}\n        onHide={this.handleClose}\n        bsSize=\"small\"\n        >\n          <Modal.Header closeButton>\n            <Modal.Title>{this.state.headerText}</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>\n            {this.state.bodyText}\n          </Modal.Body>\n          <Modal.Footer>\n            {this.state.buttonCancel}\n            {this.state.buttonSuccess}\n          </Modal.Footer>\n      </Modal>\n    );\n  \treturn (\n        <div>\n          {newModal}\n        </div>\n  \t);\n\t}\n}\n","import React, {Component} from 'react';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\nimport ConfirmModal from '../components/confirm-modal';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport {Modal} from 'react-bootstrap';\nimport {sessionCookie} from '../helpers/helpers';\nimport ProtectedPage from '../components/protected-page';\n\n\nexport class UserProfileView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      loading: true,\n      userName: '',\n      userEmail: '',\n      createdAt: '',\n      numLetters: '',\n      numTranscriptions: '',\n      showUpdateModal: false,\n      updateSubmitStatus: false,\n      updateName: '',\n      updateEmail: '',\n      updateErrorShow: false,\n      updateErrorMessage: '',\n      showPasswordModal: false,\n      passwordSubmitStatus: false,\n      updatePassword: '',\n      updatePasswordConfirm: '',\n      passwordErrorShow: false,\n      passwordErrorMessage: '',\n      strengthClass: '',\n      strengthLabel: '',\n      forgetMeErrorShow: false,\n      forgetMeErrorMessage: '',\n      showForgetMeConfirm: false,\n    }\n    this.loadItem = this.loadItem.bind(this);\n    // update user\n    this.handleUpdateModalShow = this.handleUpdateModalShow.bind(this);\n    this.handleUpdateModalClose = this.handleUpdateModalClose.bind(this);\n    this.handleUpdateFormChange = this.handleUpdateFormChange.bind(this);\n    this.handleUpdateFormSubmit = this.handleUpdateFormSubmit.bind(this);\n    this.updateErrorValidation = this.updateErrorValidation.bind(this);\n\n    // update password\n    this.handlePasswordModalShow = this.handlePasswordModalShow.bind(this);\n    this.handlePasswordModalClose = this.handlePasswordModalClose.bind(this);\n    this.handlePasswordFormChange = this.handlePasswordFormChange.bind(this);\n    this.handlePasswordFormSubmit = this.handlePasswordFormSubmit.bind(this);\n    this.passwordStrengthCalculate = this.passwordStrengthCalculate.bind(this);\n    this.passwordErrorValidation = this.passwordErrorValidation.bind(this);\n\n    // forget me\n    this.showForgetMeConfirm = this.showForgetMeConfirm.bind(this);\n    this.hideForgetMeConfirm = this.hideForgetMeConfirm.bind(this);\n    this.forgetMeSubmit = this.forgetMeSubmit.bind(this);\n    this.handleLogout = this.handleLogout.bind(this);\n  }\n\n\thandleUpdateModalShow() {\n\t\tthis.setState({\n      showUpdateModal: true,\n      updateName: this.state.userName,\n      updateEmail: this.state.userEmail,\n    });\n\t}\n  handleUpdateModalClose() {\n    this.setState({ showUpdateModal: false });\n\t}\n  handleUpdateFormChange(e) {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    this.setState({\n      [name]: value\n    });\n  }\n  handleUpdateFormSubmit(e) {\n    e.preventDefault();\n    if (this.updateErrorValidation()) {\n  \t\tif (this.state.updateSubmitStatus) {\n  \t\t\treturn false;\n  \t\t}\n  \t\tthis.setState({\n  \t\t\tupdateSubmitStatus: true\n  \t\t});\n  \t\tvar context = this;\n      let accessToken = sessionStorage.getItem('accessToken');\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n  \t\taxios.post(APIPath+'update-user', {\n  \t\t\tname: this.state.updateName.trim(),\n  \t\t\temail: this.state.updateEmail.trim(),\n  \t\t})\n  \t  .then(function (response) {\n  \t\t\tcontext.setState({\n  \t\t\t\tupdateSubmitStatus: false,\n  \t\t\t\tshowUpdateModal: false,\n          userName: context.state.updateName,\n          userEmail: context.state.updateEmail,\n  \t\t\t});\n  \t  })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n  \t  });\n    }\n  }\n  updateErrorValidation() {\n    let emailRegEx = /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,4}$/i;\n    if (this.state.updateName.trim().length===0) {\n      this.nameInput.focus();\n      this.setState({\n        updateErrorShow: true,\n        updateErrorMessage: 'Your Full Name cannot be blank!'\n      });\n      return false;\n    }\n    else if (this.state.updateEmail.search(emailRegEx) === -1) {\n      this.emailInput.focus();\n      this.setState({\n        updateErrorShow: true,\n        updateErrorMessage: 'Please enter a valid E-mail Address to continue!'\n      });\n      return false;\n    }\n    else {\n      this.setState({\n        updateErrorShow: false,\n        updateErrorMessage: ''\n      });\n    }\n    return true;\n  }\n\n  handlePasswordModalShow() {\n    this.setState({\n      showPasswordModal: true,\n    });\n  }\n  handlePasswordModalClose() {\n    this.setState({\n      showPasswordModal: false,\n    });\n  }\n  handlePasswordFormChange(e) {\n    const target = e.target;\n    const value = target.type === 'checkbox' ? target.checked : target.value;\n    const name = target.name;\n    if (name===\"updatePassword\") {\n      this.passwordStrengthCalculate(value);\n    }\n    this.setState({\n      [name]: value\n    });}\n  handlePasswordFormSubmit(e) {\n    e.preventDefault();\n    if (this.passwordErrorValidation()) {\n  \t\tif (this.state.passwordSubmitStatus) {\n  \t\t\treturn false;\n  \t\t}\n  \t\tthis.setState({\n  \t\t\tpasswordSubmitStatus: true\n  \t\t});\n  \t\tvar context = this;\n      let accessToken = sessionStorage.getItem('accessToken');\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n  \t\taxios.post(APIPath+'update-user-password', {\n  \t\t\tpassword: this.state.updatePassword.trim(),\n  \t\t\tpassword_confirmation: this.state.updatePasswordConfirm.trim(),\n  \t\t})\n  \t  .then(function (response) {\n  \t\t\tcontext.setState({\n  \t\t\t\tpasswordSubmitStatus: false,\n  \t\t\t\tshowPasswordModal: false,\n          updatePassword: '',\n          updatePasswordConfirm: '',\n  \t\t\t});\n  \t  })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n  \t  });\n    }\n  }\n  passwordStrengthCalculate(value) {\n    let strongRegex = new RegExp(\"^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#$%^&*])(?=.{8,})\");\n    let mediumRegex = new RegExp(\"^(((?=.*[a-z])(?=.*[A-Z]))|((?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Z])(?=.*[0-9])))(?=.{6,})\");\n    let strengthClass = \"\";\n    let strengthLabel = \"\";\n    if (value.trim().length>0) {\n      if(strongRegex.test(value)) {\n          strengthClass = \" green\";\n          strengthLabel = \"Strong\";\n      } else if(mediumRegex.test(value)) {\n          strengthClass = \" orange\";\n          strengthLabel = \"Medium\";\n      }\n      else {\n        strengthClass = \" red\";\n        strengthLabel = \"Weak\";\n      }\n    }\n    this.setState({\n      strengthClass: strengthClass,\n      strengthLabel: strengthLabel\n    });\n  }\n  passwordErrorValidation() {\n    if (this.state.updatePassword.trim().length<5) {\n      this.passwordInput.focus();\n      this.setState({\n        passwordErrorShow: true,\n        passwordErrorMessage: 'Your new password must contain at least 6 characters'\n      });\n      return false;\n    }\n    else if (this.state.updatePassword.trim() !== this.state.updatePasswordConfirm.trim()) {\n      this.passwordConfirmInput.focus();\n      this.setState({\n        passwordErrorShow: true,\n        passwordErrorMessage: \"Password and password confirm don't match. Please try again.\"\n      });\n      return false;\n    }\n    else {\n      this.setState({\n        passwordErrorShow: false,\n        passwordErrorMessage: ''\n      });\n    }\n    return true;\n  }\n\n  showForgetMeConfirm() {\n    this.setState({\n      showForgetMeConfirm: true\n    });\n  }\n  hideForgetMeConfirm() {\n    this.setState({\n      showForgetMeConfirm: false\n    });\n  }\n\n  forgetMeSubmit() {\n    let context = this;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios.get(APIPath+'forget-me')\n    .then(function (response) {\n      if (response.data.data.status===\"error\") {\n        context.setState({\n          forgetMeErrorShow: true,\n          forgetMeErrorMessage: response.data.message,\n          showForgetMeConfirm: false\n        })\n      }\n      else {\n        context.handleLogout();\n      }\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  handleLogout() {\n    sessionStorage.setItem('sessionActive', false);\n    sessionStorage.setItem('accessToken', '');\n    sessionStorage.setItem('userName', '');\n    sessionCookie('', false, '', true);\n    window.location.reload();\n\t}\n\n  loadItem() {\n    let context = this;\n    let path = APIPath+\"user-profile\";\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios.get(path)\n    .then(function (response) {\n      let responseData = response.data.data;\n      context.setState({\n        loading: false,\n        userName: responseData.name,\n        userEmail: responseData.email,\n        createdAt: responseData.created_at,\n        numLetters: responseData.num_letters,\n        numTranscriptions: responseData.num_transcriptions,\n      })\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  componentDidMount() {\n    this.loadItem();\n    loadProgressBar();\n  }\n\n  render() {\n    let contentHTML,pageContent,userUpdateModal,passwordModal,forgetMeModal;\n    let contentTitle = \"User profile\";\n    let breadCrumbsArr = {label:contentTitle, path: ''};\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive!=='true') {\n      contentHTML = <ProtectedPage\n        loginModalOpen={this.props.loginModalOpen}\n        />\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    }\n    else {\n      if (this.state.loading) {\n        pageContent = <div className=\"loader-container\">\n            <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n      }\n      else {\n        let forgetMeErrorClass = \"error-container\";\n    \t\tif (this.state.forgetMeErrorShow) {\n    \t\t\tforgetMeErrorClass = \"error-container-visible\";\n    \t\t}\n\n    \t\tlet updateErrorClass = \"error-container\";\n    \t\tif (this.state.updateErrorShow) {\n    \t\t\tupdateErrorClass = \"error-container-visible\";\n    \t\t}\n        userUpdateModal = (\n          <Modal\n            show={this.state.showUpdateModal}\n            onHide={this.handleUpdateModalClose}\n            bsSize=\"small\"\n    \t\t\t\t>\n            <Modal.Header closeButton>\n              <Modal.Title><i className=\"fa fa-user-circle\"></i> Update your information</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n    \t\t\t\t\t<form onSubmit={this.handleUpdateFormSubmit}>\n    \t\t\t\t\t\t<div className={updateErrorClass}>{this.state.updateErrorMessage}</div>\n\n    \t\t\t\t\t\t<div className=\"form-group\">\n    \t\t\t\t\t\t\t<label>Name</label>\n    \t\t\t        <input name=\"updateName\" type=\"text\" className=\"form-control\" ref={(input) => { this.nameInput = input; }} value={this.state.updateName} onChange={this.handleUpdateFormChange} />\n    \t\t\t      </div>\n    \t\t\t\t\t\t<div className=\"form-group\">\n    \t\t\t\t\t\t\t<label>E-mail</label>\n    \t\t\t\t\t\t\t<input name=\"updateEmail\" type=\"email\" className=\"form-control\" ref={(input) => { this.nameInput = input; }} value={this.state.updateEmail} onChange={this.handleUpdateFormChange} />\n    \t\t\t\t\t\t</div>\n    \t\t\t\t\t\t<button className=\"btn btn-letters\" type=\"submit\"><i className=\"fa fa-save\"></i> Submit</button>\n    \t\t\t\t\t</form>\n            </Modal.Body>\n          </Modal>\n        );\n\n        let passwordErrorClass = \"error-container\";\n    \t\tif (this.state.passwordErrorShow) {\n    \t\t\tpasswordErrorClass = \"error-container-visible\";\n    \t\t}\n        passwordModal = (\n          <Modal\n            show={this.state.showPasswordModal}\n            onHide={this.handlePasswordModalClose}\n            bsSize=\"small\"\n    \t\t\t\t>\n            <Modal.Header closeButton>\n              <Modal.Title>Update your password</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n    \t\t\t\t\t<form onSubmit={this.handlePasswordFormSubmit}>\n    \t\t\t\t\t\t<div className={passwordErrorClass}>{this.state.passwordErrorMessage}</div>\n\n    \t\t\t\t\t\t<div className=\"form-group\">\n    \t\t\t\t\t\t\t<label>Password</label>\n    \t\t\t        <input name=\"updatePassword\" type=\"password\" className=\"form-control\" ref={(input) => { this.passwordInput = input; }} onChange={this.handlePasswordFormChange} />\n    \t\t\t      </div>\n                <div className=\"form-group\">\n                  <div className={\"password-strength\"+this.state.strengthClass}>\n                    <div className={this.state.strengthClass}></div>\n                    <div className=\"password-text\">{this.state.strengthLabel}</div>\n                  </div>\n                </div>\n    \t\t\t\t\t\t<div className=\"form-group\">\n    \t\t\t\t\t\t\t<label>Password confirm</label>\n    \t\t\t\t\t\t\t<input name=\"updatePasswordConfirm\" type=\"password\" className=\"form-control\" ref={(input) => { this.passwordConfirmInput = input; }} value={this.state.handlePasswordFormChange} onChange={this.handlePasswordFormChange} />\n    \t\t\t\t\t\t</div>\n    \t\t\t\t\t\t<button className=\"btn btn-letters\" type=\"submit\"><i className=\"fa fa-save\"></i> Submit</button>\n    \t\t\t\t\t</form>\n            </Modal.Body>\n          </Modal>\n        );\n        let newDate = new Date(this.state.createdAt);\n        let months = [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"];\n        let dateLabel = months[newDate.getUTCMonth()]+\" \"+newDate.getUTCDate()+\", \"+newDate.getUTCFullYear();\n\n        forgetMeModal = <ConfirmModal\n          headerText=\"Forget me\"\n          bodyText=\"All your personal information will be permanently removed from the system. This action cannot be undone. Continue?\"\n          buttonCancel={<button type=\"button\" className=\"pull-left btn btn-primary btn-sm\" onClick={this.hideForgetMeConfirm}>Cancel</button>}\n          buttonSuccess={<button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={this.forgetMeSubmit}><i className=\"fa fa-times\"></i> Forget me</button>}\n          showModal={this.state.showForgetMeConfirm}\n        />\n\n        contentHTML = <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-8\">\n            <h4>Welcome {this.state.userName}</h4>\n            <p>\n              <span className=\"href-btn\" onClick={this.handleUpdateModalShow}>Update user information</span><br/>\n              <span className=\"href-btn\" onClick={this.handlePasswordModalShow}>Update password</span><br/>\n              <span className=\"href-btn\" onClick={this.showForgetMeConfirm}>Forget me</span><br/>\n            </p>\n          </div>\n          <div className=\"col-xs-12 col-sm-4\">\n            Member since: {dateLabel}<br/>\n            Letters added: {this.state.numLetters}<br/>\n            Letters transcribed: {this.state.numTranscriptions}<br/>\n          </div>\n        </div>;\n\n        pageContent = <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n              <h1>{contentTitle}</h1>\n              <div className=\"item-container\">\n                <div className={forgetMeErrorClass}>{this.state.forgetMeErrorMessage}</div>\n                {contentHTML}\n              </div>\n            </div>\n          </div>\n        </div>\n      }\n    }\n    return (\n      <div>\n        {pageContent}\n        {userUpdateModal}\n        {passwordModal}\n        {forgetMeModal}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport createClass from 'create-react-class';\nimport PropTypes from 'prop-types';\nimport Select from 'react-select';\nimport axios from 'axios';\nimport {APIPath} from '../../common/constants';\nimport {flattenDeep} from '../../helpers/helpers';\n\nexport default class KeywordsSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      keywordsOptions: [],\n      selectedOption: [],\n    }\n    this.loadKeywords = this.loadKeywords.bind(this);\n  }\n\n  loadKeywords() {\n    if (sessionStorage.getItem(\"uploaded_topics_list\")!==null && sessionStorage.getItem(\"uploaded_topics_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"uploaded_topics_list\"));\n      let keywords = [];\n      for (let i=0; i<data.length; i++) {\n        let item = data[i];\n        let keyword = this.keywordItem(item, 0);\n        keywords.push(keyword);\n      }\n      this.setState({\n        loading: false,\n        keywordsOptions: keywords\n      });\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"topics\")\n    \t  .then(function (response) {\n          let data = response.data.data;          \n          sessionStorage.setItem('uploaded_topics_list', JSON.stringify(data));\n          let keywords = [];\n          for (let i=0; i<data.length; i++) {\n            let item = data[i];\n            let keyword = context.keywordItem(item, 0);\n            keywords.push(keyword);\n          }\n          context.setState({\n            loading: false,\n            keywordsOptions: keywords\n          });\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  keywordItem(item, isChild) {\n    let children = item.children;\n    let keywordChildren = [];\n    let keyword = [{ label: item.name, value: item.id, topic_id: item.id, child: isChild }];\n    if (children.length>0) {\n      keywordChildren = this.keywordChildren(children, 1);\n      keyword.push(keywordChildren);\n    }\n    return keyword;\n  }\n\n  keywordChildren(children, isChild) {\n    let childrenItems = [];\n    if (children.length>0) {\n      for (let j=0; j<children.length; j++) {\n        let child = children[j];\n        let childItem = this.keywordItem(child, isChild);\n        childrenItems.push(childItem);\n      }\n    }\n\n    return childrenItems;\n  }\n\n  componentDidMount() {\n    this.loadKeywords();\n  }\n\n  render() {\n    const keywordsOptions = this.state.keywordsOptions;\n    let flattenedOptions = flattenDeep(keywordsOptions);\n    return (\n      <Select\n        name={this.props.elementName}\n        value={this.props.selected}\n        onChange={this.props.onChangeFunction}\n        options={flattenedOptions}\n        multi={this.props.multi}\n        removeSelected={this.props.removeSelected}\n        optionComponent={ListItemOption}\n      />\n    );\n  }\n}\n\nconst ListItemOption = createClass({\n\tpropTypes: {\n\t\tchildren: PropTypes.node,\n\t\tclassName: PropTypes.string,\n\t\tisDisabled: PropTypes.bool,\n\t\tisFocused: PropTypes.bool,\n\t\tisSelected: PropTypes.bool,\n\t\tonFocus: PropTypes.func,\n\t\tonSelect: PropTypes.func,\n\t\toption: PropTypes.object.isRequired,\n\t},\n\thandleMouseDown (event) {\n\t\tevent.preventDefault();\n\t\tevent.stopPropagation();\n\t\tthis.props.onSelect(this.props.option, event);\n\t},\n\thandleMouseEnter (event) {\n\t\tthis.props.onFocus(this.props.option, event);\n\t},\n\thandleMouseMove (event) {\n\t\tif (this.props.isFocused) return;\n\t\tthis.props.onFocus(this.props.option, event);\n\t},\n\trender () {\n    let childClass = \"\";\n    if (parseInt(this.props.option.child,10)>0) {\n      childClass = \" select-child\";\n    }\n\t\treturn (\n\t\t\t<div className={this.props.className+childClass}\n\t\t\t\tonMouseDown={this.handleMouseDown}\n\t\t\t\tonMouseEnter={this.handleMouseEnter}\n\t\t\t\tonMouseMove={this.handleMouseMove}\n\t\t\t\ttitle={this.props.option.title}\n        key={\"select-\"+this.props.option.label}>\n\t\t\t\t{this.props.children}\n\t\t\t</div>\n\t\t);\n\t}\n});\n","import React from 'react';\nimport {Creatable} from 'react-select';\nimport axios from 'axios';\nimport {APIPath} from '../../common/constants';\n\nexport default class AuthorsSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectOptions: []\n    }\n    this.loadItems = this.loadItems.bind(this);\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"upload_people_list\")!==null && sessionStorage.getItem(\"upload_people_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"upload_people_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"people\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n          sessionStorage.setItem(\"upload_people_list\", JSON.stringify(data));\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let item = data[i];\n      let row = { label: item, value: item };\n      items.push(row);\n    }\n    this.setState({\n      selectOptions: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    const selectOptions = this.state.selectOptions;\n    return (\n      <Creatable\n        name={this.props.elementName}\n        value={this.props.selected}\n        onChange={this.props.onChangeFunction}\n        options={selectOptions}\n        multi={this.props.multi}\n        removeSelected={this.props.removeSelected}\n      />\n    );\n  }\n}\n","import React from 'react';\nimport { Creatable } from 'react-select';\nimport axios from 'axios';\nimport {APIPath} from '../../common/constants';\n\nexport default class SourcesSelect extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectOptions: []\n    }\n    this.loadItems = this.loadItems.bind(this);\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"upload_sources_list\")!==null && sessionStorage.getItem(\"upload_sources_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"upload_sources_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"sources\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          context.setItems(data);\n          sessionStorage.setItem(\"upload_sources_list\", JSON.stringify(data));\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let item = data[i];\n      let row = { label: item.source, value: item.source };\n      items.push(row);\n    }\n    this.setState({\n      selectOptions: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n\n  }\n\n  render() {\n    const selectOptions = this.state.selectOptions;\n    return (\n      <Creatable\n        name={this.props.elementName}\n        value={this.props.selected}\n        onChange={this.props.onChangeFunction}\n        options={selectOptions}\n        multi={this.props.multi}\n        removeSelected={this.props.removeSelected}\n      />\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {Redirect} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath,domain} from '../common/constants.js';\nimport {calculateDaysInMonth,fixImagePath} from '../helpers/helpers';\nimport 'react-select/dist/react-select.css';\nimport KeywordsSelect from '../components/transcribe/keywords-select';\nimport AuthorsSelect from '../components/transcribe/authors-select';\nimport SourcesSelect from '../components/transcribe/sources-select';\nimport ConfirmModal from '../components/confirm-modal';\nimport ProtectedPage from '../components/protected-page';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport Lightbox from 'react-image-lightbox';\n\n\nexport class UserLetterView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      form: {\n        title: \"\",\n        additional_information: \"\",\n        keywords: [],\n        year: \"1915\",\n        month: \"\",\n        day: \"\",\n        letter_from: \"\",\n        creator_gender: \"\",\n        letter_to: \"\",\n        language: \"\",\n        source: \"\",\n        doc_collection: \"\",\n        recipient_location: \"\",\n        creator_location: \"\",\n        year_of_death_of_author: \"\",\n        notes: \"\",\n        images: [],\n        additional_img_info: [\"Letter\"],\n        terms_of_use: \"\",\n        copyright_statement: \"\",\n        pages:[],\n      },\n      errors: {\n        title: false,\n        language: false,\n        source: false,\n        terms: false,\n        license: false,\n      },\n      filesErrorText: '',\n      filesError: false,\n      imageBlocks: [],\n      daysOptions: [],\n      upload_loader: false,\n      progress_bar_text: \"\",\n      progress_bar_width:0,\n      redirect: false,\n      imagesPreview: [],\n      updateBtnText: \"Submit\",\n      terms_of_useChecked: false,\n      copyright_statementChecked1: false,\n      copyright_statementChecked2: false,\n      submitStatus: 0,\n      loading: true,\n      showDeleteConfirm: false,\n      deleteConfirmSubmit:'',\n      showDeleteLetterConfirm:false,\n      deleteLetterConfirmSubmit: '',\n      prevlocation: '',\n      prevlocationpath: '',\n      imagePaths: [],\n      photoIndex: 0,\n      isOpen: false,\n      enableTranscription: false,\n    }\n    this.loadItem = this.loadItem.bind(this);\n    this.calculateDays = this.calculateDays.bind(this);\n    this.yearOfDeathList = this.yearOfDeathList.bind(this);\n    this.handleFormChange = this.handleFormChange.bind(this);\n    this.propChecked = this.propChecked.bind(this);\n    this.handleSelectFormChange = this.handleSelectFormChange.bind(this);\n    this.removeImageBlock = this.removeImageBlock.bind(this);\n    this.addImageBlock = this.addImageBlock.bind(this);\n    this.handleFormSubmit = this.handleFormSubmit.bind(this);\n    this.errorValidation = this.errorValidation.bind(this);\n    this.onDragEnd = this.onDragEnd.bind(this);\n    this.reorderPages = this.reorderPages.bind(this);\n    this.removeFormImage = this.removeFormImage.bind(this);\n    this.showDeleteConfirm = this.showDeleteConfirm.bind(this);\n    this.hideDeleteConfirm = this.hideDeleteConfirm.bind(this);\n    this.assignItemStateValues = this.assignItemStateValues.bind(this);\n    this.loadItemImages = this.loadItemImages.bind(this);\n    this.deleteLetter = this.deleteLetter.bind(this);\n    this.showDeleteLetterConfirm = this.showDeleteLetterConfirm.bind(this);\n    this.hideDeleteLetterConfirm = this.hideDeleteLetterConfirm.bind(this);\n    this.showBigImage = this.showBigImage.bind(this);\n    this.enableTranscription = this.enableTranscription.bind(this);\n    this.resetState = this.resetState.bind(this);\n  }\n\n  handleFormChange(key,e) {\n    let target = e.target;\n    let value = target.type === 'checkbox' ? target.checked : target.value;\n    let name = target.name;\n\n    if (name===\"month\") {\n      let year = parseInt(this.state.form.year,10);\n      let month = parseInt(value,10)-1;\n      this.calculateDays(year,month);\n    }\n    if (name===\"year\") {\n      let year = parseInt(value,10);\n      if (this.state.form.month!==\"\") {\n        let month = parseInt(this.state.form.month,10)-1;\n        this.calculateDays(year,month);\n      }\n    }\n    let newState = Object.assign({}, this.state);\n    if (name===\"images\") {\n      let newImages = this.state.form.images;\n      if (typeof newImages[key]===\"undefined\") {\n        newImages.push(target.files[0]);\n      }\n      else {\n        newImages[key] = target.files[0];\n      }\n      newState.form[name]=newImages;\n    }\n    else if (name===\"additional_img_info\") {\n      let newAII = this.state.form.additional_img_info;\n      newAII[key]=value;\n      newState.form[name]=newAII;\n    }\n    else {\n      newState.form[name]=value;\n    }\n    this.setState({\n      newState\n    });\n    if (name===\"terms_of_use\" || name===\"copyright_statement\") {\n      this.propChecked(name, value);\n    }\n  }\n\n  propChecked(name, value) {\n    if (name===\"terms_of_use\") {\n      this.setState({\n        terms_of_useChecked: value\n      });\n    }\n    else if (name===\"copyright_statement\") {\n      if (value===\"the Material is out of copyright protection (i.e. that you are aware that the author of the Material died prior to 1 January 1943);\") {\n        this.setState({\n          copyright_statementChecked1: true\n        });\n      }\n      else if (value===\"you have the rights to upload the Material in question for use or you have the permission of the relevant rightholder(s) to do so as outlined in the Letters of 1916 Terms for User Contributions\") {\n        this.setState({\n          copyright_statementChecked2: true\n        });\n      }\n    }\n\n\n    //\n\n    //\n    if (this.value===true) {\n\n    }\n  }\n\n  handleSelectFormChange(elementName, multiple, selectValue) {\n    let newState = Object.assign({}, this.state);\n    newState.form[elementName] = selectValue;\n    this.setState({\n      newState\n    });\n  }\n\n  deleteLetter() {\n    let letterId = this.props.match.params.letterId;\n    let context = this;\n    let path = APIPath+\"delete-letter\";\n    let accessToken = sessionStorage.getItem('accessToken');\n    let arrayData = {\n      \"id\":letterId,\n    }\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'DELETE',\n      url: path,\n      data: arrayData,\n      crossDomain: true,\n    })\n    .then(function (response) {\n\n      context.setState({\n        redirect: true,\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  showDeleteLetterConfirm() {\n    this.setState({\n      showDeleteLetterConfirm: true,\n      deleteLetterConfirmSubmit: this.deleteLetter\n    });\n  }\n\n  hideDeleteLetterConfirm() {\n    this.setState({\n      showDeleteLetterConfirm: false\n    });\n  }\n\n  handleFormSubmit(e) {\n    e.preventDefault();\n    let submitStatus= this.state.submitStatus;\n    if (this.errorValidation()===true) {\n      if (submitStatus>0) {\n        return false;\n      }\n      this.setState({\n        submitStatus: 1,\n        updateBtnText: <span>Saving... <i className=\"fa fa-circle-o-notch fa-spin\"></i></span>\n      });\n      let letterId = this.props.match.params.letterId;\n      let context = this;\n      let stateForm = Object.assign({}, this.state.form);\n      let formData = new FormData();\n      let hasImages = 0;\n      // images\n      if (stateForm.images.length>0) {\n        hasImages = 1;\n        stateForm.images.forEach(function(file) {\n          formData.append(\"data[]\",file);\n        });\n      }\n      stateForm.images=[];\n      formData.set(\"form\", JSON.stringify(stateForm));\n      formData.set(\"format\", \"uploader\");\n      formData.set(\"letter_id\", letterId);\n      let accessToken = sessionStorage.getItem('accessToken');\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n      context.setState({\n        upload_loader:true\n      });\n  \t\taxios({\n        method: 'POST',\n        url: APIPath+'upload-letter/'+letterId,\n        data: formData,\n        crossDomain: true,\n        config: { headers: {'Content-Type': 'multipart/form-data' }},\n        onUploadProgress: function (progressEvent){\n          if (hasImages>0) {\n            let percentCompleted = Math.round( (progressEvent.loaded * 100) / progressEvent.total );\n            let progressBarText = \"Uploading... \"+parseFloat(percentCompleted).toFixed(2)+\"%\";\n            let progressBarWidth = percentCompleted+\"%\";\n            context.setState({\n              progress_bar_text:progressBarText,\n              progress_bar_width: progressBarWidth\n            });\n          }\n        }\n      })\n  \t  .then(function (response) {\n        submitStatus = 0;\n        if (response.data.status===true) {\n          // show file errors\n          let errorFiles = response.data.errors.files;\n          if (errorFiles.length>0) {\n\n            let fileLabels = \"\";\n            for (var i=0;i<errorFiles.length; i++) {\n              let errorFile = errorFiles[i];\n              if (i>0) {\n                fileLabels += \", \";\n              }\n              fileLabels += \"\\\"\"+errorFile.filename+\"\\\"\";\n            }\n            let filesErrorText = \"\";\n\n            if (errorFiles.length===1) {\n              filesErrorText = \"The file \"+fileLabels+\" is not a valid image file and it will not be added to your letter.\";\n            }\n            else if (errorFiles.length>1){\n              filesErrorText = \"The files \"+fileLabels+\" are not a valid image files and will not be added to your letter.\";\n            }\n\n            context.setState({\n              filesErrorText: filesErrorText,\n              filesError: true\n            });\n          }\n          if (parseInt(letterId,10)===0) {\n            context.setState({\n              updateBtnText: <span>Saved successfully <i className=\"fa fa-check\"></i></span>\n            });\n            setTimeout(function() {\n              context.setState({\n                upload_loader: false,\n                progress_bar_text: \"\",\n                progress_bar_width:0,\n                redirect: true,\n                updateBtnText: \"Submit\",\n                submitStatus: 0,\n              });\n            },1000);\n          }\n          else if (parseInt(letterId,10)>0) {\n            let btnText = response.data.message;\n            context.assignItemStateValues(response.data.data);\n            context.setState({\n              updateBtnText: <span>{btnText} <i className=\"fa fa-check\"></i></span>\n            });\n            setTimeout(function() {\n              context.setState({\n                upload_loader: false,\n                progress_bar_text: \"\",\n                progress_bar_width:0,\n                updateBtnText: \"Submit\",\n                submitStatus: 0,\n              });\n            },1000);\n          }\n        }\n        else if (response.data.status===false) {\n          let errorsOutput = [];\n          for (let error in response.data.errors) {\n            errorsOutput.push(<div>{response.data.errors[error]}</div>);\n          }\n          context.setState({\n            updateBtnText: <span>Error saving... <i className=\"fa fa-times\"></i></span>,\n            submitStatus: 0,\n            generic_error: errorsOutput\n          });\n          setTimeout(function() {\n            context.setState({\n              updateBtnText: \"Submit\",\n            });\n          },1000);\n        }\n  \t  })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n  \t  });\n    }\n  }\n\n  errorValidation() {\n    let newState = Object.assign({}, this.state);\n    if (this.state.form.title.trim().length===0) {\n      newState.errors[\"title\"] = true;\n      this.titleInput.focus();\n      this.setState({\n        newState\n      });\n      return false;\n    }\n    else {\n      newState.errors[\"title\"] = false;\n    }\n    if (this.state.form.language===\"\") {\n      newState.errors[\"language\"] = true;\n      this.languageInput.focus();\n      this.setState({\n        newState\n      });\n      return false;\n    }\n    else {\n      newState.errors[\"language\"] = false;\n    }\n    if (this.state.form.source===\"\" || this.state.form.source===[]) {\n      newState.errors[\"source\"] = true;\n      this.sourceInput.focus();\n      this.setState({\n        newState\n      });\n      return false;\n    }\n    else {\n      newState.errors[\"source\"] = false;\n    }\n    if (this.state.form.terms_of_use===\"\" || this.state.form.terms_of_use===false) {\n      newState.errors[\"terms\"] = true;\n      this.termsInput.focus();\n      this.setState({\n        newState\n      });\n      return false;\n    }\n    else {\n      newState.errors[\"terms\"] = false;\n    }\n    if (this.state.form.copyright_statement===\"\" || this.state.form.copyright_statement===false) {\n      newState.errors[\"license\"] = true;\n      this.licenseInput.focus();\n      this.setState({\n        newState\n      });\n      return false;\n    }\n    else {\n      newState.errors[\"license\"] = false;\n    }\n    this.setState({\n      newState\n    });\n    return true;\n\n  }\n\n  calculateDays(year,month) {\n    let days = calculateDaysInMonth(year,month);\n    let daysOptions = [<option key={0} value=\"\"> -- </option>];\n    for (let i=1; i<=days; i++) {\n      let day = i;\n      if (i<10) {\n        day = \"0\"+i;\n      }\n      daysOptions.push(<option key={i} value={day}>{day}</option>);\n    }\n    this.setState({\n      daysOptions: daysOptions\n    });\n  }\n\n  yearOfDeathList() {\n    let thisYear = new Date().getFullYear();\n    let optionsList = [];\n    optionsList.push(<option value=\"\" key={0}> -- </option>);\n    for (let year=1915; year<=thisYear; year++) {\n      optionsList.push(<option key={year} value={year}>{year}</option>);\n    }\n    return optionsList;\n  }\n\n  onDragEnd(result) {\n    if (!result.destination) {\n      return;\n    }\n\n    const pages = this.reorderPages(\n      this.state.form.pages,\n      result.source.index,\n      result.destination.index\n    );\n    this.setState({\n      imagesPreview: this.loadItemImages(pages)\n    });\n\n    let letterId = this.props.match.params.letterId;\n    let path = APIPath+\"update-letter-pages-order/\"+letterId;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'POST',\n      url: path,\n      data: {\"pages\":pages},\n      crossDomain: true,\n    })\n    .then(function (response) {\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  reorderPages(list, startIndex, endIndex){\n    const result = Array.from(list);\n    const [removed] = result.splice(startIndex, 1);\n    result.splice(endIndex, 0, removed);\n    return result;\n  }\n\n  showDeleteConfirm(archive_filename) {\n    this.setState({\n      showDeleteConfirm: true,\n      deleteConfirmSubmit: this.removeFormImage.bind(this, archive_filename)\n    });\n  }\n\n  hideDeleteConfirm() {\n    this.setState({\n      showDeleteConfirm: false\n    });\n  }\n\n  removeFormImage(archive_filename) {\n    let letterId = this.props.match.params.letterId;\n    let context = this;\n    let path = APIPath+\"delete-letter-page\";\n    let accessToken = sessionStorage.getItem('accessToken');\n    let arrayData = {\n      \"id\":letterId,\n      \"archive_filename\":archive_filename\n    }\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'DELETE',\n      url: path,\n      data: arrayData,\n      crossDomain: true,\n    })\n    .then(function (response) {\n      let pagesData = response.data.data;\n      context.setState({\n        imagesPreview: context.loadItemImages(pagesData),\n        showDeleteConfirm: false\n      });\n      context.loadItem();\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  loadItem() {\n    let letterId = this.props.match.params.letterId;\n    let context = this;\n    let path = APIPath+\"user-letter/\"+letterId;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios.get(path)\n    .then(function (response) {\n      let itemData = response.data.data;\n      context.assignItemStateValues(itemData);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  assignItemStateValues(itemData) {\n    let context = this;\n    let date = itemData.date_created;\n    let dateArr = date.split(\"-\");\n    let year = dateArr[0];\n    let month = \"\";\n    let day = \"\";\n    if (typeof dateArr[1]!== undefined) {\n      month = dateArr[1];\n    }\n    if (typeof dateArr[2]!== undefined) {\n      context.calculateDays(year,month);\n      day = dateArr[2];\n    }\n    let keywordsData = [];\n    let topics = itemData.topics;\n    for (let i=0;i<topics.length; i++) {\n      let topic = topics[i];\n      keywordsData.push({ label: topic.topic_name, value: topic.topic_id});\n    }\n    let pagesData = itemData.pages;\n    let imagesPreview = context.loadItemImages(pagesData);\n\n    let copyright_statementChecked1 = false;\n    let copyright_statementChecked2 = false;\n    if (itemData.copyright_statement===\"the Material is out of copyright protection (i.e. that you are aware that the author of the Material died prior to 1 January 1943);\") {\n      copyright_statementChecked1 = true;\n    }\n    if (itemData.copyright_statement===\"you have the rights to upload the Material in question for use or you have the permission of the relevant rightholder(s) to do so as outlined in the Letters of 1916 Terms for User Contributions\") {\n      copyright_statementChecked2 = true;\n    }\n\n    context.setState({\n      imagesPreview: imagesPreview,\n      terms_of_useChecked: itemData.terms_of_use,\n      copyright_statementChecked1: copyright_statementChecked1,\n      copyright_statementChecked2: copyright_statementChecked2,\n      loading: false,\n      form: {\n        title: itemData.title,\n        additional_information: itemData.description,\n        keywords: keywordsData,\n        year: year,\n        month: month,\n        day: day,\n        letter_from: itemData.creator,\n        creator_gender: itemData.creator_gender,\n        letter_to: itemData.recipient,\n        language: itemData.language,\n        source: itemData.source,\n        doc_collection: itemData.doc_collection,\n        recipient_location: itemData.recipient_location,\n        creator_location: itemData.creator_location,\n        year_of_death_of_author: itemData.year_of_death_of_author,\n        notes: itemData.notes,\n        images: [],\n        additional_img_info: [\"Letter\"],\n        terms_of_use: itemData.terms_of_use,\n        copyright_statement: itemData.copyright_statement,\n        pages: pagesData\n      },\n    });\n  }\n\n  loadItemImages(pagesData) {\n    if (pagesData.length>0) {\n      let imagesPreviewItems = [];\n      let imagePaths = [];\n      let grid = 8;\n      const getItemStyle = (isDragging, draggableStyle) => ({\n        userSelect: 'none',\n        padding: grid * 2,\n        margin: `0 ${grid}px 0 0`,\n        background: '#ffffff',\n        position: 'relative',\n        ...draggableStyle,\n      });\n\n      for (let j=0; j<pagesData.length; j++) {\n        let pageData = pagesData[j];\n        let imgFileName = fixImagePath(pageData.archive_filename);\n        let newImage = <Draggable key={j} draggableId={\"draggable-\"+j} index={j}>\n          {(provided, snapshot) => (\n            <div\n              ref={provided.innerRef}\n              {...provided.draggableProps}\n              {...provided.dragHandleProps}\n              style={getItemStyle(\n                snapshot.isDragging,\n                provided.draggableProps.style\n              )}\n            >\n              <div className=\"btn btn-danger btn-xs remove-form-img\" onClick={this.showDeleteConfirm.bind(this, imgFileName)}><i className=\"fa fa-trash\"></i></div>\n              <img\n                key={j}\n                onClick={this.showBigImage.bind(this,j)}\n                className=\"img-thumbnail img-responsive form-page-thumbnail\" src={domain+\"/diyhistory/archive/square_thumbnails/\"+imgFileName}\n                alt=\"thumbnail\" />\n            </div>\n          )}\n        </Draggable>;\n        imagesPreviewItems.push(newImage);\n        imagePaths.push(domain+\"/diyhistory/archive/fullsize/\"+imgFileName);\n      }\n\n      let getListStyle = isDraggingOver => ({\n        background: isDraggingOver ? '#f5f5f5' : '#ffffff',\n        display: 'flex',\n        padding: grid,\n        overflow: 'auto',\n      });\n      let imagesPreview = <div className=\"form-pages-preview-container\">\n        <label>Pages</label>\n        <DragDropContext\n          onDragEnd={this.onDragEnd}\n          >\n          <Droppable droppableId=\"droppable-1\" direction=\"horizontal\">\n            {(provided, snapshot) => (\n              <div\n                ref={provided.innerRef}\n                style={getListStyle(snapshot.isDraggingOver)}\n                {...provided.droppableProps}\n              >\n                {imagesPreviewItems}\n              </div>\n            )}\n          </Droppable>\n\n        </DragDropContext>\n      </div>;\n\n      this.setState({\n        imagePaths: imagePaths\n      });\n\n      return imagesPreview;\n    }\n    else return [];\n  }\n\n  removeImageBlock() {\n    let newImageBlocks = this.state.imageBlocks;\n    newImageBlocks.splice(-1,1);\n    let newAII = this.state.form.additional_img_info;\n    newAII.splice(-1,1);\n\n    this.setState({\n      imageBlocks:newImageBlocks,\n      additional_img_info: newAII\n    });\n  }\n\n  addImageBlock() {\n    let newImageBlocks = this.state.imageBlocks;\n    let key = newImageBlocks.length+1;\n\n    let imageBlock = <div key={key} className=\"letter-form-image-block\">\n      <div className=\"form-group\">\n        <label>Image file</label>\n        <input name=\"images\" accept=\"image/*\" type=\"file\" onClick={(event)=> {event.target.value = null }} onChange={this.handleFormChange.bind(this, key)} />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Additional image information</label>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-4\">\n            <select className=\"form-control\" name=\"additional_img_info\" onInput={this.handleFormChange.bind(this, key)}>\n              <option value=\"Letter\">Letter</option>\n              <option value=\"Envelope\">Envelope</option>\n              <option value=\"Enclosure\">Enclosure</option>\n              <option value=\"Photograph\">Photograph</option>\n            </select>\n          </div>\n        </div>\n      </div>\n    </div>;\n    let newAII = this.state.form.additional_img_info;\n    newAII.push(\"Letter\");\n\n    newImageBlocks.push(imageBlock);\n    this.setState({\n      imageBlocks: newImageBlocks,\n      additional_img_info: newAII\n    });\n  }\n\n  showBigImage(key) {\n    this.setState({\n      isOpen: true,\n      photoIndex: key\n    });\n  }\n\n  enableTranscription() {\n    let letterId = this.props.match.params.letterId;\n    let context = this;\n    let path = APIPath+\"update-letter-transcription-status/\"+letterId;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'POST',\n      url: path,\n      crossDomain: true,\n    })\n    .then(function (response) {\n      context.setState({\n        redirect: true,\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  resetState() {\n    this.setState({\n      form: {\n        title: \"\",\n        additional_information: \"\",\n        keywords: [],\n        year: \"1915\",\n        month: \"\",\n        day: \"\",\n        letter_from: \"\",\n        creator_gender: \"\",\n        letter_to: \"\",\n        language: \"\",\n        source: \"\",\n        doc_collection: \"\",\n        recipient_location: \"\",\n        creator_location: \"\",\n        year_of_death_of_author: \"\",\n        notes: \"\",\n        images: [],\n        additional_img_info: [\"Letter\"],\n        terms_of_use: \"\",\n        copyright_statement: \"\",\n        pages:[],\n      },\n      errors: {\n        title: false,\n        language: false,\n        source: false,\n        terms: false,\n        license: false,\n      },\n      filesErrorText: '',\n      filesError: false,\n      imageBlocks: [],\n      daysOptions: [],\n      upload_loader: false,\n      progress_bar_text: \"\",\n      progress_bar_width:0,\n      redirect: false,\n      imagesPreview: [],\n      updateBtnText: \"Submit\",\n      terms_of_useChecked: false,\n      copyright_statementChecked1: false,\n      copyright_statementChecked2: false,\n      submitStatus: 0,\n      loading: false,\n      showDeleteConfirm: false,\n      deleteConfirmSubmit:'',\n      showDeleteLetterConfirm:false,\n      deleteLetterConfirmSubmit: '',\n      prevlocation: '',\n      prevlocationpath: '',\n      imagePaths: [],\n      photoIndex: 0,\n      isOpen: false,\n      enableTranscription: false,\n    });\n  }\n\n  componentDidMount() {\n    let letterId = this.props.match.params.letterId;\n    if (parseInt(letterId,10)>0) {\n      this.loadItem();\n    }\n    else if (parseInt(letterId,10)===0) {\n      this.setState({\n        loading: false,\n      })\n    }\n    this.yearOfDeathList();\n    loadProgressBar();\n    if (typeof this.props.history.location.prevlocation!==\"undefined\") {\n      this.setState({\n        prevlocation: this.props.history.location.prevlocation,\n        prevlocationpath: this.props.history.location.prevlocationpath,\n      })\n    }\n\n    let enableTranscription = false;\n    if (this.props.isAdmin) {\n      enableTranscription = true;\n    }\n    this.setState({\n      enableTranscription: enableTranscription\n    });\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevProps.match.params.letterId!==this.props.match.params.letterId && (this.props.match.params.letterId===0 || this.props.match.params.letterId===\"0\")) {\n      console.log(1);\n      this.resetState();\n    }\n  }\n\n  render() {\n    let contentHTML,contentTitle,breadCrumbsArr = [],pageContent;\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive!=='true') {\n      contentHTML = <ProtectedPage\n        loginModalOpen={this.props.loginModalOpen}\n        />\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">{contentHTML}</div>\n          </div>\n        </div>\n      </div>\n    }\n    else {\n      if (this.state.loading) {\n        pageContent = <div className=\"loader-container\">\n            <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n      }\n      else {\n        let photoIndex = this.state.photoIndex;\n        let isOpen = this.state.isOpen;\n        let imagePaths = this.state.imagePaths;\n        let letterId = this.props.match.params.letterId;\n        let deleteBtn = [];\n        if (parseInt(letterId,10)>0) {\n          deleteBtn = <button type=\"button\" className=\"btn btn-danger pull-right\" onClick={this.showDeleteLetterConfirm}><i className=\"fa fa-trash\"></i> Delete</button>;\n        }\n        let redirectElement;\n        if (this.state.redirect===true) {\n          redirectElement = <Redirect to={{\n            pathname: '/user-letters',\n            state: {from: 'user-letters/'+letterId},\n          }}\n          />;\n      }\n\n        let titleError = \"\";\n        if (this.state.errors.title) {\n          titleError = \" error-container-visible\";\n        }\n        let languageError = \"\";\n        if (this.state.errors.language) {\n          languageError = \" error-container-visible\";\n        }\n        let sourceError = \"\";\n        if (this.state.errors.source) {\n          sourceError = \" error-container-visible\";\n        }\n        let termsError = \"\";\n        if (this.state.errors.source) {\n          termsError = \" error-container-visible\";\n        }\n        let licenseError = \"\";\n        if (this.state.errors.source) {\n          licenseError = \" error-container-visible\";\n        }\n        let filesError = \"\";\n        if (this.state.filesError) {\n          filesError = \" error-container-visible\";\n        }\n        let yearOfDeathListOptions = this.yearOfDeathList();\n        if (parseInt(letterId,10)===0) {\n          contentTitle = \"New Letter\";\n        }\n        else if (parseInt(letterId,10)>0) {\n          contentTitle = \"Update Letter\";\n        }\n        let progressBar = \"\";\n        let stateWidth = this.state.progress_bar_width;\n        let stateText = this.state.progress_bar_text;\n        let statusBarInnerStyle;\n        if (this.state.upload_loader===true) {\n          statusBarInnerStyle = {\n            width: stateWidth\n          }\n          progressBar = <div className=\"upload-status-container\" id=\"upload-xml-status\">\n              <div className=\"upload-status-bar-inner\" style={statusBarInnerStyle}></div>\n              <div className=\"upload-status-bar-text\">{stateText}</div>\n            </div>;\n        }\n        let enableTranscriptionBtn = [];\n        if (this.state.enableTranscription && parseInt(this.props.match.params.letterId,10)>0) {\n          enableTranscriptionBtn = <button type=\"button\" className=\"btn btn-warning\" onClick={this.enableTranscription}><i className=\"fa fa-check\"></i> Enable transcription</button>;\n        }\n\n        let genericErrorClass = \"error-container\";\n        if (this.state.generic_error) {\n          genericErrorClass = \"error-container-visible\";\n        }\n\n        contentHTML =\n        <div>\n          {this.state.imagesPreview}\n          <form name=\"edit-letter\" encType=\"multipart/form-data\" onSubmit={this.handleFormSubmit}>\n\n            <div className=\"form-group\">\n              <div className={\"error-container\"+titleError}>\n                <p>Error Saving! Please enter the <b>Title/Caption</b> of the letter to continue.</p>\n              </div>\n              <label><sup>*</sup>Title/Caption</label>\n              <input className=\"form-control\" type=\"text\" name=\"title\" value={this.state.form.title} onChange={this.handleFormChange.bind(this, 0)} ref={(input) => { this.titleInput = input; }} />\n              <p className=\"letter-form-description\">For example: “Letter from Joseph MacDonagh to his sister Mary MacDonagh, 4 May 1916” or “Letter from Jennifer to her friend Ellen Martin [January 1916]”. Brackets indicate that information is unclear.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Additional Information</label>\n              <textarea className=\"form-control\" name=\"additional_information\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.additional_information}></textarea>\n              <p className=\"letter-form-description\">Here you may provide a brief summary of the letter and biographical information about the correspondents. This field is optional.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Keywords</label>\n              <KeywordsSelect\n                elementName=\"keywords\"\n                onChangeFunction={this.handleSelectFormChange.bind(this, \"keywords\", true)}\n                multi={true}\n                selected={this.state.form.keywords}\n                removeSelected={false}/>\n              <p className=\"letter-form-description\">Choose keywords that best describe your letter. You may choose as many as are applicable.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Date the letter was written</label>\n              <div className=\"row\">\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"year\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.year}>\n                    <option value=\"1915\">1915</option>\n                    <option value=\"1916\">1916</option>\n                    <option value=\"1917\">1917</option>\n                    <option value=\"1918\">1918</option>\n                    <option value=\"1919\">1919</option>\n                    <option value=\"1920\">1920</option>\n                    <option value=\"1921\">1921</option>\n                    <option value=\"1922\">1922</option>\n                    <option value=\"1923\">1923</option>\n                  </select>\n                </div>\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"month\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.month}>\n                    <option value=\"\">--</option>\n                    <option value=\"01\">January</option>\n                    <option value=\"02\">February</option>\n                    <option value=\"03\">March</option>\n                    <option value=\"04\">April</option>\n                    <option value=\"05\">May</option>\n                    <option value=\"06\">June</option>\n                    <option value=\"07\">July</option>\n                    <option value=\"08\">August</option>\n                    <option value=\"09\">September</option>\n                    <option value=\"10\">October</option>\n                    <option value=\"11\">November</option>\n                    <option value=\"12\">December</option>\n                  </select>\n                </div>\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"day\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.day}>\n                    {this.state.daysOptions}\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Letter From</label>\n              <AuthorsSelect\n                elementName=\"letter_from\"\n                onChangeFunction={this.handleSelectFormChange.bind(this, \"letter_from\", false)}\n                multi={false}\n                selected={this.state.form.letter_from}\n                removeSelected={true}/>\n                <p className=\"letter-form-description\">Select author’s name from the list or add a new name. If you know the person’s full name, please do not mention any titles (such as Mr, Mrs, Dr, Rev, Lord, Lady, Captain etc.) here but add them in the “title” field. Provide middle names if possible to help us identify individual authors.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>{\"Author's gender\"}</label>\n              <div className=\"row\">\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"creator_gender\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.creator_gender}>\n                    <option value=\"\">--</option>\n                    <option value=\"Female\">Female</option>\n                    <option value=\"Male\">Male</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Letter To</label>\n              <AuthorsSelect\n                elementName=\"letter_to\"\n                onChangeFunction={this.handleSelectFormChange.bind(this, \"letter_to\", false)}\n                multi={false}\n                selected={this.state.form.letter_to}\n                removeSelected={true}/>\n              <p className=\"letter-form-description\">Add recipient of letter, such as “Mary MacDonagh”. If you know the person’s full name, please do not mention any titles (such as Mr, Mrs, Dr, Rev, Lord, Lady, Captain etc.) here but add them in the “title” field. Provide middle names if possible to help us identify individual authors.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <div className={\"error-container\"+languageError}>\n                <p>Error Saving! Please select the <b>Language the letter is written in</b> of the letter to continue.</p>\n              </div>\n              <label><sup>*</sup>Language the letter is written in</label>\n              <div className=\"row\">\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"language\" onChange={this.handleFormChange.bind(this, 0)} ref={(input) => { this.languageInput = input; }} value={this.state.form.language}>\n                    <option value=\"\">--</option>\n                    <option value=\"Irish\">Irish</option>\n                    <option value=\"English\">English</option>\n                    <option value=\"French\">French</option>\n                    <option value=\"German\">German</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <div className={\"error-container\"+sourceError}>\n                <p>Error Saving! Please enter the <b>Source</b> of the letter to continue.</p>\n              </div>\n              <label ref={(input) => { this.sourceInput = input; }}><sup>*</sup>Source</label>\n              <SourcesSelect\n                elementName=\"source\"\n                onChangeFunction={this.handleSelectFormChange.bind(this, \"source\", false)}\n                multi={false}\n                selected={this.state.form.source}\n                removeSelected={true}\n                />\n              <p className=\"letter-form-description\">This may be a public institution, such as the “National Library of Ireland”, or a private collection, such as the “MacDonagh Family Collection”.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Document Collection/Number</label>\n              <input className=\"form-control\" type=\"text\" name=\"doc_collection\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.doc_collection}/>\n              <p className=\"letter-form-description\">If your letter comes from a catalogued collection, please add further information such as the collection name and fond / item numbers.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Place (letter sent to)</label>\n              <input className=\"form-control\" type=\"text\" name=\"recipient_location\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.recipient_location}/>\n              <p className=\"letter-form-description\">e.g. “Paris, France” Please add name of region wherever possible. Countries are treated as geographical rather than political entities. Use “Ireland” for places in Ulster and “England”, “Scotland” or “Wales” for places in Great Britain.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Place (letter sent from)</label>\n              <input className=\"form-control\" type=\"text\" name=\"creator_location\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.creator_location}/>\n              <p className=\"letter-form-description\">e.g. “Dublin, Ireland” Please add name of region wherever possible. Countries are treated as geographical rather than political entities. Use “Ireland” for places in Ulster and “England”, “Scotland” or “Wales” for places in Great Britain.</p>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Year of death of author</label>\n              <div className=\"row\">\n                <div className=\"col-xs-12 col-sm-4\">\n                  <select className=\"form-control\" name=\"year_of_death_of_author\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.year_of_death_of_author}>\n                    {yearOfDeathListOptions}\n                  </select>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"form-group\">\n              <label>Additional Notes</label>\n              <textarea className=\"form-control\" name=\"notes\" onChange={this.handleFormChange.bind(this, 0)} value={this.state.form.notes}></textarea>\n              <p className=\"letter-form-description\">Please enter additional notes for the Letters 1916-1923 administrators, e.g. information about missing pages. If you are not part of the Letters 1916-1923 project and are uploading a letter(s) to the database and would allow us to get in touch with you at a later date, please add your name and email address here.</p>\n            </div>\n\n            <hr/>\n\n            <h4>Upload Image</h4>\n            <div className=\"letter-form-image-block\">\n              <div className=\"form-group\">\n                <div className={\"error-container\"+filesError}>\n                  <p>{this.state.filesErrorText}</p>\n                </div>\n                <label>Image file</label>\n                <input name=\"images\" accept=\"image/*\" type=\"file\" onClick={(event)=> {event.target.value = null }} onChange={this.handleFormChange.bind(this,0)} />\n              </div>\n\n              <div className=\"form-group\">\n                <label>Additional image information</label>\n                <div className=\"row\">\n                  <div className=\"col-xs-12 col-sm-4\">\n                    <select className=\"form-control\" name=\"additional_img_info\" onChange={this.handleFormChange.bind(this,0)}>\n                      <option value=\"Letter\">Letter</option>\n                      <option value=\"Envelope\">Envelope</option>\n                      <option value=\"Enclosure\">Enclosure</option>\n                      <option value=\"Photograph\">Photograph</option>\n                    </select>\n                  </div>\n                </div>\n              </div>\n            </div>\n\n            <div>\n              {this.state.imageBlocks}\n            </div>\n\n            <button type=\"button\" className=\"btn btn-xs btn-default\" onClick={this.removeImageBlock}>remove image</button><br/>\n            <button type=\"button\" className=\"btn btn-xs btn-default\" onClick={this.addImageBlock}>add another image</button>\n\n            <hr/>\n\n            <div className=\"form-group\">\n              <div className={\"error-container\"+termsError}>\n                <p>Error Saving! You must accept the <b>Terms of Use</b> to continue.</p>\n              </div>\n              <label><sup>*</sup>Terms of Use</label>\n              <p>Before you can submit digital material to the Letters of 1916 Project, you must agree to the Letters of 1916 Terms for User Contributions. These terms can be found here</p>\n              <label style={{fontWeight: \"normal\"}}>\n                <input ref={(input) => { this.termsInput = input; }} name=\"terms_of_use\" type=\"checkbox\" value=\"I accept the terms & conditions. If you do not want to accept these terms, then please do not contribute content or descriptive data to the Letters of 1916 Project\"  onChange={this.handleFormChange.bind(this, 0)} checked={this.state.terms_of_useChecked} /> <small>I accept the terms & conditions. If you do not want to accept these terms, then please do not contribute content or descriptive data to the Letters of 1916 Project</small>\n              </label>\n            </div>\n\n            <div className=\"form-group\">\n              <div className={\"error-container\"+licenseError}>\n                <p>Error Saving! You must confirm the <b>License and Consent</b> to continue.</p>\n              </div>\n              <label><sup>*</sup>LICENSE AND CONSENT</label>\n              <p>In submitting Material to the collection, Maynooth University asks you to confirm that:</p>\n              <label style={{fontWeight: \"normal\"}}>\n                <input ref={(input) => { this.licenseInput = input; }} name=\"copyright_statement\" type=\"radio\" value=\"the Material is out of copyright protection (i.e. that you are aware that the author of the Material died prior to 1 January 1943);\"\n                checked={this.state.copyright_statementChecked1}\n                onChange={this.handleFormChange.bind(this, 0)}/> <small>the Material is out of copyright protection (i.e. that you are aware that the author of the Material died prior to 1 January 1943);</small>\n              </label>\n              <label style={{fontWeight: \"normal\"}}>\n                <input name=\"copyright_statement\" type=\"radio\" value=\"you have the rights to upload the Material in question for use or you have the permission of the relevant rightholder(s) to do so as outlined in the Letters of 1916 Terms for User Contributions\"\n                checked={this.state.copyright_statementChecked2} onChange={this.handleFormChange.bind(this, 0)}/> <small>you have the rights to upload the Material in question for use or you have the permission of the relevant rightholder(s) to do so as outlined in the Letters of 1916 Terms for User Contributions</small>\n              </label>\n            </div>\n\n            <div className=\"text-center\">\n              <button type=\"submit\" className=\"btn btn-letters pull-left\"><i className=\"fa fa-save\"></i> {this.state.updateBtnText}</button>\n\n              {enableTranscriptionBtn}\n\n              {deleteBtn}\n            </div>\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                {progressBar}\n              </div>\n            </div>\n            <div className=\"row\">\n              <div className=\"col-xs-12\">\n                <div className={genericErrorClass}>{this.state.generic_error}</div>\n              </div>\n            </div>\n            {redirectElement}\n          </form>\n\n          {isOpen && (\n            <Lightbox\n              mainSrc={imagePaths[photoIndex]}\n              nextSrc={imagePaths[(photoIndex + 1) % imagePaths.length]}\n              prevSrc={imagePaths[(photoIndex + imagePaths.length - 1) % imagePaths.length]}\n              onCloseRequest={() => this.setState({ isOpen: false })}\n              onMovePrevRequest={() =>\n                this.setState({\n                  photoIndex: (photoIndex + imagePaths.length - 1) % imagePaths.length,\n                })\n              }\n              onMoveNextRequest={() =>\n                this.setState({\n                  photoIndex: (photoIndex + 1) % imagePaths.length,\n                })\n              }\n            />\n          )}\n        </div>;\n\n        let breadCrumbsPath = {label:'User Letters', path:'/user-letters'};\n        if (this.state.prevlocation!==\"\") {\n          breadCrumbsPath = {label: this.state.prevlocation, path: this.state.prevlocationpath};\n        }\n        breadCrumbsArr.push(breadCrumbsPath);\n        breadCrumbsArr.push({label:contentTitle,path:''});\n        pageContent = <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n              <h1>{contentTitle}</h1>\n              <div className=\"item-container letter-form-container\">{contentHTML}</div>\n            </div>\n          </div>\n        </div>\n      }\n    }\n    return (\n      <div>\n        {pageContent}\n        <ConfirmModal\n          headerText=\"Delete page\"\n          bodyText=\"The page will be deleted. Continue?\"\n          buttonCancel={<button type=\"button\" className=\"pull-left btn btn-primary btn-sm\" onClick={this.hideDeleteConfirm}>Cancel</button>}\n          buttonSuccess={<button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={this.state.deleteConfirmSubmit}><i className=\"fa fa-trash-o\"></i> Delete</button>}\n          showModal={this.state.showDeleteConfirm}\n        />\n\n\n        <ConfirmModal\n          headerText=\"Delete letter\"\n          bodyText=\"This letter will be deleted. Continue?\"\n          buttonCancel={<button type=\"button\" className=\"pull-left btn btn-primary btn-sm\" onClick={this.hideDeleteLetterConfirm}>Cancel</button>}\n          buttonSuccess={<button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={this.state.deleteLetterConfirmSubmit}><i className=\"fa fa-trash-o\"></i> Delete</button>}\n          showModal={this.state.showDeleteLetterConfirm}\n        />\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport {Link} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath, domain} from '../common/constants.js';\nimport Pagination from '../helpers/pagination.js';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport {PreloaderCards,Emptyitemscard} from '../helpers/helpers.js';\nimport ConfirmModal from '../components/confirm-modal';\nimport ProtectedPage from '../components/protected-page';\n\nexport class UserLettersView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      items: [],\n      page: 1,\n      current_page: 1,\n      temp_page: 1,\n      total: 0,\n      sort: \"desc\",\n      paginate: 10,\n      paginationHTML: [],\n      length: 0,\n      firstLoad: 1,\n      letterName: '',\n      showDeleteLetterConfirm:false,\n      deleteLetterId: 0,\n      showBtnDisabledConfirm: false,\n      btnDisabledText: ''\n    };\n\n    this.updatePage = this.updatePage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updateSort = this.updateSort.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n    this.loadItems = this.loadItems.bind(this);\n    this.parseItems = this.parseItems.bind(this);\n    this.toggleTranscriptionStatus = this.toggleTranscriptionStatus.bind(this);\n    this.showDeleteLetterConfirm = this.showDeleteLetterConfirm.bind(this);\n    this.hideDeleteLetterConfirm = this.hideDeleteLetterConfirm.bind(this);\n    this.deleteLetter = this.deleteLetter.bind(this);\n    this.showBtnDisabledConfirm = this.showBtnDisabledConfirm.bind(this);\n    this.hideBtnDisabledConfirm = this.hideBtnDisabledConfirm.bind(this);\n  }\n\n  updatePage(e) {\n    if (e>0 && e!==this.state.current_page) {\n      this.setState({\n        loading:true,\n        current_page: e,\n        temp_page: e,\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updateSort(value) {\n    if (value!==this.state.sort) {\n      this.setState({\n        sort: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  loadItems() {\n    let context = this;\n    let path = APIPath+\"user-letters/\";\n    let params = {\n      sort: this.state.sort,\n      page: this.state.current_page,\n      paginate: this.state.paginate,\n    };\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios.get(path, {\n      params: params\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      let itemsData = responseData.data;\n      let items = [];\n      if (typeof itemsData!==\"undefined\" && itemsData.length>0) {\n        items = context.parseItems(itemsData);\n      }\n      else items = <Emptyitemscard />;\n      // update state\n      let currentPage = responseData.current_page;\n      if (responseData.last_page<responseData.current_page) {\n        currentPage = responseData.last_page;\n      }\n      context.setState({\n        loading:false,\n        items: items,\n        current_page: currentPage,\n        last_page: responseData.last_page,\n        total: responseData.total,\n        firstLoad: 0\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  parseItems(itemsData) {\n    // list of items to display\n    let items = [];\n    let cannotEditText = \"The letter transcription is enabled. You cannot edit this letter.\";\n    let cannotTranscribeText = \"This letter has not been approved for transcription yet. Please select another item from the transcription desk.\";\n    for (let i=0; i<itemsData.length; i++) {\n      let item = itemsData[i];\n      let element = JSON.parse(item.element);\n\n      let defaultThumbnail;\n      if (element.pages.length>0) {\n        defaultThumbnail = <img className=\"list-thumbnail small img-responsive\" src={domain+\"/diyhistory/archive/square_thumbnails/\"+element.pages[0].archive_filename} alt={element.title} />\n      }\n      let status = item.status;\n      let transcription_status = item.transcription_status;\n      //let enableTranscriptionBtn = [];\n\n      let gotoTranscriptionBtn = <li><button className=\"action-button\" title=\"Transcribe letter\" onClick={this.showBtnDisabledConfirm.bind(this, cannotTranscribeText)}>\n        <i className=\"fa fa-file-text-o color-grey\"></i>\n      </button></li>;\n\n      let editBtn = <li><button className=\"action-button\" title=\"Edit Letter\" onClick={this.showBtnDisabledConfirm.bind(this, cannotEditText)}>\n        <i className=\"fa fa-pencil color-grey\"></i>\n      </button></li>;\n\n      let deleteBtn = [];\n      let rowTitle = <div>\n        <Link to={ 'user-letter/'+item.id}>{defaultThumbnail}</Link>\n        <h4 className=\"user-letters-heading\">\n          <small className=\"pull-right\">{item.created_at}</small>\n          <Link to={ 'user-letter/'+item.id}>{element.title}</Link>\n        </h4>\n      </div>;\n\n      if (status===0 && transcription_status===-1) {\n        editBtn = <li><Link to={ 'user-letter/'+item.id} className=\"action-button\" title=\"Edit letter\">\n          <i className=\"fa fa-pencil color-blue\"></i>\n        </Link></li>;\n      }\n      else if (status===0 && transcription_status===0) {\n        gotoTranscriptionBtn = <li><Link to={ 'letter-transcribe/'+item.id} className=\"action-button\" title=\"Transcribe letter\">\n          <i className=\"fa fa-file-text-o\"></i>\n        </Link></li>;\n\n        rowTitle = <div>{defaultThumbnail}\n          <h4 className=\"user-letters-heading\">\n            <small className=\"pull-right\">{item.created_at}</small>\n            {element.title}\n          </h4>\n        </div>;\n      }\n      if (status!==1) {\n        deleteBtn = <li><button className=\"action-button\" title=\"Delete letter\" onClick={this.showDeleteLetterConfirm.bind(this,item.id, element.title)}>\n            <i className=\"fa fa-trash color-red\"></i>\n          </button></li>;\n      }\n      if (element.pages.length===0) {\n        editBtn = <li><Link to={ 'user-letter/'+item.id} className=\"action-button\" title=\"Edit letter\">\n          <i className=\"fa fa-pencil color-blue\"></i>\n        </Link></li>;\n\n        gotoTranscriptionBtn = <li><button className=\"action-button\" title=\"Transcribe letter\" onClick={this.showBtnDisabledConfirm.bind(this, cannotTranscribeText)}>\n          <i className=\"fa fa-file-text-o color-grey\"></i>\n        </button></li>\n      }\n\n      let viewItem = <li data-id={item.id} key={i} className=\"img-clearfix\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-8 col-md-9\">\n            {rowTitle}\n          </div>\n          <div className=\"col-sm-4 col-md-3\">\n            <ul className=\"action-buttons-list\">\n            {/*  {enableTranscriptionBtn} */}\n              {gotoTranscriptionBtn}\n              {editBtn}\n              {deleteBtn}\n            </ul>\n          </div>\n        </div>\n      </li>;\n      items.push(viewItem);\n    }\n    return items;\n  }\n\n  toggleTranscriptionStatus(id) {\n    let context = this;\n    let path = APIPath+\"update-letter-transcription-status/\"+id;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'POST',\n      url: path,\n      crossDomain: true,\n    })\n    .then(function (response) {\n      context.loadItems();\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  showDeleteLetterConfirm(id, title) {\n    this.setState({\n      showDeleteLetterConfirm: true,\n      deleteLetterId: id,\n      letterName: title\n    });\n  }\n\n  hideDeleteLetterConfirm() {\n    this.setState({\n      showDeleteLetterConfirm: false\n    });\n  }\n\n  deleteLetter() {\n    let letterId = this.state.deleteLetterId;\n    if (letterId>0) {\n      let context = this;\n      let path = APIPath+\"delete-letter\";\n      let accessToken = sessionStorage.getItem('accessToken');\n      let arrayData = {\n        \"id\":letterId,\n      }\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n      axios({\n        method: 'DELETE',\n        url: path,\n        data: arrayData,\n        crossDomain: true,\n      })\n      .then(function (response) {\n        context.setState({\n          showDeleteLetterConfirm: false,\n          deleteLetterId: 0,\n          letterName: '',\n        });\n        context.loadItems();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  showBtnDisabledConfirm(text) {\n    this.setState({\n      showBtnDisabledConfirm: true,\n      btnDisabledText: text,\n    });\n  }\n\n  hideBtnDisabledConfirm() {\n    this.setState({\n      showBtnDisabledConfirm: false,\n      btnDisabledText: \"\",\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n    loadProgressBar();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.current_page!==this.state.current_page\n    || prevState.paginate!==this.state.paginate\n    || prevState.sort!==this.state.sort\n    ) {\n      this.loadItems();\n    }\n  }\n\n  render() {\n    let breadCrumbsArr = [{label:'My Letters',path:''}];\n    let contentHTML = [];\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    if (sessionActive!=='true') {\n      contentHTML = <div className=\"item-container\">\n      <ProtectedPage\n        loginModalOpen={this.props.loginModalOpen}\n        />\n      </div>;\n    }\n    else {\n      let content;\n      if (this.state.loading && this.state.firstLoad===1) {\n        let items = PreloaderCards(11);\n        content = <ul className=\"browse-items\">{items}</ul>;\n      }\n      else if (this.state.loading && this.state.firstLoad===0){\n        content = <ul className=\"browse-items blur\">{this.state.items}</ul>;\n      }\n      else {\n        content = <ul className=\"browse-items\">{this.state.items}</ul>;\n      }\n\n      let activeDesc=\"\",activeAsc=\"\";\n      if (this.state.sort===\"desc\") {\n        activeDesc = \"active\";\n      }\n      if (this.state.sort===\"asc\") {\n        activeAsc = \"active\";\n      }\n      let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n      if (this.state.paginate===10) {\n        paginate10Active = \"active\";\n      }\n      if (this.state.paginate===25) {\n        paginate25Active = \"active\";\n      }\n      if (this.state.paginate===50) {\n        paginate50Active = \"active\";\n      }\n\n      let paginationHTML = <div className=\"browse-filters\">\n        <DropdownButton\n          title=\"Sort\"\n          id=\"sort-filter\"\n          >\n          <MenuItem key=\"1\" onClick={this.updateSort.bind(this,\"desc\")} className={activeDesc}><i className=\"fa fa-sort-amount-desc\"></i> Desc</MenuItem>\n          <MenuItem key=\"2\" onClick={this.updateSort.bind(this,\"asc\")} className={activeAsc}><i className=\"fa fa-sort-amount-asc\"></i> Asc</MenuItem>\n        </DropdownButton>\n\n        <DropdownButton\n          title=\"Limit\"\n          id=\"limit-filter\"\n          >\n          <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n          <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n          <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n        </DropdownButton>\n\n        <Pagination\n            paginate={this.state.paginate}\n            current_page={this.state.current_page}\n            total_pages={this.state.last_page}\n            pagination_function={this.updatePage} />\n\n        <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n          <div className=\"input-group input-group-sm go-to-page\">\n            <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n            <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n            <span className=\"input-group-btn\">\n              <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n            </span>\n          </div>\n        </form>\n\n      </div>;\n\n      contentHTML = <div>\n      <div className=\"row\">\n        <div className=\"col-xs-12\">\n          {paginationHTML}\n          <div className=\"list-items-container\">\n            {content}\n          </div>\n          {paginationHTML}\n        </div>\n      </div>\n\n      <ConfirmModal\n        headerText=\"Delete letter\"\n        bodyText={\"The letter \\\"\"+this.state.letterName+\"\\\" will be deleted. Continue?\"}\n        buttonCancel={<button type=\"button\" className=\"pull-left btn btn-primary btn-sm\" onClick={this.hideDeleteLetterConfirm}>Cancel</button>}\n        buttonSuccess={<button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={this.deleteLetter}><i className=\"fa fa-trash-o\"></i> Delete</button>}\n        showModal={this.state.showDeleteLetterConfirm}\n      />\n\n      <ConfirmModal\n        headerText=\"Notice\"\n        bodyText={<div className=\"text-center\">{this.state.btnDisabledText}</div>}\n        buttonCancel={<div className=\"text-center\"><button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={this.hideBtnDisabledConfirm}>Dismiss</button></div>}\n        buttonSuccess=\"\"\n        showModal={this.state.showBtnDisabledConfirm}\n      />\n      </div>;\n    }\n\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}/>\n            <h1><span>My Letters</span></h1>\n            {contentHTML}\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport axios from 'axios';\nimport {Link} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath, domain} from '../common/constants.js';\nimport Pagination from '../helpers/pagination.js';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport {PreloaderCards,Emptyitemscard} from '../helpers/helpers.js';\nimport ConfirmModal from '../components/confirm-modal';\nimport ProtectedPage from '../components/protected-page';\n\nexport class UserTranscriptionsView extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      items: [],\n      page: 1,\n      current_page: 1,\n      temp_page: 1,\n      total: 0,\n      sort: \"desc\",\n      paginate: 10,\n      paginationHTML: [],\n      length: 0,\n      firstLoad: 1,\n      letterName: '',\n      showRemoveLetterConfirm:false,\n      removeLetterId: 0,\n      showBtnDisabledConfirm: false,\n      btnDisabledText: ''\n    };\n\n    this.updatePage = this.updatePage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updateSort = this.updateSort.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n    this.loadItems = this.loadItems.bind(this);\n    this.parseItems = this.parseItems.bind(this);\n    this.toggleTranscriptionStatus = this.toggleTranscriptionStatus.bind(this);\n    this.showRemoveLetterConfirm = this.showRemoveLetterConfirm.bind(this);\n    this.hideRemoveLetterConfirm = this.hideRemoveLetterConfirm.bind(this);\n    this.removeLetter = this.removeLetter.bind(this);\n    this.showBtnDisabledConfirm = this.showBtnDisabledConfirm.bind(this);\n    this.hideBtnDisabledConfirm = this.hideBtnDisabledConfirm.bind(this);\n  }\n\n  updatePage(e) {\n    if (e>0 && e!==this.state.current_page) {\n      this.setState({\n        loading:true,\n        current_page: e,\n        temp_page: e,\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updateSort(value) {\n    if (value!==this.state.sort) {\n      this.setState({\n        sort: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  loadItems() {\n    let context = this;\n    let path = APIPath+\"user-transcriptions/\";\n    let params = {\n      sort: this.state.sort,\n      page: this.state.current_page,\n      paginate: this.state.paginate,\n    };\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios.get(path, {\n      params: params\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      let itemsData = responseData.data;\n      let items = [];\n      if (typeof itemsData!==\"undefined\" && itemsData.length>0) {\n        items = context.parseItems(itemsData);\n      }\n      else items = <Emptyitemscard />;\n      // update state\n      let currentPage = responseData.current_page;\n      if (responseData.last_page<responseData.current_page) {\n        currentPage = responseData.last_page;\n      }\n      context.setState({\n        loading:false,\n        items: items,\n        current_page: currentPage,\n        last_page: responseData.last_page,\n        total: responseData.total,\n        firstLoad: 0\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  parseItems(itemsData) {\n    // list of items to display\n    let items = [];\n    for (let i=0; i<itemsData.length; i++) {\n      let item = itemsData[i];\n      let element = JSON.parse(item.element);\n      let defaultThumbnail;\n      if (element.pages.length>0) {\n        defaultThumbnail = <img className=\"list-thumbnail small img-responsive\" src={domain+\"/diyhistory/archive/square_thumbnails/\"+element.pages[0].archive_filename} alt={element.title} />\n      }\n      let status = item.status;\n      let transcription_status = item.transcription_status;\n      let cannotEditText = \"This letter is currently not available for transcription\";\n      let linkPath = 'letter-transcribe/'+item.id;\n      let removeBtn = <li><button className=\"action-button\" title=\"Delete letter\" onClick={this.showRemoveLetterConfirm.bind(this,item.id, element.title)}>\n          <i className=\"fa fa-times\"></i>\n        </button></li>;\n      let editBtn = <li><Link to={linkPath} className=\"action-button\" title=\"Edit letter\">\n        <i className=\"fa fa-pencil color-blue\"></i>\n      </Link></li>;\n      let rowTitle = <div>\n        <Link to={linkPath}>{defaultThumbnail}</Link>\n        <h4 className=\"user-letters-heading\">\n          <small className=\"pull-right\">{item.created_at}</small>\n          <Link to={linkPath}>{element.title}</Link>\n        </h4>\n      </div>;\n\n      if (status!==0 || transcription_status!==0) {\n        editBtn = <li><button className=\"action-button\" title=\"Edit letter\" onClick={this.showBtnDisabledConfirm.bind(this, cannotEditText)}>\n          <i className=\"fa fa-pencil color-grey\"></i>\n        </button></li>;\n        rowTitle = <div>{defaultThumbnail}\n          <h4 className=\"user-letters-heading\">\n            <small className=\"pull-right\">{item.created_at}</small>\n          </h4>\n        </div>;\n      }\n\n      let viewItem = <li data-id={item.id} key={i} className=\"img-clearfix\">\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-8 col-md-9\">\n            {rowTitle}\n          </div>\n          <div className=\"col-sm-4 col-md-3\">\n            <ul className=\"action-buttons-list\">\n              {editBtn}\n              {removeBtn}\n            </ul>\n          </div>\n        </div>\n      </li>;\n      items.push(viewItem);\n    }\n    return items;\n  }\n\n  toggleTranscriptionStatus(id) {\n    let context = this;\n    let path = APIPath+\"update-letter-transcription-status/\"+id;\n    let accessToken = sessionStorage.getItem('accessToken');\n    axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n    axios({\n      method: 'POST',\n      url: path,\n      crossDomain: true,\n    })\n    .then(function (response) {\n      context.loadItems();\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  showRemoveLetterConfirm(id, title) {\n    this.setState({\n      showRemoveLetterConfirm: true,\n      removeLetterId: id,\n      letterName: title\n    });\n  }\n\n  hideRemoveLetterConfirm() {\n    this.setState({\n      showRemoveLetterConfirm: false\n    });\n  }\n\n  removeLetter() {\n    let letterId = this.state.removeLetterId;\n    if (letterId>0) {\n      let context = this;\n      let path = APIPath+\"remove-transcription-association\";\n      let accessToken = sessionStorage.getItem('accessToken');\n      let arrayData = {\n        \"id\":letterId,\n      }\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n      axios({\n        method: 'DELETE',\n        url: path,\n        data: arrayData,\n        crossDomain: true,\n      })\n      .then(function (response) {\n        context.setState({\n          showRemoveLetterConfirm: false,\n          removeLetterId: 0,\n          letterName: '',\n        });\n        context.loadItems();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n    }\n  }\n\n  showBtnDisabledConfirm(text) {\n    this.setState({\n      showBtnDisabledConfirm: true,\n      btnDisabledText: text,\n    });\n  }\n\n  hideBtnDisabledConfirm() {\n    this.setState({\n      showBtnDisabledConfirm: false,\n      btnDisabledText: \"\",\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n    loadProgressBar();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (\n      prevState.current_page!==this.state.current_page\n    || prevState.paginate!==this.state.paginate\n    || prevState.sort!==this.state.sort\n    ) {\n      this.loadItems();\n    }\n  }\n\n  render() {\n\n    let breadCrumbsArr = [{label:'My Transcriptions',path:''}];\n    let content;\n    if (this.state.loading && this.state.firstLoad===1) {\n      let items = PreloaderCards(11);\n      content = <ul className=\"browse-items\">{items}</ul>;\n    }\n    else if (this.state.loading && this.state.firstLoad===0){\n      content = <ul className=\"browse-items blur\">{this.state.items}</ul>;\n    }\n    else {\n      content = <ul className=\"browse-items\">{this.state.items}</ul>;\n    }\n    let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n    if (this.state.paginate===10) {\n      paginate10Active = \"active\";\n    }\n    if (this.state.paginate===25) {\n      paginate25Active = \"active\";\n    }\n    if (this.state.paginate===50) {\n      paginate50Active = \"active\";\n    }\n\n    let paginationHTML = <div className=\"browse-filters\">\n\n      <DropdownButton\n        title=\"Limit\"\n        id=\"limit-filter\"\n        >\n        <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n        <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n        <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n      </DropdownButton>\n\n      <Pagination\n          paginate={this.state.paginate}\n          current_page={this.state.current_page}\n          total_pages={this.state.last_page}\n          pagination_function={this.updatePage} />\n\n      <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n        <div className=\"input-group input-group-sm go-to-page\">\n          <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n          <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n          <span className=\"input-group-btn\">\n            <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n          </span>\n        </div>\n      </form>\n\n    </div>;\n\n    let contentHTML = <div>\n      {paginationHTML}\n      <div className=\"list-items-container\">\n        {content}\n      </div>      \n      {paginationHTML}\n    </div>;\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    if (sessionActive!=='true') {\n      contentHTML = <div className=\"item-container\">\n        <ProtectedPage\n          loginModalOpen={this.props.loginModalOpen}\n          />\n        </div>;\n    }\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <h2>My Transcriptions</h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            {contentHTML}\n          </div>\n        </div>\n\n        <ConfirmModal\n          headerText=\"Delete letter\"\n          bodyText={\"The letter \\\"\"+this.state.letterName+\"\\\" will be removed from your list of transcriptions. Continue?\"}\n          buttonCancel={<button type=\"button\" className=\"pull-left btn btn-primary btn-sm\" onClick={this.hideRemoveLetterConfirm}>Cancel</button>}\n          buttonSuccess={<button type=\"button\" className=\"btn btn-danger btn-sm\" onClick={this.removeLetter}><i className=\"fa fa-times\"></i> Remove</button>}\n          showModal={this.state.showRemoveLetterConfirm}\n        />\n\n        <ConfirmModal\n          headerText=\"Notice\"\n          bodyText={<div className=\"text-center\">{this.state.btnDisabledText}</div>}\n          buttonCancel={<div className=\"text-center\"><button type=\"button\" className=\"btn btn-primary btn-sm\" onClick={this.hideBtnDisabledConfirm}>Dismiss</button></div>}\n          buttonSuccess=\"\"\n          showModal={this.state.showBtnDisabledConfirm}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\nimport {ToggleClass} from '../helpers/helpers.js';\n\nexport default class TopicsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      topics: [],\n      autocomplete_visible: false,\n      autocomplete_value: \"\"\n    }\n\n    this.toggleElementChildren = this.toggleElementChildren.bind(this);\n    this.toggleAutocomplete = this.toggleAutocomplete.bind(this);\n    this.autocomplete = this.autocomplete.bind(this);\n  }\n\n  toggleElementChildren(e) {\n    e.preventDefault();\n    let targetNode = e.currentTarget;\n    if (targetNode.nextSibling===null) {\n      return false;\n    }\n    let toggle = targetNode.attributes['data-toggle'].value;\n    let newValue = \"closed\";\n    if (toggle===\"closed\") {\n      newValue = \"open\";\n    }\n    targetNode.setAttribute('data-toggle',newValue);\n    // update dropdown arrow\n    ToggleClass(targetNode.nextSibling, toggle, newValue);\n    ToggleClass(targetNode, toggle, newValue);\n  }\n\n  loadTopics() {\n    if (sessionStorage.getItem(\"transcriptions_topics_list\")!==null && sessionStorage.getItem(\"transcriptions_topics_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_topics_list\"));\n      let topics = [];\n      for (let i=0; i<data.length; i++) {\n        let item = data[i];\n        let topic = this.topicItem(item, i);\n        topics.push(topic);\n      }\n      this.setState({\n        loading: false,\n        topics: topics\n      });\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"topics\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_topics_list', JSON.stringify(data));\n\n          let topics = [];\n          for (let i=0; i<data.length; i++) {\n            let item = data[i];\n            let topic = context.topicItem(item, i);\n            topics.push(topic);\n          }\n          context.setState({\n            loading: false,\n            topics: topics\n          });\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  topicItem(item, i) {\n    let children = item.children;\n    let childrenHTML = [];\n    let toggleChildren = [];\n    let hasChildrenClass = \"\";\n    if (children.length>0) {\n      childrenHTML = this.topicChildren(children, i);\n      toggleChildren = <span className=\"toggle-children\"\n      onClick={this.toggleElementChildren}\n      data-toggle=\"closed\"\n      >\n        <i className=\"fa fa-angle-left\"></i>\n      </span>;\n      hasChildrenClass = \" has-children\";\n    }\n    let topic = <li key={i} data-key={i}>\n      <span className=\"href-btn\" onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{item.name}</span>\n        <span className=\"select-topic\">\n          <i className=\"fa fa-circle-o\" data-id={item.id}></i>\n        </span>\n      <span\n        className={\"topic-label\"+hasChildrenClass}\n        data-toggle=\"closed\"\n          >{item.name} (<span className=\"count\" data-default={item.count}>{item.count}</span>)</span>\n      </span>\n      {toggleChildren}\n      {childrenHTML}\n    </li>;\n    return topic;\n  }\n\n  topicChildren(children, i) {\n    let childrenItems = [];\n    let childrenObject = [];\n    if (children.length>0) {\n      for (let j=0; j<children.length; j++) {\n        let child = children[j];\n        let childItem = this.topicItem(child, i+\".\"+j);\n        childrenItems.push(childItem);\n      }\n      childrenObject = <ul className=\"topics-list-children\" data-parent={i}>{childrenItems}</ul>;\n    }\n\n    return childrenObject;\n  }\n\n  toggleAutocomplete() {\n    return false;\n    /*let newStatus = true;\n    if (this.state.autocomplete_visible) {\n      newStatus = false;\n    }\n    this.setState({\n      autocomplete_visible: newStatus\n    })*/\n  }\n\n  autocomplete(e) {\n    this.setState({\n      autocomplete_value: e.target.value\n    })\n  }\n\n  componentDidMount() {\n    this.loadTopics();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      /*let autocompleteClass=\" closed\";\n      if (this.state.autocomplete_visible) {\n        autocompleteClass = \"\";\n      }*/\n\n      content = <div>\n        <h5 onClick={this.toggleAutocomplete}>Keywords\n        {/*  <span style={{paddingLeft: \"5px\", fontSize: \"14px\"}} >\n            <i className=\"fa fa-caret-down\"></i>\n          </span> */}\n        </h5>\n        {/*<div className={\"form-group filter-autocomplete\"+autocompleteClass}>\n          <input className=\"form-control\" type=\"text\" placeholder=\"filter keywords\" onChange={this.autocomplete.bind(this)} value={this.state.autocomplete_value}/>\n          <i className=\"fa fa-times-circle-o\"></i>\n        </div>*/}\n        <ul className=\"topics-list\">{this.state.topics}</ul>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class SourcesBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"transcriptions_sources_list\")!==null && sessionStorage.getItem(\"transcriptions_sources_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_sources_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"sources\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_sources_list', JSON.stringify(data));\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let sourceLabel = dataItem.source;\n      if (dataItem.source===\"\") {\n        sourceLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.source}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.source}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{sourceLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"sources-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Sources</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class AuthorsBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"transcriptions_authors_list\")!==null && sessionStorage.getItem(\"transcriptions_authors_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_authors_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"authors\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_authors_list', JSON.stringify(data));\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let authorLabel = dataItem.creator;\n      if (dataItem.creator===\"\") {\n        authorLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.creator}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.creator}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{authorLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"authors-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Authors</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class GendersBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"transcriptions_genders_list\")!==null && sessionStorage.getItem(\"transcriptions_genders_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_genders_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"genders\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_genders_list', JSON.stringify(data));\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let genderLabel = dataItem.gender;\n      if (dataItem.gender===\"\") {\n        genderLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.gender}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.gender}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{genderLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <div>\n        <h5>Gender</h5>\n        <ul className=\"genders-list\">{this.state.items}</ul>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\n\nexport default class LanguageBlock extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      items: [],\n    }\n\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"transcriptions_languages_list\")!==null && sessionStorage.getItem(\"transcriptions_languages_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_languages_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"languages\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_languages_list', JSON.stringify(data));\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let items = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let languageLabel = dataItem.language;\n      if (dataItem.language===\"\") {\n        languageLabel = \"Unknown\";\n      }\n      let item = <li key={i} onClick={this.props.returnfunction.bind(this)}>\n        <span className=\"hidden\">{dataItem.language}</span>\n        <span className=\"select-source\">\n          <i className=\"fa fa-circle-o\">\n            <span className=\"hidden\">{dataItem.language}</span>\n          </i>\n        </span>\n        <span className=\"source-label\">{languageLabel} (<span className=\"count\" data-default={dataItem.count}>{dataItem.count}</span>)</span>\n        </li>;\n      items.push(item);\n\n    }\n    this.setState({\n      loading: false,\n      items: items\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n      content = <ul className=\"languages-list\">{this.state.items}</ul>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Language</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport axios from 'axios';\nimport ReactLoading from 'react-loading';\nimport {APIPath} from '../common/constants.js';\nimport DatePicker from './datepicker';\nimport moment from 'moment';\n\nexport default class DatecreatedBlock extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      startValue: null,\n      endValue: null,\n      startOpen: false,\n      endOpen: false,\n      calendarDates: [],\n      excludedDates: []\n    }\n    this.loadItems = this.loadItems.bind(this);\n    this.setItems = this.setItems.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.startDateClear = this.startDateClear.bind(this);\n    this.endDateClear = this.endDateClear.bind(this);\n  }\n\n  loadItems() {\n    if (sessionStorage.getItem(\"transcriptions_date_created_list\")!==null && sessionStorage.getItem(\"transcriptions_date_created_list\").length>0) {\n      let data = JSON.parse(sessionStorage.getItem(\"transcriptions_date_created_list\"));\n      this.setItems(data);\n    }\n    else {\n      let context = this;\n      axios.get(APIPath+\"date_created\")\n    \t  .then(function (response) {\n          let data = response.data.data;\n          sessionStorage.setItem('transcriptions_date_created_list', JSON.stringify(data));\n          context.setItems(data);\n        })\n        .catch(function (error) {\n    \t    console.log(error);\n    \t});\n    }\n  }\n\n  setItems(data) {\n    let calendarDates = [];\n    for (let i=0; i<data.length; i++) {\n      let dataItem = data[i];\n      let dateCreated = dataItem.date_created;\n      let dateArr = dateCreated.split(\"-\");\n      if (dateArr.length>=2) {\n        dateCreated = dateCreated.replace(\"T00:00:00\",\"\");\n        if (dateCreated.length===10) {\n          let newDate = moment(dateCreated);\n          if (!calendarDates.includes(newDate)) {\n            calendarDates.push(newDate);\n          }\n        }\n\n      }\n    }\n    this.setState({\n      loading: false,\n      calendarDates: calendarDates\n    });\n  }\n\n  updateItems(data) {\n    let dataToArr = Object.keys(data).map(function(key) {\n      return key;\n    });\n    let calendarDates = [];\n    for (let i=0;i<dataToArr.length; i++) {\n      let dateCreated = dataToArr[i];\n      let dateArr = dateCreated.split(\"-\");\n      if (dateArr.length>=2) {\n        dateCreated = dateCreated.replace(\"T00:00:00\",\"\");\n        if (dateCreated.length===10) {\n          let newDate = moment(dateCreated);\n          if (!calendarDates.includes(newDate)) {\n            calendarDates.push(newDate);\n          }\n        }\n      }\n    }\n    this.setState({\n      loading: false,\n      calendarDates: calendarDates\n    });\n  }\n\n  onChange (field, value){\n    if (field===\"endValue\" && this.state.startValue!==null) {\n      let startValue = moment(this.state.startValue);\n      let endValue = moment(value);\n      if (endValue<startValue) {\n        value = this.state.startValue;\n      }\n    }\n    this.setState({\n      [field]: value,\n    });\n  }\n\n  startDateClear() {\n    this.setState({\n      startValue: null\n    });\n  }\n\n  endDateClear() {\n    this.setState({\n      endValue: null\n    });\n  }\n\n  componentDidMount() {\n    this.loadItems();\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.startValue!==this.state.startValue || prevState.endValue!==this.state.endValue) {\n      let newStartValue = null;\n      let newEndValue = null;\n      if (this.state.startValue!==null) {\n        newStartValue = moment(this.state.startValue).format(\"YYYY-MM-DD\");\n      }\n      if (this.state.endValue!==null) {\n        newEndValue = moment(this.state.endValue).format(\"YYYY-MM-DD\");\n      }\n      let returnValues = {\n        startValue: newStartValue,\n        endValue: newEndValue\n      }\n      this.props.returnfunction(returnValues);\n    }\n    if (prevProps.availableDates!== this.props.availableDates) {\n      this.updateItems(this.props.availableDates);\n    }\n  }\n\n  render() {\n    let content;\n    if (this.state.loading) {\n      content = <div className=\"loader-container\">\n          <ReactLoading type='spinningBubbles' color='#738759' height={60} width={60} delay={0} />\n          </div>;\n    }\n    else {\n\n      content = <div className=\"row\">\n        <div className=\"col-xs-12\">\n          <DatePicker\n            placeholder=\"From\"\n            value={this.state.startValue}\n            onChange={this.onChange.bind(this, 'startValue')}\n            clearFunction={this.startDateClear}\n            dates={this.state.calendarDates}\n          />\n        </div>\n        <div className=\"col-xs-12\">\n          <DatePicker\n            placeholder=\"To\"\n            value={this.state.endValue}\n            onChange={this.onChange.bind(this, 'endValue')}\n            clearFunction={this.endDateClear}\n            dates={this.state.calendarDates}\n          />\n        </div>\n      </div>;\n    }\n    return (\n      <div className=\"topics-container\">\n        <h5>Date sent</h5>\n        {content}\n      </div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport ReactDOM from 'react-dom';\nimport axios from 'axios';\n//import ReactLoading from 'react-loading';\nimport {Link} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\nimport {DropdownButton, MenuItem} from 'react-bootstrap';\nimport {APIPath, domain} from '../common/constants.js';\nimport TopicsBlock from '../components/transcriptions-topics-block.js';\nimport SourcesBlock from '../components/transcriptions-sources-block.js';\nimport AuthorsBlock from '../components/transcriptions-authors-block.js';\nimport GendersBlock from '../components/transcriptions-genders-block.js';\nimport LanguagesBlock from '../components/transcriptions-languages-block.js';\nimport DatecreatedBlock from '../components/transcriptions-date_created-block.js';\nimport Pagination from '../helpers/pagination.js';\nimport {PreloaderCards,ToggleClass,ReplaceClass,Emptyitemscard,CompareFilterTopics,CompareFilterGeneral,SelectedTopicsChecked,SelectedFiltersChecked,fixImagePath,replaceAll} from '../helpers/helpers.js';\nimport {loadProgressBar} from 'axios-progress-bar';\nimport ProtectedPage from '../components/protected-page';\n\nexport class TranscriptionsDeskView extends Component {\n  constructor() {\n    super();\n    this.state = {\n      loading: true,\n      browseItems: [],\n      page: 1,\n      current_page: 1,\n      temp_page: 1,\n      total: 0,\n      paginate: 10,\n      paginationHTML: [],\n      length: 0,\n      firstLoad:1,\n      selectedTopics: [],\n      keywords_ids: [],\n      sources: [],\n      authors: [],\n      genders: [],\n      languages: [],\n      date_sent: [],\n      date_start: [],\n      date_end: [],\n      queryStatus: 0,\n      queryTranscriptionStatus: 0,\n      sort: \"asc\",\n    };\n\n    this.updatePage = this.updatePage.bind(this);\n    this.showPage = this.showPage.bind(this);\n    this.updatePaginate = this.updatePaginate.bind(this);\n    this.updateSort = this.updateSort.bind(this);\n    this.updatePageNumber = this.updatePageNumber.bind(this);\n    this.pageNumberSubmit = this.pageNumberSubmit.bind(this);\n    this.topicFilter = this.topicFilter.bind(this);\n    this.filterContent = this.filterContent.bind(this);\n    this.browserItems = this.browserItems.bind(this);\n    this.sourcesFilter = this.sourcesFilter.bind(this);\n    this.authorsFilter = this.authorsFilter.bind(this);\n    this.gendersFilter = this.gendersFilter.bind(this);\n    this.languagesFilter = this.languagesFilter.bind(this);\n    this.datecreatedFilter = this.datecreatedFilter.bind(this);\n    this.transcriptionStatus = this.transcriptionStatus.bind(this);\n    this.setSessionStorage = this.setSessionStorage.bind(this);\n    this.checkSessionStorage = this.checkSessionStorage.bind(this);\n    this.clearFilters = this.clearFilters.bind(this);\n\n  }\n\n  updatePage(e) {\n    if (e>0 && e!==this.state.current_page) {\n      this.setState({\n        loading:true,\n        current_page: e,\n        temp_page: e,\n      });\n    }\n\t}\n\n  updatePaginate(value) {\n    if (value!==this.state.paginate) {\n      this.setState({\n        paginate: value,\n        loading: true\n      });\n    }\n  }\n\n  updateSort(value) {\n    if (value!==this.state.sort) {\n      this.setState({\n        sort: value,\n        loading: true\n      });\n    }\n  }\n\n  updatePageNumber(e) {\n    this.setState({\n      temp_page:e.target.value\n    });\n  }\n\n  pageNumberSubmit(e) {\n    e.preventDefault();\n    let newPage = this.state.temp_page;\n    if (parseInt(newPage,10)!==this.state.current_page) {\n      this.setState({\n        current_page: newPage,\n        loading: true\n      });\n    }\n  }\n\n  topicFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-topic\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".topic-label\")[0];\n\n    let className = element.className;\n    let prevTopics = this.state.selectedTopics;\n    let selectedTopics = [];\n    for (let i=0;i<prevTopics.length;i++) {\n      selectedTopics.push(prevTopics[i]);\n    }\n    let currentId = element.getAttribute(\"data-id\");\n    if (className===\"fa fa-circle-o\") {\n      if (selectedTopics.indexOf(currentId)===-1) {\n        selectedTopics.push(currentId);\n      }\n    }\n    else {\n      if (selectedTopics.indexOf(currentId)>-1) {\n        let index = selectedTopics.indexOf(currentId);\n         selectedTopics.splice(index, 1);\n      }\n    }\n    this.setState({\n      loading:true,\n      selectedTopics: selectedTopics,\n      keywords_ids:selectedTopics\n    });\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n  }\n\n  sourcesFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevSources = this.state.sources;\n    let selectedSources = [];\n    for (let i=0;i<prevSources.length;i++) {\n      selectedSources.push(prevSources[i]);\n    }\n    let currentSource = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedSources.indexOf(currentSource)===-1) {\n        selectedSources.push(currentSource);\n      }\n    }\n    else {\n      if (selectedSources.indexOf(currentSource)>-1) {\n        let index = selectedSources.indexOf(currentSource);\n         selectedSources.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      sources: selectedSources\n    });\n  }\n\n  authorsFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevAuthors = this.state.authors;\n    let selectedAuthors = [];\n    for (let i=0;i<prevAuthors.length;i++) {\n      selectedAuthors.push(prevAuthors[i]);\n    }\n    let currentAuthor = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedAuthors.indexOf(currentAuthor)===-1) {\n        selectedAuthors.push(currentAuthor);\n      }\n    }\n    else {\n      if (selectedAuthors.indexOf(currentAuthor)>-1) {\n        let index = selectedAuthors.indexOf(currentAuthor);\n         selectedAuthors.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      authors: selectedAuthors\n    });\n\n  }\n\n  gendersFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevGenders = this.state.genders;\n    let selectedGenders = [];\n    for (let i=0;i<prevGenders.length;i++) {\n      selectedGenders.push(prevGenders[i]);\n    }\n    let currentGender = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedGenders.indexOf(currentGender)===-1) {\n        selectedGenders.push(currentGender);\n      }\n    }\n    else {\n      if (selectedGenders.indexOf(currentGender)>-1) {\n        let index = selectedGenders.indexOf(currentGender);\n         selectedGenders.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      genders: selectedGenders\n    });\n  }\n\n  languagesFilter(e) {\n    e.preventDefault();\n    let parent = e.currentTarget;\n    let element = parent.querySelectorAll(\".select-source\")[0].querySelectorAll(\"i\")[0];\n    let label = parent.querySelectorAll(\".source-label\")[0];\n\n    let className = element.className;\n    let prevLanguages = this.state.languages;\n    let selectedLanguages = [];\n    for (let i=0;i<prevLanguages.length;i++) {\n      selectedLanguages.push(prevLanguages[i]);\n    }\n    let currentLanguage = element.children[0].innerText;\n    if (className===\"fa fa-circle-o\") {\n      if (selectedLanguages.indexOf(currentLanguage)===-1) {\n        selectedLanguages.push(currentLanguage);\n      }\n    }\n    else {\n      if (selectedLanguages.indexOf(currentLanguage)>-1) {\n        let index = selectedLanguages.indexOf(currentLanguage);\n         selectedLanguages.splice(index, 1);\n      }\n    }\n    ToggleClass(element, \"fa-circle-o\", \"fa-check-circle-o\");\n    ToggleClass(label, \"\", \"active\");\n    this.setState({\n      loading:true,\n      languages: selectedLanguages\n    });\n  }\n\n  datecreatedFilter(value) {\n    let dateStart = value.startValue;\n    let dateEnd = value.endValue;\n    this.setState({\n      loading:true,\n      date_start: dateStart,\n      date_end: dateEnd,\n    });\n  }\n\n  selectedTopicsToggleChildren(parent, className) {\n    let selectedTopics = this.state.selectedTopics;\n    let children = ReactDOM.findDOMNode(parent).children;\n\n    if (typeof children[3]===\"object\") {\n      let childrenTopics = children[3];\n      let childrenLi = ReactDOM.findDOMNode(childrenTopics).children;\n\n      for (let i=0;i<childrenLi.length;i++) {\n        let liChildren = ReactDOM.findDOMNode(childrenLi[i]).children;\n        let selectTopicI = ReactDOM.findDOMNode(liChildren[0]).children;\n\n        let currentId = selectTopicI[0].getAttribute(\"data-id\");\n        if (className===\"fa fa-circle-o\") {\n          if (selectedTopics.indexOf(currentId)===-1) {\n            selectedTopics.push(currentId);\n          }\n        }\n        else {\n          if (selectedTopics.indexOf(currentId)>-1) {\n            let index = selectedTopics.indexOf(currentId);\n             selectedTopics.splice(index, 1);\n          }\n        }\n        if (typeof liChildren[3]===\"object\") {\n          let secondChild = ReactDOM.findDOMNode(liChildren[3]).parentNode;\n          this.selectedTopicsToggleChildren(secondChild, className);\n        }\n        let className1 = \"fa-check-circle-o\";\n        let className2 = \"fa-circle-o\";\n        if (className===\"fa fa-circle-o\") {\n          className1 = \"fa-circle-o\";\n          className2 = \"fa-check-circle-o\";\n        }\n        ReplaceClass(selectTopicI[0], className1, className2);\n      }\n    }\n    this.setState({selectedTopics: selectedTopics});\n  }\n\n  filterContent() {\n    let browseContext = this;\n    let path = APIPath+\"transcriptionsdeskfiltered\";\n    axios.get(path, {\n      params: {\n        sort: this.state.sort,\n        page: this.state.current_page,\n        paginate: this.state.paginate,\n        keywords: this.state.keywords_ids,\n        sources: this.state.sources,\n        authors: this.state.authors,\n        genders: this.state.genders,\n        languages: this.state.languages,\n        date_start: this.state.date_start,\n        date_end: this.state.date_end,\n        status: this.state.queryStatus,\n        transcription_status: this.state.queryTranscriptionStatus\n      }\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      let itemsData = responseData.data;\n      let browseItems = [];\n      if (typeof itemsData!==\"undefined\" && itemsData.length>0) {\n        browseItems = browseContext.browserItems(itemsData);\n      }\n      else browseItems = <Emptyitemscard />;\n      // update state\n      let currentPage = responseData.current_page;\n      if (responseData.last_page<responseData.current_page) {\n        currentPage = responseData.last_page;\n        browseContext.setState({\n          loading:false,\n          current_page: currentPage,\n          browseItems: browseItems,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      }\n      else {\n        browseContext.setState({\n          loading:false,\n          browseItems: browseItems,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      }\n\n\n      SelectedTopicsChecked(browseContext.state.keywords_ids);\n      SelectedFiltersChecked(\"sources-list\", browseContext.state.sources);\n      SelectedFiltersChecked(\"authors-list\", browseContext.state.authors);\n      SelectedFiltersChecked(\"genders-list\", browseContext.state.genders);\n      SelectedFiltersChecked(\"languages-list\", browseContext.state.languages);\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  updateFilters() {\n    let context = this;\n    let path = APIPath+\"transcriptionsdeskfilteredfilters\";\n    axios.get(path, {\n      params: {\n        sort: this.state.sort,\n        page: 1,\n        paginate: this.state.paginate,\n        keywords: this.state.keywords_ids,\n        sources: this.state.sources,\n        authors: this.state.authors,\n        genders: this.state.genders,\n        languages: this.state.languages,\n        date_start: this.state.date_start,\n        date_end: this.state.date_end,\n        status: this.state.queryStatus,\n        transcription_status: this.state.queryTranscriptionStatus\n      }\n    })\n    .then(function (response) {\n      let responseData = response.data.data;\n      // topics\n      let topics = responseData.keywords;\n      CompareFilterTopics(topics);\n\n      // sources\n      let sources = responseData.sources;\n      CompareFilterGeneral(\"sources-list\",sources);\n\n      // sources\n      let authors = responseData.authors;\n      CompareFilterGeneral(\"authors-list\",authors);\n\n      // genders\n      let genders = responseData.genders;\n      CompareFilterGeneral(\"genders-list\",genders);\n\n      // languages\n      let languages = responseData.languages;\n      CompareFilterGeneral(\"languages-list\",languages);\n\n      // dates\n      context.setState({\n        dates_sent: responseData.dates_sent\n      });\n    })\n    .catch(function (error) {\n      console.log(error);\n    });\n  }\n\n  clearFilters() {\n    if (\n      this.state.selectedTopics!==[] ||\n      this.state.keywords_ids!==[] ||\n      this.state.sources!==[] ||\n      this.state.authors!==[] ||\n      this.state.genders!==[] ||\n      this.state.languages!==[] ||\n      this.state.date_start!==[] ||\n      this.state.date_end!==[]\n    ) {\n      this.setState({\n        loading: true,\n        selectedTopics: [],\n        keywords_ids: [],\n        sources: [],\n        authors: [],\n        genders: [],\n        languages: [],\n        date_start: [],\n        date_end: [],\n      });\n    }\n  }\n\n  showPage() {\n    let browseContext = this;\n    let path = this.state.path;\n    axios.get(path, {\n        params: {\n          page: this.state.current_page,\n          sort: this.state.sort,\n          paginate: this.state.paginate\n        }\n      })\n  \t  .then(function (response) {\n        let responseData = response.data.data;\n        let itemsData = responseData.data;\n        let browseItems = [];\n        if (typeof itemsData!==\"undefined\") {\n          browseItems = browseContext.browserItems(itemsData);\n        }\n        // update state\n        browseContext.setState({\n          loading:false,\n          browseItems: browseItems,\n          current_page: responseData.current_page,\n          last_page: responseData.last_page,\n          total: responseData.total,\n          firstLoad:0\n        });\n      })\n  \t  .catch(function (error) {\n  \t    console.log(error);\n  \t});\n  }\n\n  browserItems(itemsData) {\n    // list of items to display\n    let browseItems = [];\n    for (let i=0; i<itemsData.length; i++) {\n      let item = itemsData[i];\n      let element = JSON.parse(item.element);\n      let defaultThumbnail;\n      if (element.pages.length>0) {\n        let thumbPath = fixImagePath(domain+\"/diyhistory/archive/square_thumbnails/\"+element.pages[0].archive_filename);\n        defaultThumbnail = <img className=\"img-responsive\" src={thumbPath} alt={element.title} />\n      }\n\n      var keywords = [];\n      for (var j=0;j<element.topics.length; j++) {\n        var topic = element.topics[j];\n        var comma = '';\n        if (j>0) comma = ', ';\n        var keyword = <span data-id={topic.topic_id} key={j}>{comma}{topic.topic_name}</span>;\n        keywords.push(keyword);\n      }\n      let transcription = \"\";\n      if (element.pages.length>0) {\n        let trascriptionStatusCompletion = item.completed+\"%\";\n\n        if (typeof element.pages[0].transcription !==\"undefined\" && element.pages[0].transcription!==\"\" &&\n        element.pages[0].transcription!==null\n      ) {\n          let transcriptionText = element.pages[0].transcription.replace(/<[^>]+>/ig,\" \");\n          transcriptionText = replaceAll(transcriptionText, \"&amp;\", \"&\");\n          transcriptionText = replaceAll(transcriptionText, \"&#39;\", \"'\");\n          if (transcriptionText.length>300) {\n            transcriptionText = transcriptionText.substring(0,300);\n          }\n\n          transcription = transcriptionText+\"...\";\n        }\n\n        let itemPath = { pathname: '/letter-transcribe/'+item.id, prevlocation: \"Transcription Desk\", prevlocationpath: \"/transcriptions-desk\" };\n        let browseItem = <li data-id={item.id} key={i} className=\"img-clearfix\">\n            <div className=\"list-thumbnail\">\n              <Link to={itemPath}>{defaultThumbnail}</Link>\n              <div className=\"clearfix\">\n                <small className=\"pull-left\">Completed</small>\n                <small className=\"pull-right\">{trascriptionStatusCompletion}</small>\n              </div>\n              <div className=\"progress xs\">\n                <div className=\"progress-bar progress-bar-green\" style={{width: trascriptionStatusCompletion}}></div>\n              </div>\n            </div>\n            <h4><Link to={itemPath}>{element.title}</Link></h4>\n            <span className='browse-item-keywords'>Keywords: {keywords}</span>\n            <p>{transcription}</p>\n          </li>;\n        browseItems.push(browseItem);\n      }\n    }\n    return browseItems;\n  }\n\n  transcriptionStatus(pages) {\n    let countPages = pages.length;\n    let completed = 0;\n    for(let j=0; j<countPages; j++) {\n      let pageTranscriptionStatus = pages[j].transcription_status;\n      if (parseInt(pageTranscriptionStatus,10)>0) {\n        completed++;\n      }\n    }\n    let trascriptionStatusCompletion = \"0%\";\n    if (completed>0) {\n      let percentage = (completed/countPages)*100;\n      trascriptionStatusCompletion = Math.round(parseFloat(percentage,10)).toFixed(0)+\"%\";\n    }\n    return trascriptionStatusCompletion;\n  }\n\n  checkSessionStorage() {\n    if (sessionStorage.getItem('transcriptions_desk')!==null) {\n      let storedState = JSON.parse(sessionStorage.getItem('transcriptions_desk'));\n      this.setState({\n        sort:storedState.sort,\n        current_page:storedState.current_page,\n        paginate:storedState.paginate,\n        keywords_ids:storedState.keywords_ids,\n        sources:storedState.sources,\n        authors:storedState.authors,\n        genders:storedState.genders,\n        languages:storedState.languages,\n        date_start:storedState.date_start,\n        date_end:storedState.date_end,\n        queryStatus:storedState.queryStatus,\n        queryTranscriptionStatus:storedState.queryTranscriptionStatus,\n      });\n    }\n  }\n\n  setSessionStorage() {\n    let newState = {\n      sort: this.state.sort,\n      current_page: this.state.current_page,\n      paginate: this.state.paginate,\n      keywords_ids: this.state.keywords_ids,\n      sources: this.state.sources,\n      authors: this.state.authors,\n      genders: this.state.genders,\n      languages: this.state.languages,\n      date_start: this.state.date_start,\n      date_end: this.state.date_end,\n      queryStatus: this.state.queryStatus,\n      queryTranscriptionStatus: this.state.queryTranscriptionStatus,\n    }\n    sessionStorage.setItem('transcriptions_desk', JSON.stringify(newState));\n  }\n\n  componentDidMount() {\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive==='true') {\n      loadProgressBar();\n      this.checkSessionStorage();\n      let context = this;\n      setTimeout(function() {\n        context.filterContent();\n        context.updateFilters();\n      },500);\n    }\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive) {\n      if (\n        prevState.loading!==this.state.loading &&\n        (\n          prevState.current_page!==this.state.current_page ||\n          prevState.paginate!==this.state.paginate ||\n          prevState.sort!==this.state.sort ||\n          prevState.keywords_ids!==this.state.keywords_ids ||\n          prevState.sources!==this.state.sources ||\n          prevState.authors!==this.state.authors ||\n          prevState.genders!==this.state.genders ||\n          prevState.languages!==this.state.languages ||\n          prevState.date_sent!==this.state.date_sent\n        )\n      )\n      {\n        this.setSessionStorage();\n        let context = this;\n        setTimeout(function() {\n          context.filterContent();\n          context.updateFilters();\n        },500);\n      }\n    }\n  }\n\n  render() {\n    let contentHTML,pageContent;\n    let contentTitle = \"Transcription Desk\";\n    let breadCrumbsArr = [];\n    let sessionActive = sessionStorage.getItem('sessionActive');\n\t\tif (sessionActive!=='true') {\n      contentHTML = <ProtectedPage\n        loginModalOpen={this.props.loginModalOpen}\n        />\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>{contentTitle}</h1>\n            <div className=\"item-container\">\n              {contentHTML}\n              </div>\n          </div>\n        </div>\n      </div>\n    }\n    else {\n      let content;\n      breadCrumbsArr = [{label:contentTitle, path: ''}];\n      if (this.state.loading && this.state.firstLoad===1) {\n        let browseItems = PreloaderCards(11);\n        content = <ul className=\"browse-items\">{browseItems}</ul>;\n      }\n      else if (this.state.loading && this.state.firstLoad===0){\n        content = <ul className=\"browse-items blur\">{this.state.browseItems}</ul>;\n      }\n      else {\n        content = <ul className=\"browse-items\">{this.state.browseItems}</ul>;\n      }\n\n      let activeDesc=\"\",activeAsc=\"\";\n      if (this.state.sort===\"desc\") {\n        activeDesc = \"active\";\n      }\n      if (this.state.sort===\"asc\") {\n        activeAsc = \"active\";\n      }\n      let paginate10Active=\"\",paginate25Active=\"\",paginate50Active=\"\";\n      if (this.state.paginate===10) {\n        paginate10Active = \"active\";\n      }\n      if (this.state.paginate===25) {\n        paginate25Active = \"active\";\n      }\n      if (this.state.paginate===50) {\n        paginate50Active = \"active\";\n      }\n\n      let paginationHTML = <div className=\"browse-filters\">\n        <DropdownButton\n          title=\"Sort\"\n          id=\"sort-filter\"\n          >\n          <MenuItem key=\"1\" onClick={this.updateSort.bind(this,\"asc\")} className={activeAsc}><i className=\"fa fa-sort-amount-asc\"></i> Completed Asc</MenuItem>\n          <MenuItem key=\"2\" onClick={this.updateSort.bind(this,\"desc\")} className={activeDesc}><i className=\"fa fa-sort-amount-desc\"></i> Completed Desc</MenuItem>\n        </DropdownButton>\n\n        <DropdownButton\n          title=\"Limit\"\n          id=\"limit-filter\"\n          >\n          <MenuItem key=\"1\" onClick={this.updatePaginate.bind(this,10)} className={paginate10Active}>10</MenuItem>\n          <MenuItem key=\"2\" onClick={this.updatePaginate.bind(this,25)} className={paginate25Active}>25</MenuItem>\n          <MenuItem key=\"3\" onClick={this.updatePaginate.bind(this,50)} className={paginate50Active}>50</MenuItem>\n        </DropdownButton>\n\n        <Pagination\n            paginate={this.state.paginate}\n            current_page={this.state.current_page}\n            total_pages={this.state.last_page}\n            pagination_function={this.updatePage} />\n\n          <form onSubmit={this.pageNumberSubmit} className=\"pagination-form\">\n            <div className=\"input-group input-group-sm go-to-page\">\n              <input className=\"form-control\" name=\"go-to-page\" onChange={this.updatePageNumber} value={this.state.temp_page}/>\n              <span className=\"input-group-addon\">/ {this.state.last_page}</span>\n              <span className=\"input-group-btn\">\n                <button type=\"submit\" className=\"btn btn-default btn-flat\"><i className=\"fa fa-chevron-right\"></i></button>\n              </span>\n            </div>\n          </form>\n        </div>;\n      pageContent = <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-3\">\n            <h3 className=\"column-title\">Filters\n              <small className=\"pull-right\" style={{cursor:\"pointer\"}} onClick={this.clearFilters} title=\"Clear all filters\">\n                clear all <i className=\"fa fa-times-circle-o\"></i>\n              </small>\n            </h3>\n          </div>\n          <div className=\"col-xs-12 col-sm-9\">\n            <h2>{contentTitle}</h2>\n          </div>\n        </div>\n        <div className=\"row\">\n          <div className=\"col-xs-12 col-sm-3\">\n            <TopicsBlock returnfunction={this.topicFilter} />\n            <SourcesBlock returnfunction={this.sourcesFilter} />\n            <AuthorsBlock returnfunction={this.authorsFilter} />\n            <GendersBlock returnfunction={this.gendersFilter} />\n            <LanguagesBlock returnfunction={this.languagesFilter} />\n            <DatecreatedBlock returnfunction={this.datecreatedFilter} availableDates={this.state.dates_sent}/>\n          </div>\n          <div className=\"col-xs-12 col-sm-9\">\n\n          {paginationHTML}\n          <div className=\"list-items-container\">\n            {content}\n          </div>\n          {paginationHTML}\n          </div>\n        </div>\n      </div>;\n    }\n    return (\n      <div>{pageContent}</div>\n    );\n  }\n}\n","import React, {Component} from 'react';\nimport {Link} from 'react-router-dom';\nimport BreadCrumbs from '../components/breadcrumbs';\n\nexport class NotFound extends Component {\n\n  render() {\n    let breadCrumbsArr =[{label:'Page Not Found',path:''}];\n    return (\n      <div className=\"container\">\n        <div className=\"row\">\n          <div className=\"col-xs-12\">\n            <BreadCrumbs items={breadCrumbsArr}></BreadCrumbs>\n            <h1>Page Not Found</h1>\n          </div>\n        </div>\n        <div className=\"item-container\">\n          <div className=\"row\">\n            <div className=\"col-xs-12\">\n              <div style={{padding: \"30px 0 50px 0\"}}>\n                <h3>The requested page does not exist.</h3>\n                <p>If you entered a web address please check it was correct.</p>\n                <p>You can search through <Link href=\"/fullsearch\" to=\"/fullsearch\">Letters 1916-1923</Link> or go back to our <Link to=\"/\" href=\"/\">homepage</Link>.</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport {BrowserRouter as Router, Route, Switch, Redirect} from 'react-router-dom';\nimport 'axios-progress-bar/dist/nprogress.css';\nimport './assets/bootstrap/css/bootstrap.min.css';\nimport './assets/font-awesome/css/font-awesome.min.css';\nimport './assets/open-sans/css/open-sans.css';\nimport 'owl.carousel/dist/assets/owl.carousel.css';\nimport 'owl.carousel/dist/assets/owl.theme.default.css';\nimport './App.css';\nimport {APIPath,basename} from './common/constants.js';\nimport {Helmet} from \"react-helmet\";\nimport {preloadContent} from './helpers/preload-content.js';\n\n// components\nimport PageHeader from './common/header';\nimport PageFooter from './common/footer';\nimport Navbar from './components/navbar';\nimport ScrollToTop from './components/scrolltotop';\nimport CookiesConsent from './components/cookies-consent';\n\n\n// views\nimport {HomeView} from './views/home.js';\nimport {SearchView} from './views/search.js';\nimport {BrowseView} from './views/browse.js';\nimport {PasswordRestoreView} from './views/password.restore.js';\nimport {PasswordResetView} from './views/password.reset.js';\nimport {RegisterView} from './views/register.js';\nimport {VerifyAccountView} from './views/verify-account.js';\nimport {ItemView} from './views/item.js';\nimport {UploadXML} from './views/upload-xml.js';\nimport {ContentView} from './views/content.js';\nimport {WPContentView} from './views/wp-content.js';\nimport {WPCategoryView} from './views/wp-category.js';\nimport {WPPagesView} from './views/wp-pages.js';\nimport {BlankView} from './views/blank.js';\nimport {VizualizationsView} from './views/vizualizations.js';\nimport {TranscriptionLetterView} from './views/transcription-letter.js';\nimport {UserProfileView} from './views/user-profile.js';\nimport {UserLetterView} from './views/user-letter.js';\nimport {UserLettersView} from './views/user-letters.js';\nimport {UserTranscriptionsView} from './views/user-transcriptions.js';\nimport {TranscriptionsDeskView} from './views/transcriptions-desk.js';\nimport {NotFound} from './views/404.js';\n\nimport {checkSessionCookies,sessionCookie,getCookie} from './helpers/helpers.js';\n\nclass App extends Component {\n  constructor() {\n    super();\n\n    this.state={\n      isAdmin: false,\n      loginModalVisile: false\n    }\n    this.checkAdminState = this.checkAdminState.bind(this);\n\n    // login modal\n    this.loginModalOpen = this.loginModalOpen.bind(this);\n    this.loginModalHide = this.loginModalHide.bind(this);\n  }\n\n  checkAdminState() {\n    let sessionActive = sessionStorage.getItem('sessionActive');\n    if (sessionActive) {\n      let context = this;\n      let accessToken = sessionStorage.getItem('accessToken');\n      axios.defaults.headers.common['Authorization'] = 'Bearer '+accessToken;\n      axios.get(APIPath+'user-profile')\n      .then(function (response) {\n        let status = response.data.status;\n        if (typeof status!== undefined && status===true) {\n          let roles = response.data.data.roles;\n          let isAdmin = false;\n          for (let i=0;i<roles.length; i++) {\n            let role = roles[i];\n            if (role.is_admin===1) {\n              isAdmin = true;\n            }\n          }\n          context.setState({\n            isAdmin: isAdmin\n          });\n        }\n      })\n      .catch(function (error) {\n        if (error.response) {\n          if (error.response.status===401) {\n            if (getCookie('letterssessionactive')===\"true\") {\n          \t\tsessionStorage.setItem('sessionActive', false);\n          \t\tsessionStorage.setItem('accessToken', '');\n          \t\tsessionStorage.setItem('userName', '');\n          \t\tsessionCookie('', false, '', true);\n        \t\t\tsetTimeout(function() {\n        \t\t\t\twindow.location.reload();\n        \t\t\t},2000);\n            }\n          }\n        }\n      });\n    }\n  }\n\n  componentWillMount() {\n    checkSessionCookies();\n    this.checkAdminState();\n  }\n\n  componentDidMount() {\n    preloadContent();\n  }\n\n  loginModalHide() {\n\t\tthis.setState({ loginModalVisile: false });\n\t}\n\n\tloginModalOpen() {\n\t\tthis.setState({ loginModalVisile: true });\n\t}\n\n  render() {\n    return (\n      <Router basename={basename}>\n        <div className=\"App\">\n          <Helmet htmlAttributes={{ lang : \"en\" }}/>\n          <PageHeader\n            loginModalVisile={this.state.loginModalVisile}\n            loginModalHide={this.loginModalHide}\n            loginModalOpen={this.loginModalOpen}\n            />\n          <Navbar></Navbar>\n          <div className=\"wrapper main-body\">\n            <Switch>\n              <Route exact path=\"/\" component={HomeView}/>\n              <Route path=\"/blank\" component={BlankView}/>\n              <Route path=\"/browse\" component={BrowseView}/>\n              <Route path=\"/content/:contentName\" component={ContentView}/>\n              <Route path=\"/fullsearch/:term\" component={SearchView}/>\n              <Route path=\"/fullsearch\" component={SearchView}/>\n              <Route path=\"/item/:itemId\" component={props=><ItemView\n                isAdmin={this.state.isAdmin}\n                {...props} />} />\n              <Route path=\"/letter/:letterId\" component={props=><ItemView\n                isAdmin={this.state.isAdmin}\n                {...props} />} />\n              <Route path=\"/letter-transcribe/:itemId\" component={props=><TranscriptionLetterView\n                isAdmin={this.state.isAdmin}\n                loginModalVisile={this.state.loginModalVisile}\n                loginModalHide={this.loginModalHide}\n                loginModalOpen={this.loginModalOpen}\n                {...props} />} />\n              <Route path=\"/password-restore\" component={PasswordRestoreView}/>\n              <Route path=\"/password-reset/:token\" component={PasswordResetView}/>\n              <Route path=\"/register\" component={RegisterView}/>\n              <Route path=\"/verify-account/:activation_code\" component={VerifyAccountView}/>\n              <Route path=\"/transcriptions-desk\" component={props=><TranscriptionsDeskView\n                 loginModalVisile={this.state.loginModalVisile}\n                 loginModalHide={this.loginModalHide}\n                 loginModalOpen={this.loginModalOpen}\n                 {...props} />} />\n              <Route path=\"/upload-xml\" component={props=><UploadXML\n                  isAdmin={this.state.isAdmin}\n                  loginModalVisile={this.state.loginModalVisile}\n                  loginModalHide={this.loginModalHide}\n                  loginModalOpen={this.loginModalOpen}\n                  {...props} />}/>\n              <Route path=\"/user-letter/:letterId\" component={props=><UserLetterView\n                  isAdmin={this.state.isAdmin}\n                  loginModalVisile={this.state.loginModalVisile}\n                  loginModalHide={this.loginModalHide}\n                  loginModalOpen={this.loginModalOpen}\n                  {...props} />} />\n              <Route path=\"/user-letters\" component={props=><UserLettersView\n                  loginModalVisile={this.state.loginModalVisile}\n                  loginModalHide={this.loginModalHide}\n                  loginModalOpen={this.loginModalOpen}\n                  {...props} />} />\n              <Route path=\"/user-profile\" component={props=><UserProfileView\n                  loginModalVisile={this.state.loginModalVisile}\n                  loginModalHide={this.loginModalHide}\n                  loginModalOpen={this.loginModalOpen}\n                  {...props} />} />\n              <Route path=\"/user-transcriptions\" component={props=><UserTranscriptionsView\n                  loginModalVisile={this.state.loginModalVisile}\n                  loginModalHide={this.loginModalHide}\n                  loginModalOpen={this.loginModalOpen}\n                  {...props} />} />\n              <Route path=\"/vizualizations/:type\" component={VizualizationsView}/>\n              <Route path=\"/wp-post/:slug\" component={WPContentView}/>\n              <Route path=\"/wp-category/:slug\" component={WPCategoryView}/>\n              <Route path=\"/wp-page/:slug\" component={WPPagesView}/>\n              <Route path=\"/404\" component={NotFound}/>\n              <Redirect to='/404' />\n            </Switch>\n          </div>\n          <PageFooter/>\n          <CookiesConsent/>\n          <ScrollToTop/>\n        </div>\n      </Router>\n    );\n  }\n}\n\nexport default App;\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './assets/jquery/include';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}